var Xp=Object.defineProperty;var Qp=(e,t,i)=>t in e?Xp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var Q=(e,t,i)=>(Qp(e,typeof t!="symbol"?t+"":t,i),i);import{s as Pn,g as Ru,n as Gt,r as no,o as Tn,x as Jp,b as ss,c as tm}from"../chunks/scheduler.DW9KkVYI.js";import{S as Dn,i as Ln,e as K,t as Wt,s as _t,c as X,a as at,b as Yt,d as W,f as gt,l as je,m as rt,g as bt,h as B,A as nr,B as ce,C as yi,D as Qe,j as Oe,E as zu,n as Kn,k as em,q as Re,p as Fu,o as ii,F as Rh,u as Nu,w as Xn,x as Qn,y as Jn,z as ts,r as ks}from"../chunks/index.zzyvqDcF.js";import{_ as im}from"../chunks/preload-helper.D6kgxu3v.js";import{w as nm}from"../chunks/index.C774K7Pp.js";function sm(e,t){for(var i=0;i<t.length;i++){const n=t[i];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const r=Object.getOwnPropertyDescriptor(n,o);r&&Object.defineProperty(e,o,r.get?r:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function he(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}const Kk=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sa={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(i,n){n(t)})(Bu,function(i){var n="1.9.4";function o(s){var a,u,f,_;for(u=1,f=arguments.length;u<f;u++){_=arguments[u];for(a in _)s[a]=_[a]}return s}var r=Object.create||function(){function s(){}return function(a){return s.prototype=a,new s}}();function l(s,a){var u=Array.prototype.slice;if(s.bind)return s.bind.apply(s,u.call(arguments,1));var f=u.call(arguments,2);return function(){return s.apply(a,f.length?f.concat(u.call(arguments)):arguments)}}var h=0;function c(s){return"_leaflet_id"in s||(s._leaflet_id=++h),s._leaflet_id}function d(s,a,u){var f,_,b,T;return T=function(){f=!1,_&&(b.apply(u,_),_=!1)},b=function(){f?_=arguments:(s.apply(u,arguments),setTimeout(T,a),f=!0)},b}function p(s,a,u){var f=a[1],_=a[0],b=f-_;return s===f&&u?s:((s-_)%b+b)%b+_}function m(){return!1}function g(s,a){if(a===!1)return s;var u=Math.pow(10,a===void 0?6:a);return Math.round(s*u)/u}function y(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function x(s){return y(s).split(/\s+/)}function v(s,a){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?r(s.options):{});for(var u in a)s.options[u]=a[u];return s.options}function w(s,a,u){var f=[];for(var _ in s)f.push(encodeURIComponent(u?_.toUpperCase():_)+"="+encodeURIComponent(s[_]));return(!a||a.indexOf("?")===-1?"?":"&")+f.join("&")}var M=/\{ *([\w_ -]+) *\}/g;function P(s,a){return s.replace(M,function(u,f){var _=a[f];if(_===void 0)throw new Error("No value provided for variable "+u);return typeof _=="function"&&(_=_(a)),_})}var C=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function D(s,a){for(var u=0;u<s.length;u++)if(s[u]===a)return u;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var N=0;function k(s){var a=+new Date,u=Math.max(0,16-(a-N));return N=a+u,window.setTimeout(s,u)}var S=window.requestAnimationFrame||I("RequestAnimationFrame")||k,A=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function E(s,a,u){if(u&&S===k)s.call(a);else return S.call(window,l(s,a))}function z(s){s&&A.call(window,s)}var U={__proto__:null,extend:o,create:r,bind:l,get lastId(){return h},stamp:c,throttle:d,wrapNum:p,falseFn:m,formatNum:g,trim:y,splitWords:x,setOptions:v,getParamString:w,template:P,isArray:C,indexOf:D,emptyImageUrl:O,requestFn:S,cancelFn:A,requestAnimFrame:E,cancelAnimFrame:z};function j(){}j.extend=function(s){var a=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=a.__super__=this.prototype,f=r(u);f.constructor=a,a.prototype=f;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(a[_]=this[_]);return s.statics&&o(a,s.statics),s.includes&&(st(s.includes),o.apply(null,[f].concat(s.includes))),o(f,s),delete f.statics,delete f.includes,f.options&&(f.options=u.options?r(u.options):{},o(f.options,s.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var b=0,T=f._initHooks.length;b<T;b++)f._initHooks[b].call(this)}},a},j.include=function(s){var a=this.prototype.options;return o(this.prototype,s),s.options&&(this.prototype.options=a,this.mergeOptions(s.options)),this},j.mergeOptions=function(s){return o(this.prototype.options,s),this},j.addInitHook=function(s){var a=Array.prototype.slice.call(arguments,1),u=typeof s=="function"?s:function(){this[s].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function st(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=C(s)?s:[s];for(var a=0;a<s.length;a++)s[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var tt={on:function(s,a,u){if(typeof s=="object")for(var f in s)this._on(f,s[f],a);else{s=x(s);for(var _=0,b=s.length;_<b;_++)this._on(s[_],a,u)}return this},off:function(s,a,u){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var f in s)this._off(f,s[f],a);else{s=x(s);for(var _=arguments.length===1,b=0,T=s.length;b<T;b++)_?this._off(s[b]):this._off(s[b],a,u)}return this},_on:function(s,a,u,f){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(s,a,u)===!1){u===this&&(u=void 0);var _={fn:a,ctx:u};f&&(_.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(_)}},_off:function(s,a,u){var f,_,b;if(this._events&&(f=this._events[s],!!f)){if(arguments.length===1){if(this._firingCount)for(_=0,b=f.length;_<b;_++)f[_].fn=m;delete this._events[s];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var T=this._listens(s,a,u);if(T!==!1){var R=f[T];this._firingCount&&(R.fn=m,this._events[s]=f=f.slice()),f.splice(T,1)}}},fire:function(s,a,u){if(!this.listens(s,u))return this;var f=o({},a,{type:s,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var _=this._events[s];if(_){this._firingCount=this._firingCount+1||1;for(var b=0,T=_.length;b<T;b++){var R=_[b],F=R.fn;R.once&&this.off(s,F,R.ctx),F.call(R.ctx||this,f)}this._firingCount--}}return u&&this._propagateEvent(f),this},listens:function(s,a,u,f){typeof s!="string"&&console.warn('"string" type argument expected');var _=a;typeof a!="function"&&(f=!!a,_=void 0,u=void 0);var b=this._events&&this._events[s];if(b&&b.length&&this._listens(s,_,u)!==!1)return!0;if(f){for(var T in this._eventParents)if(this._eventParents[T].listens(s,a,u,f))return!0}return!1},_listens:function(s,a,u){if(!this._events)return!1;var f=this._events[s]||[];if(!a)return!!f.length;u===this&&(u=void 0);for(var _=0,b=f.length;_<b;_++)if(f[_].fn===a&&f[_].ctx===u)return _;return!1},once:function(s,a,u){if(typeof s=="object")for(var f in s)this._on(f,s[f],a,!0);else{s=x(s);for(var _=0,b=s.length;_<b;_++)this._on(s[_],a,u,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[c(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[c(s)],this},_propagateEvent:function(s){for(var a in this._eventParents)this._eventParents[a].fire(s.type,o({layer:s.target,propagatedFrom:s.target},s),!0)}};tt.addEventListener=tt.on,tt.removeEventListener=tt.clearAllEventListeners=tt.off,tt.addOneTimeEventListener=tt.once,tt.fireEvent=tt.fire,tt.hasEventListeners=tt.listens;var H=j.extend(tt);function V(s,a,u){this.x=u?Math.round(s):s,this.y=u?Math.round(a):a}var Z=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(s){return this.clone()._add(J(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(J(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new V(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new V(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Z(this.x),this.y=Z(this.y),this},distanceTo:function(s){s=J(s);var a=s.x-this.x,u=s.y-this.y;return Math.sqrt(a*a+u*u)},equals:function(s){return s=J(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=J(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function J(s,a,u){return s instanceof V?s:C(s)?new V(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new V(s.x,s.y):new V(s,a,u)}function ft(s,a){if(s)for(var u=a?[s,a]:s,f=0,_=u.length;f<_;f++)this.extend(u[f])}ft.prototype={extend:function(s){var a,u;if(!s)return this;if(s instanceof V||typeof s[0]=="number"||"x"in s)a=u=J(s);else if(s=q(s),a=s.min,u=s.max,!a||!u)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=u.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(s){return J((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return J(this.min.x,this.max.y)},getTopRight:function(){return J(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var a,u;return typeof s[0]=="number"||s instanceof V?s=J(s):s=q(s),s instanceof ft?(a=s.min,u=s.max):a=u=s,a.x>=this.min.x&&u.x<=this.max.x&&a.y>=this.min.y&&u.y<=this.max.y},intersects:function(s){s=q(s);var a=this.min,u=this.max,f=s.min,_=s.max,b=_.x>=a.x&&f.x<=u.x,T=_.y>=a.y&&f.y<=u.y;return b&&T},overlaps:function(s){s=q(s);var a=this.min,u=this.max,f=s.min,_=s.max,b=_.x>a.x&&f.x<u.x,T=_.y>a.y&&f.y<u.y;return b&&T},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var a=this.min,u=this.max,f=Math.abs(a.x-u.x)*s,_=Math.abs(a.y-u.y)*s;return q(J(a.x-f,a.y-_),J(u.x+f,u.y+_))},equals:function(s){return s?(s=q(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function q(s,a){return!s||s instanceof ft?s:new ft(s,a)}function dt(s,a){if(s)for(var u=a?[s,a]:s,f=0,_=u.length;f<_;f++)this.extend(u[f])}dt.prototype={extend:function(s){var a=this._southWest,u=this._northEast,f,_;if(s instanceof ot)f=s,_=s;else if(s instanceof dt){if(f=s._southWest,_=s._northEast,!f||!_)return this}else return s?this.extend(it(s)||ct(s)):this;return!a&&!u?(this._southWest=new ot(f.lat,f.lng),this._northEast=new ot(_.lat,_.lng)):(a.lat=Math.min(f.lat,a.lat),a.lng=Math.min(f.lng,a.lng),u.lat=Math.max(_.lat,u.lat),u.lng=Math.max(_.lng,u.lng)),this},pad:function(s){var a=this._southWest,u=this._northEast,f=Math.abs(a.lat-u.lat)*s,_=Math.abs(a.lng-u.lng)*s;return new dt(new ot(a.lat-f,a.lng-_),new ot(u.lat+f,u.lng+_))},getCenter:function(){return new ot((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ot(this.getNorth(),this.getWest())},getSouthEast:function(){return new ot(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ot||"lat"in s?s=it(s):s=ct(s);var a=this._southWest,u=this._northEast,f,_;return s instanceof dt?(f=s.getSouthWest(),_=s.getNorthEast()):f=_=s,f.lat>=a.lat&&_.lat<=u.lat&&f.lng>=a.lng&&_.lng<=u.lng},intersects:function(s){s=ct(s);var a=this._southWest,u=this._northEast,f=s.getSouthWest(),_=s.getNorthEast(),b=_.lat>=a.lat&&f.lat<=u.lat,T=_.lng>=a.lng&&f.lng<=u.lng;return b&&T},overlaps:function(s){s=ct(s);var a=this._southWest,u=this._northEast,f=s.getSouthWest(),_=s.getNorthEast(),b=_.lat>a.lat&&f.lat<u.lat,T=_.lng>a.lng&&f.lng<u.lng;return b&&T},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,a){return s?(s=ct(s),this._southWest.equals(s.getSouthWest(),a)&&this._northEast.equals(s.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ct(s,a){return s instanceof dt?s:new dt(s,a)}function ot(s,a,u){if(isNaN(s)||isNaN(a))throw new Error("Invalid LatLng object: ("+s+", "+a+")");this.lat=+s,this.lng=+a,u!==void 0&&(this.alt=+u)}ot.prototype={equals:function(s,a){if(!s)return!1;s=it(s);var u=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return u<=(a===void 0?1e-9:a)},toString:function(s){return"LatLng("+g(this.lat,s)+", "+g(this.lng,s)+")"},distanceTo:function(s){return Nt.distance(this,it(s))},wrap:function(){return Nt.wrapLatLng(this)},toBounds:function(s){var a=180*s/40075017,u=a/Math.cos(Math.PI/180*this.lat);return ct([this.lat-a,this.lng-u],[this.lat+a,this.lng+u])},clone:function(){return new ot(this.lat,this.lng,this.alt)}};function it(s,a,u){return s instanceof ot?s:C(s)&&typeof s[0]!="object"?s.length===3?new ot(s[0],s[1],s[2]):s.length===2?new ot(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ot(s.lat,"lng"in s?s.lng:s.lon,s.alt):a===void 0?null:new ot(s,a,u)}var Et={latLngToPoint:function(s,a){var u=this.projection.project(s),f=this.scale(a);return this.transformation._transform(u,f)},pointToLatLng:function(s,a){var u=this.scale(a),f=this.transformation.untransform(s,u);return this.projection.unproject(f)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var a=this.projection.bounds,u=this.scale(s),f=this.transformation.transform(a.min,u),_=this.transformation.transform(a.max,u);return new ft(f,_)},infinite:!1,wrapLatLng:function(s){var a=this.wrapLng?p(s.lng,this.wrapLng,!0):s.lng,u=this.wrapLat?p(s.lat,this.wrapLat,!0):s.lat,f=s.alt;return new ot(u,a,f)},wrapLatLngBounds:function(s){var a=s.getCenter(),u=this.wrapLatLng(a),f=a.lat-u.lat,_=a.lng-u.lng;if(f===0&&_===0)return s;var b=s.getSouthWest(),T=s.getNorthEast(),R=new ot(b.lat-f,b.lng-_),F=new ot(T.lat-f,T.lng-_);return new dt(R,F)}},Nt=o({},Et,{wrapLng:[-180,180],R:6371e3,distance:function(s,a){var u=Math.PI/180,f=s.lat*u,_=a.lat*u,b=Math.sin((a.lat-s.lat)*u/2),T=Math.sin((a.lng-s.lng)*u/2),R=b*b+Math.cos(f)*Math.cos(_)*T*T,F=2*Math.atan2(Math.sqrt(R),Math.sqrt(1-R));return this.R*F}}),ut=6378137,Tt={R:ut,MAX_LATITUDE:85.0511287798,project:function(s){var a=Math.PI/180,u=this.MAX_LATITUDE,f=Math.max(Math.min(u,s.lat),-u),_=Math.sin(f*a);return new V(this.R*s.lng*a,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(s){var a=180/Math.PI;return new ot((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*a,s.x*a/this.R)},bounds:function(){var s=ut*Math.PI;return new ft([-s,-s],[s,s])}()};function Bt(s,a,u,f){if(C(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=a,this._c=u,this._d=f}Bt.prototype={transform:function(s,a){return this._transform(s.clone(),a)},_transform:function(s,a){return a=a||1,s.x=a*(this._a*s.x+this._b),s.y=a*(this._c*s.y+this._d),s},untransform:function(s,a){return a=a||1,new V((s.x/a-this._b)/this._a,(s.y/a-this._d)/this._c)}};function jt(s,a,u,f){return new Bt(s,a,u,f)}var At=o({},Nt,{code:"EPSG:3857",projection:Tt,transformation:function(){var s=.5/(Math.PI*Tt.R);return jt(s,.5,-s,.5)}()}),fe=o({},At,{code:"EPSG:900913"});function Qt(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function zt(s,a){var u="",f,_,b,T,R,F;for(f=0,b=s.length;f<b;f++){for(R=s[f],_=0,T=R.length;_<T;_++)F=R[_],u+=(_?"L":"M")+F.x+" "+F.y;u+=a?lt.svg?"z":"x":""}return u||"M0 0"}var Se=document.documentElement.style,_e="ActiveXObject"in window,Fe=_e&&!document.addEventListener,Ne="msLaunchUri"in navigator&&!("documentMode"in document),ve=hi("webkit"),Ht=hi("android"),te=hi("android 2")||hi("android 3"),ki=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),It=Ht&&hi("Google")&&ki<537&&!("AudioNode"in window),ri=!!window.opera,Be=!Ne&&hi("chrome"),ai=hi("gecko")&&!ve&&!ri&&!_e,li=!Be&&hi("safari"),Ge=hi("phantom"),qe="OTransition"in Se,Te=navigator.platform.indexOf("Win")===0,sn=_e&&"transition"in Se,be="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!te,ls="MozPerspective"in Se,hs=!window.L_DISABLE_3D&&(sn||be||ls)&&!qe&&!Ge,cs=typeof orientation<"u"||hi("mobile"),If=cs&&ve,Rf=cs&&be,Fl=!window.PointerEvent&&window.MSPointerEvent,Nl=!!(window.PointerEvent||Fl),Bl="ontouchstart"in window||!!window.TouchEvent,zf=!window.L_NO_TOUCH&&(Bl||Nl),Ff=cs&&ri,Nf=cs&&ai,Bf=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Wf=function(){var s=!1;try{var a=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",m,a),window.removeEventListener("testPassiveEventSupport",m,a)}catch{}return s}(),Yf=function(){return!!document.createElement("canvas").getContext}(),zr=!!(document.createElementNS&&Qt("svg").createSVGRect),Hf=!!zr&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Vf=!zr&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var a=s.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),Zf=navigator.platform.indexOf("Mac")===0,jf=navigator.platform.indexOf("Linux")===0;function hi(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var lt={ie:_e,ielt9:Fe,edge:Ne,webkit:ve,android:Ht,android23:te,androidStock:It,opera:ri,chrome:Be,gecko:ai,safari:li,phantom:Ge,opera12:qe,win:Te,ie3d:sn,webkit3d:be,gecko3d:ls,any3d:hs,mobile:cs,mobileWebkit:If,mobileWebkit3d:Rf,msPointer:Fl,pointer:Nl,touch:zf,touchNative:Bl,mobileOpera:Ff,mobileGecko:Nf,retina:Bf,passiveEvents:Wf,canvas:Yf,svg:zr,vml:Vf,inlineSvg:Hf,mac:Zf,linux:jf},Wl=lt.msPointer?"MSPointerDown":"pointerdown",Yl=lt.msPointer?"MSPointerMove":"pointermove",Hl=lt.msPointer?"MSPointerUp":"pointerup",Vl=lt.msPointer?"MSPointerCancel":"pointercancel",Fr={touchstart:Wl,touchmove:Yl,touchend:Hl,touchcancel:Vl},Zl={touchstart:Xf,touchmove:uo,touchend:uo,touchcancel:uo},En={},jl=!1;function Uf(s,a,u){return a==="touchstart"&&Kf(),Zl[a]?(u=Zl[a].bind(this,u),s.addEventListener(Fr[a],u,!1),u):(console.warn("wrong event specified:",a),m)}function $f(s,a,u){if(!Fr[a]){console.warn("wrong event specified:",a);return}s.removeEventListener(Fr[a],u,!1)}function Gf(s){En[s.pointerId]=s}function qf(s){En[s.pointerId]&&(En[s.pointerId]=s)}function Ul(s){delete En[s.pointerId]}function Kf(){jl||(document.addEventListener(Wl,Gf,!0),document.addEventListener(Yl,qf,!0),document.addEventListener(Hl,Ul,!0),document.addEventListener(Vl,Ul,!0),jl=!0)}function uo(s,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var u in En)a.touches.push(En[u]);a.changedTouches=[a],s(a)}}function Xf(s,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&ge(a),uo(s,a)}function Qf(s){var a={},u,f;for(f in s)u=s[f],a[f]=u&&u.bind?u.bind(s):u;return s=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var Jf=200;function tp(s,a){s.addEventListener("dblclick",a);var u=0,f;function _(b){if(b.detail!==1){f=b.detail;return}if(!(b.pointerType==="mouse"||b.sourceCapabilities&&!b.sourceCapabilities.firesTouchEvents)){var T=Xl(b);if(!(T.some(function(F){return F instanceof HTMLLabelElement&&F.attributes.for})&&!T.some(function(F){return F instanceof HTMLInputElement||F instanceof HTMLSelectElement}))){var R=Date.now();R-u<=Jf?(f++,f===2&&a(Qf(b))):f=1,u=R}}}return s.addEventListener("click",_),{dblclick:a,simDblclick:_}}function ep(s,a){s.removeEventListener("dblclick",a.dblclick),s.removeEventListener("click",a.simDblclick)}var Nr=mo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),us=mo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),$l=us==="webkitTransition"||us==="OTransition"?us+"End":"transitionend";function Gl(s){return typeof s=="string"?document.getElementById(s):s}function ds(s,a){var u=s.style[a]||s.currentStyle&&s.currentStyle[a];if((!u||u==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(s,null);u=f?f[a]:null}return u==="auto"?null:u}function Lt(s,a,u){var f=document.createElement(s);return f.className=a||"",u&&u.appendChild(f),f}function ee(s){var a=s.parentNode;a&&a.removeChild(s)}function fo(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function An(s){var a=s.parentNode;a&&a.lastChild!==s&&a.appendChild(s)}function In(s){var a=s.parentNode;a&&a.firstChild!==s&&a.insertBefore(s,a.firstChild)}function Br(s,a){if(s.classList!==void 0)return s.classList.contains(a);var u=po(s);return u.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(u)}function xt(s,a){if(s.classList!==void 0)for(var u=x(a),f=0,_=u.length;f<_;f++)s.classList.add(u[f]);else if(!Br(s,a)){var b=po(s);Wr(s,(b?b+" ":"")+a)}}function se(s,a){s.classList!==void 0?s.classList.remove(a):Wr(s,y((" "+po(s)+" ").replace(" "+a+" "," ")))}function Wr(s,a){s.className.baseVal===void 0?s.className=a:s.className.baseVal=a}function po(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function We(s,a){"opacity"in s.style?s.style.opacity=a:"filter"in s.style&&ip(s,a)}function ip(s,a){var u=!1,f="DXImageTransform.Microsoft.Alpha";try{u=s.filters.item(f)}catch{if(a===1)return}a=Math.round(a*100),u?(u.Enabled=a!==100,u.Opacity=a):s.style.filter+=" progid:"+f+"(opacity="+a+")"}function mo(s){for(var a=document.documentElement.style,u=0;u<s.length;u++)if(s[u]in a)return s[u];return!1}function on(s,a,u){var f=a||new V(0,0);s.style[Nr]=(lt.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(u?" scale("+u+")":"")}function ae(s,a){s._leaflet_pos=a,lt.any3d?on(s,a):(s.style.left=a.x+"px",s.style.top=a.y+"px")}function rn(s){return s._leaflet_pos||new V(0,0)}var fs,ps,Yr;if("onselectstart"in document)fs=function(){mt(window,"selectstart",ge)},ps=function(){Vt(window,"selectstart",ge)};else{var ms=mo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fs=function(){if(ms){var s=document.documentElement.style;Yr=s[ms],s[ms]="none"}},ps=function(){ms&&(document.documentElement.style[ms]=Yr,Yr=void 0)}}function Hr(){mt(window,"dragstart",ge)}function Vr(){Vt(window,"dragstart",ge)}var _o,Zr;function jr(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(go(),_o=s,Zr=s.style.outlineStyle,s.style.outlineStyle="none",mt(window,"keydown",go))}function go(){_o&&(_o.style.outlineStyle=Zr,_o=void 0,Zr=void 0,Vt(window,"keydown",go))}function ql(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Ur(s){var a=s.getBoundingClientRect();return{x:a.width/s.offsetWidth||1,y:a.height/s.offsetHeight||1,boundingClientRect:a}}var np={__proto__:null,TRANSFORM:Nr,TRANSITION:us,TRANSITION_END:$l,get:Gl,getStyle:ds,create:Lt,remove:ee,empty:fo,toFront:An,toBack:In,hasClass:Br,addClass:xt,removeClass:se,setClass:Wr,getClass:po,setOpacity:We,testProp:mo,setTransform:on,setPosition:ae,getPosition:rn,get disableTextSelection(){return fs},get enableTextSelection(){return ps},disableImageDrag:Hr,enableImageDrag:Vr,preventOutline:jr,restoreOutline:go,getSizedParentNode:ql,getScale:Ur};function mt(s,a,u,f){if(a&&typeof a=="object")for(var _ in a)Gr(s,_,a[_],u);else{a=x(a);for(var b=0,T=a.length;b<T;b++)Gr(s,a[b],u,f)}return this}var ci="_leaflet_events";function Vt(s,a,u,f){if(arguments.length===1)Kl(s),delete s[ci];else if(a&&typeof a=="object")for(var _ in a)qr(s,_,a[_],u);else if(a=x(a),arguments.length===2)Kl(s,function(R){return D(a,R)!==-1});else for(var b=0,T=a.length;b<T;b++)qr(s,a[b],u,f);return this}function Kl(s,a){for(var u in s[ci]){var f=u.split(/\d/)[0];(!a||a(f))&&qr(s,f,null,null,u)}}var $r={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Gr(s,a,u,f){var _=a+c(u)+(f?"_"+c(f):"");if(s[ci]&&s[ci][_])return this;var b=function(R){return u.call(f||s,R||window.event)},T=b;!lt.touchNative&&lt.pointer&&a.indexOf("touch")===0?b=Uf(s,a,b):lt.touch&&a==="dblclick"?b=tp(s,b):"addEventListener"in s?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?s.addEventListener($r[a]||a,b,lt.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(b=function(R){R=R||window.event,Xr(s,R)&&T(R)},s.addEventListener($r[a],b,!1)):s.addEventListener(a,T,!1):s.attachEvent("on"+a,b),s[ci]=s[ci]||{},s[ci][_]=b}function qr(s,a,u,f,_){_=_||a+c(u)+(f?"_"+c(f):"");var b=s[ci]&&s[ci][_];if(!b)return this;!lt.touchNative&&lt.pointer&&a.indexOf("touch")===0?$f(s,a,b):lt.touch&&a==="dblclick"?ep(s,b):"removeEventListener"in s?s.removeEventListener($r[a]||a,b,!1):s.detachEvent("on"+a,b),s[ci][_]=null}function an(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Kr(s){return Gr(s,"wheel",an),this}function _s(s){return mt(s,"mousedown touchstart dblclick contextmenu",an),s._leaflet_disable_click=!0,this}function ge(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ln(s){return ge(s),an(s),this}function Xl(s){if(s.composedPath)return s.composedPath();for(var a=[],u=s.target;u;)a.push(u),u=u.parentNode;return a}function Ql(s,a){if(!a)return new V(s.clientX,s.clientY);var u=Ur(a),f=u.boundingClientRect;return new V((s.clientX-f.left)/u.x-a.clientLeft,(s.clientY-f.top)/u.y-a.clientTop)}var sp=lt.linux&&lt.chrome?window.devicePixelRatio:lt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jl(s){return lt.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/sp:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Xr(s,a){var u=a.relatedTarget;if(!u)return!0;try{for(;u&&u!==s;)u=u.parentNode}catch{return!1}return u!==s}var op={__proto__:null,on:mt,off:Vt,stopPropagation:an,disableScrollPropagation:Kr,disableClickPropagation:_s,preventDefault:ge,stop:ln,getPropagationPath:Xl,getMousePosition:Ql,getWheelDelta:Jl,isExternalTarget:Xr,addListener:mt,removeListener:Vt},th=H.extend({run:function(s,a,u,f){this.stop(),this._el=s,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=rn(s),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=E(this._animate,this),this._step()},_step:function(s){var a=+new Date-this._startTime,u=this._duration*1e3;a<u?this._runFrame(this._easeOut(a/u),s):(this._runFrame(1),this._complete())},_runFrame:function(s,a){var u=this._startPos.add(this._offset.multiplyBy(s));a&&u._round(),ae(this._el,u),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),St=H.extend({options:{crs:At,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,a){a=v(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(it(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=us&&lt.any3d&&!lt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),mt(this._proxy,$l,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,a,u){if(a=a===void 0?this._zoom:this._limitZoom(a),s=this._limitCenter(it(s),a,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=o({animate:u.animate},u.zoom),u.pan=o({animate:u.animate,duration:u.duration},u.pan));var f=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,a,u.zoom):this._tryAnimatedPan(s,u.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(s,a,u.pan&&u.pan.noMoveStart),this},setZoom:function(s,a){return this._loaded?this.setView(this.getCenter(),s,{zoom:a}):(this._zoom=s,this)},zoomIn:function(s,a){return s=s||(lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,a)},zoomOut:function(s,a){return s=s||(lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,a)},setZoomAround:function(s,a,u){var f=this.getZoomScale(a),_=this.getSize().divideBy(2),b=s instanceof V?s:this.latLngToContainerPoint(s),T=b.subtract(_).multiplyBy(1-1/f),R=this.containerPointToLatLng(_.add(T));return this.setView(R,a,{zoom:u})},_getBoundsCenterZoom:function(s,a){a=a||{},s=s.getBounds?s.getBounds():ct(s);var u=J(a.paddingTopLeft||a.padding||[0,0]),f=J(a.paddingBottomRight||a.padding||[0,0]),_=this.getBoundsZoom(s,!1,u.add(f));if(_=typeof a.maxZoom=="number"?Math.min(a.maxZoom,_):_,_===1/0)return{center:s.getCenter(),zoom:_};var b=f.subtract(u).divideBy(2),T=this.project(s.getSouthWest(),_),R=this.project(s.getNorthEast(),_),F=this.unproject(T.add(R).divideBy(2).add(b),_);return{center:F,zoom:_}},fitBounds:function(s,a){if(s=ct(s),!s.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(s,a);return this.setView(u.center,u.zoom,a)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,a){return this.setView(s,this._zoom,{pan:a})},panBy:function(s,a){if(s=J(s).round(),a=a||{},!s.x&&!s.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new th,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){xt(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,u,a.duration||.25,a.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,a,u){if(u=u||{},u.animate===!1||!lt.any3d)return this.setView(s,a,u);this._stop();var f=this.project(this.getCenter()),_=this.project(s),b=this.getSize(),T=this._zoom;s=it(s),a=a===void 0?T:a;var R=Math.max(b.x,b.y),F=R*this.getZoomScale(T,a),Y=_.distanceTo(f)||1,et=1.42,pt=et*et;function wt(le){var Lo=le?-1:1,$p=le?F:R,Gp=F*F-R*R+Lo*pt*pt*Y*Y,qp=2*$p*pt*Y,la=Gp/qp,Ih=Math.sqrt(la*la+1)-la,Kp=Ih<1e-9?-18:Math.log(Ih);return Kp}function Pe(le){return(Math.exp(le)-Math.exp(-le))/2}function pe(le){return(Math.exp(le)+Math.exp(-le))/2}function He(le){return Pe(le)/pe(le)}var De=wt(0);function Wn(le){return R*(pe(De)/pe(De+et*le))}function Vp(le){return R*(pe(De)*He(De+et*le)-Pe(De))/pt}function Zp(le){return 1-Math.pow(1-le,1.5)}var jp=Date.now(),Eh=(wt(1)-De)/et,Up=u.duration?1e3*u.duration:1e3*Eh*.8;function Ah(){var le=(Date.now()-jp)/Up,Lo=Zp(le)*Eh;le<=1?(this._flyToFrame=E(Ah,this),this._move(this.unproject(f.add(_.subtract(f).multiplyBy(Vp(Lo)/Y)),T),this.getScaleZoom(R/Wn(Lo),T),{flyTo:!0})):this._move(s,a)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Ah.call(this),this},flyToBounds:function(s,a){var u=this._getBoundsCenterZoom(s,a);return this.flyTo(u.center,u.zoom,a)},setMaxBounds:function(s){return s=ct(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var a=this.options.minZoom;return this.options.minZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var a=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&a!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,a){this._enforcingBounds=!0;var u=this.getCenter(),f=this._limitCenter(u,this._zoom,ct(s));return u.equals(f)||this.panTo(f,a),this._enforcingBounds=!1,this},panInside:function(s,a){a=a||{};var u=J(a.paddingTopLeft||a.padding||[0,0]),f=J(a.paddingBottomRight||a.padding||[0,0]),_=this.project(this.getCenter()),b=this.project(s),T=this.getPixelBounds(),R=q([T.min.add(u),T.max.subtract(f)]),F=R.getSize();if(!R.contains(b)){this._enforcingBounds=!0;var Y=b.subtract(R.getCenter()),et=R.extend(b).getSize().subtract(F);_.x+=Y.x<0?-et.x:et.x,_.y+=Y.y<0?-et.y:et.y,this.panTo(this.unproject(_),a),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=o({animate:!1,pan:!0},s===!0?{animate:!0}:s);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),f=a.divideBy(2).round(),_=u.divideBy(2).round(),b=f.subtract(_);return!b.x&&!b.y?this:(s.animate&&s.pan?this.panBy(b):(s.pan&&this._rawPanBy(b),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=o({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,u,s):navigator.geolocation.getCurrentPosition(a,u,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var a=s.code,u=s.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var a=s.coords.latitude,u=s.coords.longitude,f=new ot(a,u),_=f.toBounds(s.coords.accuracy*2),b=this._locateOptions;if(b.setView){var T=this.getBoundsZoom(_);this.setView(f,b.maxZoom?Math.min(T,b.maxZoom):T)}var R={latlng:f,bounds:_,timestamp:s.timestamp};for(var F in s.coords)typeof s.coords[F]=="number"&&(R[F]=s.coords[F]);this.fire("locationfound",R)}},addHandler:function(s,a){if(!a)return this;var u=this[s]=new a(this);return this._handlers.push(u),this.options[s]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ee(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)ee(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,a){var u="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),f=Lt("div",u,a||this._mapPane);return s&&(this._panes[s]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),a=this.unproject(s.getBottomLeft()),u=this.unproject(s.getTopRight());return new dt(a,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,a,u){s=ct(s),u=J(u||[0,0]);var f=this.getZoom()||0,_=this.getMinZoom(),b=this.getMaxZoom(),T=s.getNorthWest(),R=s.getSouthEast(),F=this.getSize().subtract(u),Y=q(this.project(R,f),this.project(T,f)).getSize(),et=lt.any3d?this.options.zoomSnap:1,pt=F.x/Y.x,wt=F.y/Y.y,Pe=a?Math.max(pt,wt):Math.min(pt,wt);return f=this.getScaleZoom(Pe,f),et&&(f=Math.round(f/(et/100))*(et/100),f=a?Math.ceil(f/et)*et:Math.floor(f/et)*et),Math.max(_,Math.min(b,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,a){var u=this._getTopLeftPoint(s,a);return new ft(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,a){var u=this.options.crs;return a=a===void 0?this._zoom:a,u.scale(s)/u.scale(a)},getScaleZoom:function(s,a){var u=this.options.crs;a=a===void 0?this._zoom:a;var f=u.zoom(s*u.scale(a));return isNaN(f)?1/0:f},project:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(it(s),a)},unproject:function(s,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(J(s),a)},layerPointToLatLng:function(s){var a=J(s).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(s){var a=this.project(it(s))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(it(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ct(s))},distance:function(s,a){return this.options.crs.distance(it(s),it(a))},containerPointToLayerPoint:function(s){return J(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return J(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var a=this.containerPointToLayerPoint(J(s));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(it(s)))},mouseEventToContainerPoint:function(s){return Ql(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var a=this._container=Gl(s);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");mt(a,"scroll",this._onScroll,this),this._containerId=c(a)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&lt.any3d,xt(s,"leaflet-container"+(lt.touch?" leaflet-touch":"")+(lt.retina?" leaflet-retina":"")+(lt.ielt9?" leaflet-oldie":"")+(lt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=ds(s,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ae(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xt(s.markerPane,"leaflet-zoom-hide"),xt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,a,u){ae(this._mapPane,new V(0,0));var f=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var _=this._zoom!==a;this._moveStart(_,u)._move(s,a)._moveEnd(_),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(s,a){return s&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(s,a,u,f){a===void 0&&(a=this._zoom);var _=this._zoom!==a;return this._zoom=a,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),f?u&&u.pinch&&this.fire("zoom",u):((_||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){ae(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[c(this._container)]=this;var a=s?Vt:mt;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),lt.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=E(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,a){for(var u=[],f,_=a==="mouseout"||a==="mouseover",b=s.target||s.srcElement,T=!1;b;){if(f=this._targets[c(b)],f&&(a==="click"||a==="preclick")&&this._draggableMoved(f)){T=!0;break}if(f&&f.listens(a,!0)&&(_&&!Xr(b,s)||(u.push(f),_))||b===this._container)break;b=b.parentNode}return!u.length&&!T&&!_&&this.listens(a,!0)&&(u=[this]),u},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var a=s.target||s.srcElement;if(!(!this._loaded||a._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(a))){var u=s.type;u==="mousedown"&&jr(a),this._fireDOMEvent(s,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,a,u){if(s.type==="click"){var f=o({},s);f.type="preclick",this._fireDOMEvent(f,f.type,u)}var _=this._findEventTargets(s,a);if(u){for(var b=[],T=0;T<u.length;T++)u[T].listens(a,!0)&&b.push(u[T]);_=b.concat(_)}if(_.length){a==="contextmenu"&&ge(s);var R=_[0],F={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var Y=R.getLatLng&&(!R._radius||R._radius<=10);F.containerPoint=Y?this.latLngToContainerPoint(R.getLatLng()):this.mouseEventToContainerPoint(s),F.layerPoint=this.containerPointToLayerPoint(F.containerPoint),F.latlng=Y?R.getLatLng():this.layerPointToLatLng(F.layerPoint)}for(T=0;T<_.length;T++)if(_[T].fire(a,F,!0),F.originalEvent._stopped||_[T].options.bubblingMouseEvents===!1&&D(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,a=this._handlers.length;s<a;s++)this._handlers[s].disable()},whenReady:function(s,a){return this._loaded?s.call(a||this,{target:this}):this.on("load",s,a),this},_getMapPanePos:function(){return rn(this._mapPane)||new V(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,a){var u=s&&a!==void 0?this._getNewPixelOrigin(s,a):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,a){var u=this.getSize()._divideBy(2);return this.project(s,a)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,a,u){var f=this._getNewPixelOrigin(u,a);return this.project(s,a)._subtract(f)},_latLngBoundsToNewLayerBounds:function(s,a,u){var f=this._getNewPixelOrigin(u,a);return q([this.project(s.getSouthWest(),a)._subtract(f),this.project(s.getNorthWest(),a)._subtract(f),this.project(s.getSouthEast(),a)._subtract(f),this.project(s.getNorthEast(),a)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,a,u){if(!u)return s;var f=this.project(s,a),_=this.getSize().divideBy(2),b=new ft(f.subtract(_),f.add(_)),T=this._getBoundsOffset(b,u,a);return Math.abs(T.x)<=1&&Math.abs(T.y)<=1?s:this.unproject(f.add(T),a)},_limitOffset:function(s,a){if(!a)return s;var u=this.getPixelBounds(),f=new ft(u.min.add(s),u.max.add(s));return s.add(this._getBoundsOffset(f,a))},_getBoundsOffset:function(s,a,u){var f=q(this.project(a.getNorthEast(),u),this.project(a.getSouthWest(),u)),_=f.min.subtract(s.min),b=f.max.subtract(s.max),T=this._rebound(_.x,-b.x),R=this._rebound(_.y,-b.y);return new V(T,R)},_rebound:function(s,a){return s+a>0?Math.round(s-a)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(a))},_limitZoom:function(s){var a=this.getMinZoom(),u=this.getMaxZoom(),f=lt.any3d?this.options.zoomSnap:1;return f&&(s=Math.round(s/f)*f),Math.max(a,Math.min(u,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){se(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,a){var u=this._getCenterOffset(s)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,a),!0)},_createAnimProxy:function(){var s=this._proxy=Lt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(a){var u=Nr,f=this._proxy.style[u];on(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),f===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ee(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),a=this.getZoom();on(this._proxy,this.project(s,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,a,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(a),_=this._getCenterOffset(s)._divideBy(1-1/f);return u.animate!==!0&&!this.getSize().contains(_)?!1:(E(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(s,a,!0)},this),!0)},_animateZoom:function(s,a,u,f){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=a,xt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:a,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&se(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rp(s,a){return new St(s,a)}var Ke=j.extend({options:{position:"topright"},initialize:function(s){v(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var a=this._map;return a&&a.removeControl(this),this.options.position=s,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var a=this._container=this.onAdd(s),u=this.getPosition(),f=s._controlCorners[u];return xt(a,"leaflet-control"),u.indexOf("bottom")!==-1?f.insertBefore(a,f.firstChild):f.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ee(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),gs=function(s){return new Ke(s)};St.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},a="leaflet-",u=this._controlContainer=Lt("div",a+"control-container",this._container);function f(_,b){var T=a+_+" "+a+b;s[_+b]=Lt("div",T,u)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)ee(this._controlCorners[s]);ee(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var eh=Ke.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,a,u,f){return u<f?-1:f<u?1:0}},initialize:function(s,a,u){v(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in s)this._addLayer(s[f],f);for(f in a)this._addLayer(a[f],f,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Ke.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,a){return this._addLayer(s,a),this._map?this._update():this},addOverlay:function(s,a){return this._addLayer(s,a,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var a=this._getLayer(c(s));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){xt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(xt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):se(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return se(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",a=this._container=Lt("div",s),u=this.options.collapsed;a.setAttribute("aria-haspopup",!0),_s(a),Kr(a);var f=this._section=Lt("section",s+"-list");u&&(this._map.on("click",this.collapse,this),mt(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=Lt("a",s+"-toggle",a);_.href="#",_.title="Layers",_.setAttribute("role","button"),mt(_,{keydown:function(b){b.keyCode===13&&this._expandSafely()},click:function(b){ge(b),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=Lt("div",s+"-base",f),this._separator=Lt("div",s+"-separator",f),this._overlaysList=Lt("div",s+"-overlays",f),a.appendChild(f)},_getLayer:function(s){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&c(this._layers[a].layer)===s)return this._layers[a]},_addLayer:function(s,a,u){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:a,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(f,_){return this.options.sortFunction(f.layer,_.layer,f.name,_.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;fo(this._baseLayersList),fo(this._overlaysList),this._layerControlInputs=[];var s,a,u,f,_=0;for(u=0;u<this._layers.length;u++)f=this._layers[u],this._addItem(f),a=a||f.overlay,s=s||!f.overlay,_+=f.overlay?0:1;return this.options.hideSingleBase&&(s=s&&_>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=a&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var a=this._getLayer(c(s.target)),u=a.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;u&&this._map.fire(u,a)},_createRadioElement:function(s,a){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(a?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=u,f.firstChild},_addItem:function(s){var a=document.createElement("label"),u=this._map.hasLayer(s.layer),f;s.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=u):f=this._createRadioElement("leaflet-base-layers_"+c(this),u),this._layerControlInputs.push(f),f.layerId=c(s.layer),mt(f,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+s.name;var b=document.createElement("span");a.appendChild(b),b.appendChild(f),b.appendChild(_);var T=s.overlay?this._overlaysList:this._baseLayersList;return T.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,a,u,f=[],_=[];this._handlingClick=!0;for(var b=s.length-1;b>=0;b--)a=s[b],u=this._getLayer(a.layerId).layer,a.checked?f.push(u):a.checked||_.push(u);for(b=0;b<_.length;b++)this._map.hasLayer(_[b])&&this._map.removeLayer(_[b]);for(b=0;b<f.length;b++)this._map.hasLayer(f[b])||this._map.addLayer(f[b]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,a,u,f=this._map.getZoom(),_=s.length-1;_>=0;_--)a=s[_],u=this._getLayer(a.layerId).layer,a.disabled=u.options.minZoom!==void 0&&f<u.options.minZoom||u.options.maxZoom!==void 0&&f>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,mt(s,"click",ge),this.expand();var a=this;setTimeout(function(){Vt(s,"click",ge),a._preventClick=!1})}}),ap=function(s,a,u){return new eh(s,a,u)},Qr=Ke.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var a="leaflet-control-zoom",u=Lt("div",a+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,a+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,a+"-out",u,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,a,u,f,_){var b=Lt("a",u,f);return b.innerHTML=s,b.href="#",b.title=a,b.setAttribute("role","button"),b.setAttribute("aria-label",a),_s(b),mt(b,"click",ln),mt(b,"click",_,this),mt(b,"click",this._refocusOnMap,this),b},_updateDisabled:function(){var s=this._map,a="leaflet-disabled";se(this._zoomInButton,a),se(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(xt(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(xt(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});St.mergeOptions({zoomControl:!0}),St.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qr,this.addControl(this.zoomControl))});var lp=function(s){return new Qr(s)},ih=Ke.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var a="leaflet-control-scale",u=Lt("div",a),f=this.options;return this._addScales(f,a+"-line",u),s.on(f.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),u},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,a,u){s.metric&&(this._mScale=Lt("div",a,u)),s.imperial&&(this._iScale=Lt("div",a,u))},_update:function(){var s=this._map,a=s.getSize().y/2,u=s.distance(s.containerPointToLatLng([0,a]),s.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(u)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var a=this._getRoundNum(s),u=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,u,a/s)},_updateImperial:function(s){var a=s*3.2808399,u,f,_;a>5280?(u=a/5280,f=this._getRoundNum(u),this._updateScale(this._iScale,f+" mi",f/u)):(_=this._getRoundNum(a),this._updateScale(this._iScale,_+" ft",_/a))},_updateScale:function(s,a,u){s.style.width=Math.round(this.options.maxWidth*u)+"px",s.innerHTML=a},_getRoundNum:function(s){var a=Math.pow(10,(Math.floor(s)+"").length-1),u=s/a;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,a*u}}),hp=function(s){return new ih(s)},cp='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Jr=Ke.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(lt.inlineSvg?cp+" ":"")+"Leaflet</a>"},initialize:function(s){v(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Lt("div","leaflet-control-attribution"),_s(this._container);for(var a in s._layers)s._layers[a].getAttribution&&this.addAttribution(s._layers[a].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var a in this._attributions)this._attributions[a]&&s.push(a);var u=[];this.options.prefix&&u.push(this.options.prefix),s.length&&u.push(s.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});St.mergeOptions({attributionControl:!0}),St.addInitHook(function(){this.options.attributionControl&&new Jr().addTo(this)});var up=function(s){return new Jr(s)};Ke.Layers=eh,Ke.Zoom=Qr,Ke.Scale=ih,Ke.Attribution=Jr,gs.layers=ap,gs.zoom=lp,gs.scale=hp,gs.attribution=up;var ui=j.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ui.addTo=function(s,a){return s.addHandler(a,this),this};var dp={Events:tt},nh=lt.touch?"touchstart mousedown":"mousedown",ji=H.extend({options:{clickTolerance:3},initialize:function(s,a,u,f){v(this,f),this._element=s,this._dragStartTarget=a||s,this._preventOutline=u},enable:function(){this._enabled||(mt(this._dragStartTarget,nh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ji._dragging===this&&this.finishDrag(!0),Vt(this._dragStartTarget,nh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Br(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){ji._dragging===this&&this.finishDrag();return}if(!(ji._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(ji._dragging=this,this._preventOutline&&jr(this._element),Hr(),fs(),!this._moving)){this.fire("down");var a=s.touches?s.touches[0]:s,u=ql(this._element);this._startPoint=new V(a.clientX,a.clientY),this._startPos=rn(this._element),this._parentScale=Ur(u);var f=s.type==="mousedown";mt(document,f?"mousemove":"touchmove",this._onMove,this),mt(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var a=s.touches&&s.touches.length===1?s.touches[0]:s,u=new V(a.clientX,a.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,ge(s),this._moved||(this.fire("dragstart"),this._moved=!0,xt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),ae(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){se(document.body,"leaflet-dragging"),this._lastTarget&&(se(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Vt(document,"mousemove touchmove",this._onMove,this),Vt(document,"mouseup touchend touchcancel",this._onUp,this),Vr(),ps();var a=this._moved&&this._moving;this._moving=!1,ji._dragging=!1,a&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function sh(s,a,u){var f,_=[1,4,2,8],b,T,R,F,Y,et,pt,wt;for(b=0,et=s.length;b<et;b++)s[b]._code=hn(s[b],a);for(R=0;R<4;R++){for(pt=_[R],f=[],b=0,et=s.length,T=et-1;b<et;T=b++)F=s[b],Y=s[T],F._code&pt?Y._code&pt||(wt=yo(Y,F,pt,a,u),wt._code=hn(wt,a),f.push(wt)):(Y._code&pt&&(wt=yo(Y,F,pt,a,u),wt._code=hn(wt,a),f.push(wt)),f.push(F));s=f}return s}function oh(s,a){var u,f,_,b,T,R,F,Y,et;if(!s||s.length===0)throw new Error("latlngs not passed");Ye(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var pt=it([0,0]),wt=ct(s),Pe=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());Pe<1700&&(pt=ta(s));var pe=s.length,He=[];for(u=0;u<pe;u++){var De=it(s[u]);He.push(a.project(it([De.lat-pt.lat,De.lng-pt.lng])))}for(R=F=Y=0,u=0,f=pe-1;u<pe;f=u++)_=He[u],b=He[f],T=_.y*b.x-b.y*_.x,F+=(_.x+b.x)*T,Y+=(_.y+b.y)*T,R+=T*3;R===0?et=He[0]:et=[F/R,Y/R];var Wn=a.unproject(J(et));return it([Wn.lat+pt.lat,Wn.lng+pt.lng])}function ta(s){for(var a=0,u=0,f=0,_=0;_<s.length;_++){var b=it(s[_]);a+=b.lat,u+=b.lng,f++}return it([a/f,u/f])}var fp={__proto__:null,clipPolygon:sh,polygonCenter:oh,centroid:ta};function rh(s,a){if(!a||!s.length)return s.slice();var u=a*a;return s=_p(s,u),s=mp(s,u),s}function ah(s,a,u){return Math.sqrt(ys(s,a,u,!0))}function pp(s,a,u){return ys(s,a,u)}function mp(s,a){var u=s.length,f=typeof Uint8Array<"u"?Uint8Array:Array,_=new f(u);_[0]=_[u-1]=1,ea(s,_,a,0,u-1);var b,T=[];for(b=0;b<u;b++)_[b]&&T.push(s[b]);return T}function ea(s,a,u,f,_){var b=0,T,R,F;for(R=f+1;R<=_-1;R++)F=ys(s[R],s[f],s[_],!0),F>b&&(T=R,b=F);b>u&&(a[T]=1,ea(s,a,u,f,T),ea(s,a,u,T,_))}function _p(s,a){for(var u=[s[0]],f=1,_=0,b=s.length;f<b;f++)gp(s[f],s[_])>a&&(u.push(s[f]),_=f);return _<b-1&&u.push(s[b-1]),u}var lh;function hh(s,a,u,f,_){var b=f?lh:hn(s,u),T=hn(a,u),R,F,Y;for(lh=T;;){if(!(b|T))return[s,a];if(b&T)return!1;R=b||T,F=yo(s,a,R,u,_),Y=hn(F,u),R===b?(s=F,b=Y):(a=F,T=Y)}}function yo(s,a,u,f,_){var b=a.x-s.x,T=a.y-s.y,R=f.min,F=f.max,Y,et;return u&8?(Y=s.x+b*(F.y-s.y)/T,et=F.y):u&4?(Y=s.x+b*(R.y-s.y)/T,et=R.y):u&2?(Y=F.x,et=s.y+T*(F.x-s.x)/b):u&1&&(Y=R.x,et=s.y+T*(R.x-s.x)/b),new V(Y,et,_)}function hn(s,a){var u=0;return s.x<a.min.x?u|=1:s.x>a.max.x&&(u|=2),s.y<a.min.y?u|=4:s.y>a.max.y&&(u|=8),u}function gp(s,a){var u=a.x-s.x,f=a.y-s.y;return u*u+f*f}function ys(s,a,u,f){var _=a.x,b=a.y,T=u.x-_,R=u.y-b,F=T*T+R*R,Y;return F>0&&(Y=((s.x-_)*T+(s.y-b)*R)/F,Y>1?(_=u.x,b=u.y):Y>0&&(_+=T*Y,b+=R*Y)),T=s.x-_,R=s.y-b,f?T*T+R*R:new V(_,b)}function Ye(s){return!C(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function ch(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ye(s)}function uh(s,a){var u,f,_,b,T,R,F,Y;if(!s||s.length===0)throw new Error("latlngs not passed");Ye(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var et=it([0,0]),pt=ct(s),wt=pt.getNorthWest().distanceTo(pt.getSouthWest())*pt.getNorthEast().distanceTo(pt.getNorthWest());wt<1700&&(et=ta(s));var Pe=s.length,pe=[];for(u=0;u<Pe;u++){var He=it(s[u]);pe.push(a.project(it([He.lat-et.lat,He.lng-et.lng])))}for(u=0,f=0;u<Pe-1;u++)f+=pe[u].distanceTo(pe[u+1])/2;if(f===0)Y=pe[0];else for(u=0,b=0;u<Pe-1;u++)if(T=pe[u],R=pe[u+1],_=T.distanceTo(R),b+=_,b>f){F=(b-f)/_,Y=[R.x-F*(R.x-T.x),R.y-F*(R.y-T.y)];break}var De=a.unproject(J(Y));return it([De.lat+et.lat,De.lng+et.lng])}var yp={__proto__:null,simplify:rh,pointToSegmentDistance:ah,closestPointOnSegment:pp,clipSegment:hh,_getEdgeIntersection:yo,_getBitCode:hn,_sqClosestPointOnSegment:ys,isFlat:Ye,_flat:ch,polylineCenter:uh},ia={project:function(s){return new V(s.lng,s.lat)},unproject:function(s){return new ot(s.y,s.x)},bounds:new ft([-180,-90],[180,90])},na={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ft([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var a=Math.PI/180,u=this.R,f=s.lat*a,_=this.R_MINOR/u,b=Math.sqrt(1-_*_),T=b*Math.sin(f),R=Math.tan(Math.PI/4-f/2)/Math.pow((1-T)/(1+T),b/2);return f=-u*Math.log(Math.max(R,1e-10)),new V(s.lng*a*u,f)},unproject:function(s){for(var a=180/Math.PI,u=this.R,f=this.R_MINOR/u,_=Math.sqrt(1-f*f),b=Math.exp(-s.y/u),T=Math.PI/2-2*Math.atan(b),R=0,F=.1,Y;R<15&&Math.abs(F)>1e-7;R++)Y=_*Math.sin(T),Y=Math.pow((1-Y)/(1+Y),_/2),F=Math.PI/2-2*Math.atan(b*Y)-T,T+=F;return new ot(T*a,s.x*a/u)}},vp={__proto__:null,LonLat:ia,Mercator:na,SphericalMercator:Tt},bp=o({},Nt,{code:"EPSG:3395",projection:na,transformation:function(){var s=.5/(Math.PI*na.R);return jt(s,.5,-s,.5)}()}),dh=o({},Nt,{code:"EPSG:4326",projection:ia,transformation:jt(1/180,1,-1/180,.5)}),xp=o({},Et,{projection:ia,transformation:jt(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,a){var u=a.lng-s.lng,f=a.lat-s.lat;return Math.sqrt(u*u+f*f)},infinite:!0});Et.Earth=Nt,Et.EPSG3395=bp,Et.EPSG3857=At,Et.EPSG900913=fe,Et.EPSG4326=dh,Et.Simple=xp;var Xe=H.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[c(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[c(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var a=s.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var u=this.getEvents();a.on(u,this),this.once("remove",function(){a.off(u,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});St.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var a=c(s);return this._layers[a]?this:(this._layers[a]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var a=c(s);return this._layers[a]?(this._loaded&&s.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return c(s)in this._layers},eachLayer:function(s,a){for(var u in this._layers)s.call(a,this._layers[u]);return this},_addLayers:function(s){s=s?C(s)?s:[s]:[];for(var a=0,u=s.length;a<u;a++)this.addLayer(s[a])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[c(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var a=c(s);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,a=-1/0,u=this._getZoomSpan();for(var f in this._zoomBoundLayers){var _=this._zoomBoundLayers[f].options;s=_.minZoom===void 0?s:Math.min(s,_.minZoom),a=_.maxZoom===void 0?a:Math.max(a,_.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=s===1/0?void 0:s,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Rn=Xe.extend({initialize:function(s,a){v(this,a),this._layers={};var u,f;if(s)for(u=0,f=s.length;u<f;u++)this.addLayer(s[u])},addLayer:function(s){var a=this.getLayerId(s);return this._layers[a]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var a=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(s){var a=typeof s=="number"?s:this.getLayerId(s);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var a=Array.prototype.slice.call(arguments,1),u,f;for(u in this._layers)f=this._layers[u],f[s]&&f[s].apply(f,a);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,a){for(var u in this._layers)s.call(a,this._layers[u]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return c(s)}}),wp=function(s,a){return new Rn(s,a)},Mi=Rn.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Rn.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Rn.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new dt;for(var a in this._layers){var u=this._layers[a];s.extend(u.getBounds?u.getBounds():u.getLatLng())}return s}}),kp=function(s,a){return new Mi(s,a)},zn=j.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){v(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,a){var u=this._getIconUrl(s);if(!u){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(u,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(f,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(s,a){var u=this.options,f=u[a+"Size"];typeof f=="number"&&(f=[f,f]);var _=J(f),b=J(a==="shadow"&&u.shadowAnchor||u.iconAnchor||_&&_.divideBy(2,!0));s.className="leaflet-marker-"+a+" "+(u.className||""),b&&(s.style.marginLeft=-b.x+"px",s.style.marginTop=-b.y+"px"),_&&(s.style.width=_.x+"px",s.style.height=_.y+"px")},_createImg:function(s,a){return a=a||document.createElement("img"),a.src=s,a},_getIconUrl:function(s){return lt.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Mp(s){return new zn(s)}var vs=zn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof vs.imagePath!="string"&&(vs.imagePath=this._detectIconPath()),(this.options.imagePath||vs.imagePath)+zn.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var a=function(u,f,_){var b=f.exec(u);return b&&b[_]};return s=a(s,/^url\((['"])?(.+)\1\)$/,2),s&&a(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Lt("div","leaflet-default-icon-path",document.body),a=ds(s,"background-image")||ds(s,"backgroundImage");if(document.body.removeChild(s),a=this._stripUrl(a),a)return a;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),fh=ui.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new ji(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&se(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var a=this._marker,u=a._map,f=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,b=rn(a._icon),T=u.getPixelBounds(),R=u.getPixelOrigin(),F=q(T.min._subtract(R).add(_),T.max._subtract(R).subtract(_));if(!F.contains(b)){var Y=J((Math.max(F.max.x,b.x)-F.max.x)/(T.max.x-F.max.x)-(Math.min(F.min.x,b.x)-F.min.x)/(T.min.x-F.min.x),(Math.max(F.max.y,b.y)-F.max.y)/(T.max.y-F.max.y)-(Math.min(F.min.y,b.y)-F.min.y)/(T.min.y-F.min.y)).multiplyBy(f);u.panBy(Y,{animate:!1}),this._draggable._newPos._add(Y),this._draggable._startPos._add(Y),ae(a._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=E(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=E(this._adjustPan.bind(this,s)))},_onDrag:function(s){var a=this._marker,u=a._shadow,f=rn(a._icon),_=a._map.layerPointToLatLng(f);u&&ae(u,f),a._latlng=_,s.latlng=_,s.oldLatLng=this._oldLatLng,a.fire("move",s).fire("drag",s)},_onDragEnd:function(s){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),vo=Xe.extend({options:{icon:new vs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,a){v(this,a),this._latlng=it(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var a=this._latlng;return this._latlng=it(s),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=s.icon.createIcon(this._icon),f=!1;u!==this._icon&&(this._icon&&this._removeIcon(),f=!0,s.title&&(u.title=s.title),u.tagName==="IMG"&&(u.alt=s.alt||"")),xt(u,a),s.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mt(u,"focus",this._panOnFocus,this);var _=s.icon.createShadow(this._shadow),b=!1;_!==this._shadow&&(this._removeShadow(),b=!0),_&&(xt(_,a),_.alt=""),this._shadow=_,s.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&b&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Vt(this._icon,"focus",this._panOnFocus,this),ee(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ee(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&ae(this._icon,s),this._shadow&&ae(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(xt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),fh)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new fh(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&We(this._icon,s),this._shadow&&We(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var a=this.options.icon.options,u=a.iconSize?J(a.iconSize):J(0,0),f=a.iconAnchor?J(a.iconAnchor):J(0,0);s.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:u.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Sp(s,a){return new vo(s,a)}var Ui=Xe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return v(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),bo=Ui.extend({options:{fill:!0,radius:10},initialize:function(s,a){v(this,a),this._latlng=it(s),this._radius=this.options.radius},setLatLng:function(s){var a=this._latlng;return this._latlng=it(s),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var a=s&&s.radius||this._radius;return Ui.prototype.setStyle.call(this,s),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,a=this._radiusY||s,u=this._clickTolerance(),f=[s+u,a+u];this._pxBounds=new ft(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Pp(s,a){return new bo(s,a)}var sa=bo.extend({initialize:function(s,a,u){if(typeof a=="number"&&(a=o({},u,{radius:a})),v(this,a),this._latlng=it(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new dt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Ui.prototype.setStyle,_project:function(){var s=this._latlng.lng,a=this._latlng.lat,u=this._map,f=u.options.crs;if(f.distance===Nt.distance){var _=Math.PI/180,b=this._mRadius/Nt.R/_,T=u.project([a+b,s]),R=u.project([a-b,s]),F=T.add(R).divideBy(2),Y=u.unproject(F).lat,et=Math.acos((Math.cos(b*_)-Math.sin(a*_)*Math.sin(Y*_))/(Math.cos(a*_)*Math.cos(Y*_)))/_;(isNaN(et)||et===0)&&(et=b/Math.cos(Math.PI/180*a)),this._point=F.subtract(u.getPixelOrigin()),this._radius=isNaN(et)?0:F.x-u.project([Y,s-et]).x,this._radiusY=F.y-T.y}else{var pt=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(pt).x}this._updateBounds()}});function Tp(s,a,u){return new sa(s,a,u)}var Si=Ui.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,a){v(this,a),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var a=1/0,u=null,f=ys,_,b,T=0,R=this._parts.length;T<R;T++)for(var F=this._parts[T],Y=1,et=F.length;Y<et;Y++){_=F[Y-1],b=F[Y];var pt=f(s,_,b,!0);pt<a&&(a=pt,u=f(s,_,b))}return u&&(u.distance=Math.sqrt(a)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return uh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,a){return a=a||this._defaultShape(),s=it(s),a.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new dt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Ye(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var a=[],u=Ye(s),f=0,_=s.length;f<_;f++)u?(a[f]=it(s[f]),this._bounds.extend(a[f])):a[f]=this._convertLatLngs(s[f]);return a},_project:function(){var s=new ft;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),a=new V(s,s);this._rawPxBounds&&(this._pxBounds=new ft([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(s,a,u){var f=s[0]instanceof ot,_=s.length,b,T;if(f){for(T=[],b=0;b<_;b++)T[b]=this._map.latLngToLayerPoint(s[b]),u.extend(T[b]);a.push(T)}else for(b=0;b<_;b++)this._projectLatlngs(s[b],a,u)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,u,f,_,b,T,R,F;for(u=0,_=0,b=this._rings.length;u<b;u++)for(F=this._rings[u],f=0,T=F.length;f<T-1;f++)R=hh(F[f],F[f+1],s,f,!0),R&&(a[_]=a[_]||[],a[_].push(R[0]),(R[1]!==F[f+1]||f===T-2)&&(a[_].push(R[1]),_++))}},_simplifyPoints:function(){for(var s=this._parts,a=this.options.smoothFactor,u=0,f=s.length;u<f;u++)s[u]=rh(s[u],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,a){var u,f,_,b,T,R,F=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(u=0,b=this._parts.length;u<b;u++)for(R=this._parts[u],f=0,T=R.length,_=T-1;f<T;_=f++)if(!(!a&&f===0)&&ah(s,R[_],R[f])<=F)return!0;return!1}});function Dp(s,a){return new Si(s,a)}Si._flat=ch;var Fn=Si.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return oh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var a=Si.prototype._convertLatLngs.call(this,s),u=a.length;return u>=2&&a[0]instanceof ot&&a[0].equals(a[u-1])&&a.pop(),a},_setLatLngs:function(s){Si.prototype._setLatLngs.call(this,s),Ye(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ye(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,a=this.options.weight,u=new V(a,a);if(s=new ft(s.min.subtract(u),s.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,_=this._rings.length,b;f<_;f++)b=sh(this._rings[f],s,!0),b.length&&this._parts.push(b)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var a=!1,u,f,_,b,T,R,F,Y;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(b=0,F=this._parts.length;b<F;b++)for(u=this._parts[b],T=0,Y=u.length,R=Y-1;T<Y;R=T++)f=u[T],_=u[R],f.y>s.y!=_.y>s.y&&s.x<(_.x-f.x)*(s.y-f.y)/(_.y-f.y)+f.x&&(a=!a);return a||Si.prototype._containsPoint.call(this,s,!0)}});function Lp(s,a){return new Fn(s,a)}var Pi=Mi.extend({initialize:function(s,a){v(this,a),this._layers={},s&&this.addData(s)},addData:function(s){var a=C(s)?s:s.features,u,f,_;if(a){for(u=0,f=a.length;u<f;u++)_=a[u],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var b=this.options;if(b.filter&&!b.filter(s))return this;var T=xo(s,b);return T?(T.feature=Mo(s),T.defaultOptions=T.options,this.resetStyle(T),b.onEachFeature&&b.onEachFeature(s,T),this.addLayer(T)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=o({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(a){this._setLayerStyle(a,s)},this)},_setLayerStyle:function(s,a){s.setStyle&&(typeof a=="function"&&(a=a(s.feature)),s.setStyle(a))}});function xo(s,a){var u=s.type==="Feature"?s.geometry:s,f=u?u.coordinates:null,_=[],b=a&&a.pointToLayer,T=a&&a.coordsToLatLng||oa,R,F,Y,et;if(!f&&!u)return null;switch(u.type){case"Point":return R=T(f),ph(b,s,R,a);case"MultiPoint":for(Y=0,et=f.length;Y<et;Y++)R=T(f[Y]),_.push(ph(b,s,R,a));return new Mi(_);case"LineString":case"MultiLineString":return F=wo(f,u.type==="LineString"?0:1,T),new Si(F,a);case"Polygon":case"MultiPolygon":return F=wo(f,u.type==="Polygon"?1:2,T),new Fn(F,a);case"GeometryCollection":for(Y=0,et=u.geometries.length;Y<et;Y++){var pt=xo({geometry:u.geometries[Y],type:"Feature",properties:s.properties},a);pt&&_.push(pt)}return new Mi(_);case"FeatureCollection":for(Y=0,et=u.features.length;Y<et;Y++){var wt=xo(u.features[Y],a);wt&&_.push(wt)}return new Mi(_);default:throw new Error("Invalid GeoJSON object.")}}function ph(s,a,u,f){return s?s(a,u):new vo(u,f&&f.markersInheritOptions&&f)}function oa(s){return new ot(s[1],s[0],s[2])}function wo(s,a,u){for(var f=[],_=0,b=s.length,T;_<b;_++)T=a?wo(s[_],a-1,u):(u||oa)(s[_]),f.push(T);return f}function ra(s,a){return s=it(s),s.alt!==void 0?[g(s.lng,a),g(s.lat,a),g(s.alt,a)]:[g(s.lng,a),g(s.lat,a)]}function ko(s,a,u,f){for(var _=[],b=0,T=s.length;b<T;b++)_.push(a?ko(s[b],Ye(s[b])?0:a-1,u,f):ra(s[b],f));return!a&&u&&_.length>0&&_.push(_[0].slice()),_}function Nn(s,a){return s.feature?o({},s.feature,{geometry:a}):Mo(a)}function Mo(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var aa={toGeoJSON:function(s){return Nn(this,{type:"Point",coordinates:ra(this.getLatLng(),s)})}};vo.include(aa),sa.include(aa),bo.include(aa),Si.include({toGeoJSON:function(s){var a=!Ye(this._latlngs),u=ko(this._latlngs,a?1:0,!1,s);return Nn(this,{type:(a?"Multi":"")+"LineString",coordinates:u})}}),Fn.include({toGeoJSON:function(s){var a=!Ye(this._latlngs),u=a&&!Ye(this._latlngs[0]),f=ko(this._latlngs,u?2:a?1:0,!0,s);return a||(f=[f]),Nn(this,{type:(u?"Multi":"")+"Polygon",coordinates:f})}}),Rn.include({toMultiPoint:function(s){var a=[];return this.eachLayer(function(u){a.push(u.toGeoJSON(s).geometry.coordinates)}),Nn(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(s){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(s);var u=a==="GeometryCollection",f=[];return this.eachLayer(function(_){if(_.toGeoJSON){var b=_.toGeoJSON(s);if(u)f.push(b.geometry);else{var T=Mo(b);T.type==="FeatureCollection"?f.push.apply(f,T.features):f.push(T)}}}),u?Nn(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function mh(s,a){return new Pi(s,a)}var Cp=mh,So=Xe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,a,u){this._url=s,this._bounds=ct(a),v(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ee(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&An(this._image),this},bringToBack:function(){return this._map&&In(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ct(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",a=this._image=s?this._url:Lt("img");if(xt(a,"leaflet-image-layer"),this._zoomAnimated&&xt(a,"leaflet-zoom-animated"),this.options.className&&xt(a,this.options.className),a.onselectstart=m,a.onmousemove=m,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(s){var a=this._map.getZoomScale(s.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;on(this._image,u,a)},_reset:function(){var s=this._image,a=new ft(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=a.getSize();ae(s,a.min),s.style.width=u.x+"px",s.style.height=u.y+"px"},_updateOpacity:function(){We(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Op=function(s,a,u){return new So(s,a,u)},_h=So.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",a=this._image=s?this._url:Lt("video");if(xt(a,"leaflet-image-layer"),this._zoomAnimated&&xt(a,"leaflet-zoom-animated"),this.options.className&&xt(a,this.options.className),a.onselectstart=m,a.onmousemove=m,a.onloadeddata=l(this.fire,this,"load"),s){for(var u=a.getElementsByTagName("source"),f=[],_=0;_<u.length;_++)f.push(u[_].src);this._url=u.length>0?f:[a.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var b=0;b<this._url.length;b++){var T=Lt("source");T.src=this._url[b],a.appendChild(T)}}});function Ep(s,a,u){return new _h(s,a,u)}var gh=So.extend({_initImage:function(){var s=this._image=this._url;xt(s,"leaflet-image-layer"),this._zoomAnimated&&xt(s,"leaflet-zoom-animated"),this.options.className&&xt(s,this.options.className),s.onselectstart=m,s.onmousemove=m}});function Ap(s,a,u){return new gh(s,a,u)}var di=Xe.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,a){s&&(s instanceof ot||C(s))?(this._latlng=it(s),v(this,a)):(v(this,s),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&We(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&We(this._container,1),this.bringToFront(),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(We(this._container,0),this._removeTimeout=setTimeout(l(ee,void 0,this._container),200)):ee(this._container),this.options.interactive&&(se(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=it(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&An(this._container),this},bringToBack:function(){return this._map&&In(this._container),this},_prepareOpen:function(s){var a=this._source;if(!a._map)return!1;if(a instanceof Mi){a=null;var u=this._source._layers;for(var f in u)if(u[f]._map){a=u[f];break}if(!a)return!1;this._source=a}if(!s)if(a.getCenter)s=a.getCenter();else if(a.getLatLng)s=a.getLatLng();else if(a.getBounds)s=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")s.innerHTML=a;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),a=J(this.options.offset),u=this._getAnchor();this._zoomAnimated?ae(this._container,s.add(u)):a=a.add(s).add(u);var f=this._containerBottom=-a.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=f+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});St.include({_initOverlay:function(s,a,u,f){var _=a;return _ instanceof s||(_=new s(f).setContent(a)),u&&_.setLatLng(u),_}}),Xe.include({_initOverlay:function(s,a,u,f){var _=u;return _ instanceof s?(v(_,f),_._source=this):(_=a&&!f?a:new s(f,this),_.setContent(u)),_}});var Po=di.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,di.prototype.openOn.call(this,s)},onAdd:function(s){di.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ui||this._source.on("preclick",an))},onRemove:function(s){di.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ui||this._source.off("preclick",an))},getEvents:function(){var s=di.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",a=this._container=Lt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=Lt("div",s+"-content-wrapper",a);if(this._contentNode=Lt("div",s+"-content",u),_s(a),Kr(this._contentNode),mt(a,"contextmenu",an),this._tipContainer=Lt("div",s+"-tip-container",a),this._tip=Lt("div",s+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Lt("a",s+"-close-button",a);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',mt(f,"click",function(_){ge(_),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,a=s.style;a.width="",a.whiteSpace="nowrap";var u=s.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),a.width=u+1+"px",a.whiteSpace="",a.height="";var f=s.offsetHeight,_=this.options.maxHeight,b="leaflet-popup-scrolled";_&&f>_?(a.height=_+"px",xt(s,b)):se(s,b),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),u=this._getAnchor();ae(this._container,a.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,a=parseInt(ds(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+a,f=this._containerWidth,_=new V(this._containerLeft,-u-this._containerBottom);_._add(rn(this._container));var b=s.layerPointToContainerPoint(_),T=J(this.options.autoPanPadding),R=J(this.options.autoPanPaddingTopLeft||T),F=J(this.options.autoPanPaddingBottomRight||T),Y=s.getSize(),et=0,pt=0;b.x+f+F.x>Y.x&&(et=b.x+f-Y.x+F.x),b.x-et-R.x<0&&(et=b.x-R.x),b.y+u+F.y>Y.y&&(pt=b.y+u-Y.y+F.y),b.y-pt-R.y<0&&(pt=b.y-R.y),(et||pt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([et,pt]))}},_getAnchor:function(){return J(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ip=function(s,a){return new Po(s,a)};St.mergeOptions({closePopupOnClick:!0}),St.include({openPopup:function(s,a,u){return this._initOverlay(Po,s,a,u).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Xe.include({bindPopup:function(s,a){return this._popup=this._initOverlay(Po,this._popup,s,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Mi||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ln(s);var a=s.layer||s.target;if(this._popup._source===a&&!(a instanceof Ui)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=a,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var To=di.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){di.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){di.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=di.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",a=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Lt("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var a,u,f=this._map,_=this._container,b=f.latLngToContainerPoint(f.getCenter()),T=f.layerPointToContainerPoint(s),R=this.options.direction,F=_.offsetWidth,Y=_.offsetHeight,et=J(this.options.offset),pt=this._getAnchor();R==="top"?(a=F/2,u=Y):R==="bottom"?(a=F/2,u=0):R==="center"?(a=F/2,u=Y/2):R==="right"?(a=0,u=Y/2):R==="left"?(a=F,u=Y/2):T.x<b.x?(R="right",a=0,u=Y/2):(R="left",a=F+(et.x+pt.x)*2,u=Y/2),s=s.subtract(J(a,u,!0)).add(et).add(pt),se(_,"leaflet-tooltip-right"),se(_,"leaflet-tooltip-left"),se(_,"leaflet-tooltip-top"),se(_,"leaflet-tooltip-bottom"),xt(_,"leaflet-tooltip-"+R),ae(_,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&We(this._container,s)},_animateZoom:function(s){var a=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(a)},_getAnchor:function(){return J(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Rp=function(s,a){return new To(s,a)};St.include({openTooltip:function(s,a,u){return this._initOverlay(To,s,a,u).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Xe.include({bindTooltip:function(s,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(To,this._tooltip,s,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var a=s?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[a](u),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Mi||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&(mt(a,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),mt(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var a=typeof s.getElement=="function"&&s.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var a=s.latlng,u,f;this._tooltip.options.sticky&&s.originalEvent&&(u=this._map.mouseEventToContainerPoint(s.originalEvent),f=this._map.containerPointToLayerPoint(u),a=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(a)}});var yh=zn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var a=s&&s.tagName==="DIV"?s:document.createElement("div"),u=this.options;if(u.html instanceof Element?(fo(a),a.appendChild(u.html)):a.innerHTML=u.html!==!1?u.html:"",u.bgPos){var f=J(u.bgPos);a.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function zp(s){return new yh(s)}zn.Default=vs;var bs=Xe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:lt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){v(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),ee(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(An(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(In(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof V?s:new V(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var a=this.getPane().children,u=-s(-1/0,1/0),f=0,_=a.length,b;f<_;f++)b=a[f].style.zIndex,a[f]!==this._container&&b&&(u=s(u,+b));isFinite(u)&&(this.options.zIndex=u+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!lt.ielt9){We(this._container,this.options.opacity);var s=+new Date,a=!1,u=!1;for(var f in this._tiles){var _=this._tiles[f];if(!(!_.current||!_.loaded)){var b=Math.min(1,(s-_.loaded)/200);We(_.el,b),b<1?a=!0:(_.active?u=!0:this._onOpaqueTile(_),_.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),a&&(z(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Lt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,a=this.options.maxZoom;if(s!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===s?(this._levels[u].el.style.zIndex=a-Math.abs(s-u),this._onUpdateLevel(u)):(ee(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var f=this._levels[s],_=this._map;return f||(f=this._levels[s]={},f.el=Lt("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=a,f.origin=_.project(_.unproject(_.getPixelOrigin()),s).round(),f.zoom=s,this._setZoomTransform(f,_.getCenter(),_.getZoom()),m(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var s,a,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)a=this._tiles[s],a.retain=a.current;for(s in this._tiles)if(a=this._tiles[s],a.current&&!a.active){var f=a.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var a in this._tiles)this._tiles[a].coords.z===s&&this._removeTile(a)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)ee(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,a,u,f){var _=Math.floor(s/2),b=Math.floor(a/2),T=u-1,R=new V(+_,+b);R.z=+T;var F=this._tileCoordsToKey(R),Y=this._tiles[F];return Y&&Y.active?(Y.retain=!0,!0):(Y&&Y.loaded&&(Y.retain=!0),T>f?this._retainParent(_,b,T,f):!1)},_retainChildren:function(s,a,u,f){for(var _=2*s;_<2*s+2;_++)for(var b=2*a;b<2*a+2;b++){var T=new V(_,b);T.z=u+1;var R=this._tileCoordsToKey(T),F=this._tiles[R];if(F&&F.active){F.retain=!0;continue}else F&&F.loaded&&(F.retain=!0);u+1<f&&this._retainChildren(_,b,u+1,f)}},_resetView:function(s){var a=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var a=this.options;return a.minNativeZoom!==void 0&&s<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<s?a.maxNativeZoom:s},_setView:function(s,a,u,f){var _=Math.round(a);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var b=this.options.updateWhenZooming&&_!==this._tileZoom;(!f||b)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(s),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(s,a)},_setZoomTransforms:function(s,a){for(var u in this._levels)this._setZoomTransform(this._levels[u],s,a)},_setZoomTransform:function(s,a,u){var f=this._map.getZoomScale(u,s.zoom),_=s.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(a,u)).round();lt.any3d?on(s.el,_,f):ae(s.el,_)},_resetGrid:function(){var s=this._map,a=s.options.crs,u=this._tileSize=this.getTileSize(),f=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,a.wrapLng[0]],f).x/u.x),Math.ceil(s.project([0,a.wrapLng[1]],f).x/u.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([a.wrapLat[0],0],f).y/u.x),Math.ceil(s.project([a.wrapLat[1],0],f).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var a=this._map,u=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),f=a.getZoomScale(u,this._tileZoom),_=a.project(s,this._tileZoom).floor(),b=a.getSize().divideBy(f*2);return new ft(_.subtract(b),_.add(b))},_update:function(s){var a=this._map;if(a){var u=this._clampZoom(a.getZoom());if(s===void 0&&(s=a.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(s),_=this._pxBoundsToTileRange(f),b=_.getCenter(),T=[],R=this.options.keepBuffer,F=new ft(_.getBottomLeft().subtract([R,-R]),_.getTopRight().add([R,-R]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Y in this._tiles){var et=this._tiles[Y].coords;(et.z!==this._tileZoom||!F.contains(new V(et.x,et.y)))&&(this._tiles[Y].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(s,u);return}for(var pt=_.min.y;pt<=_.max.y;pt++)for(var wt=_.min.x;wt<=_.max.x;wt++){var Pe=new V(wt,pt);if(Pe.z=this._tileZoom,!!this._isValidTile(Pe)){var pe=this._tiles[this._tileCoordsToKey(Pe)];pe?pe.current=!0:T.push(Pe)}}if(T.sort(function(De,Wn){return De.distanceTo(b)-Wn.distanceTo(b)}),T.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var He=document.createDocumentFragment();for(wt=0;wt<T.length;wt++)this._addTile(T[wt],He);this._level.el.appendChild(He)}}}},_isValidTile:function(s){var a=this._map.options.crs;if(!a.infinite){var u=this._globalTileRange;if(!a.wrapLng&&(s.x<u.min.x||s.x>u.max.x)||!a.wrapLat&&(s.y<u.min.y||s.y>u.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(s);return ct(this.options.bounds).overlaps(f)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var a=this._map,u=this.getTileSize(),f=s.scaleBy(u),_=f.add(u),b=a.unproject(f,s.z),T=a.unproject(_,s.z);return[b,T]},_tileCoordsToBounds:function(s){var a=this._tileCoordsToNwSe(s),u=new dt(a[0],a[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var a=s.split(":"),u=new V(+a[0],+a[1]);return u.z=+a[2],u},_removeTile:function(s){var a=this._tiles[s];a&&(ee(a.el),delete this._tiles[s],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){xt(s,"leaflet-tile");var a=this.getTileSize();s.style.width=a.x+"px",s.style.height=a.y+"px",s.onselectstart=m,s.onmousemove=m,lt.ielt9&&this.options.opacity<1&&We(s,this.options.opacity)},_addTile:function(s,a){var u=this._getTilePos(s),f=this._tileCoordsToKey(s),_=this.createTile(this._wrapCoords(s),l(this._tileReady,this,s));this._initTile(_),this.createTile.length<2&&E(l(this._tileReady,this,s,null,_)),ae(_,u),this._tiles[f]={el:_,coords:s,current:!0},a.appendChild(_),this.fire("tileloadstart",{tile:_,coords:s})},_tileReady:function(s,a,u){a&&this.fire("tileerror",{error:a,tile:u,coords:s});var f=this._tileCoordsToKey(s);u=this._tiles[f],u&&(u.loaded=+new Date,this._map._fadeAnimated?(We(u.el,0),z(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),a||(xt(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),lt.ielt9||!this._map._fadeAnimated?E(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var a=new V(this._wrapX?p(s.x,this._wrapX):s.x,this._wrapY?p(s.y,this._wrapY):s.y);return a.z=s.z,a},_pxBoundsToTileRange:function(s){var a=this.getTileSize();return new ft(s.min.unscaleBy(a).floor(),s.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Fp(s){return new bs(s)}var Bn=bs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,a){this._url=s,a=v(this,a),a.detectRetina&&lt.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,a){return this._url===s&&a===void 0&&(a=!0),this._url=s,a||this.redraw(),this},createTile:function(s,a){var u=document.createElement("img");return mt(u,"load",l(this._tileOnLoad,this,a,u)),mt(u,"error",l(this._tileOnError,this,a,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(s),u},getTileUrl:function(s){var a={r:lt.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-s.y;this.options.tms&&(a.y=u),a["-y"]=u}return P(this._url,o(a,this.options))},_tileOnLoad:function(s,a){lt.ielt9?setTimeout(l(s,this,null,a),0):s(null,a)},_tileOnError:function(s,a,u){var f=this.options.errorTileUrl;f&&a.getAttribute("src")!==f&&(a.src=f),s(u,a)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,a=this.options.maxZoom,u=this.options.zoomReverse,f=this.options.zoomOffset;return u&&(s=a-s),s+f},_getSubdomain:function(s){var a=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var s,a;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(a=this._tiles[s].el,a.onload=m,a.onerror=m,!a.complete)){a.src=O;var u=this._tiles[s].coords;ee(a),delete this._tiles[s],this.fire("tileabort",{tile:a,coords:u})}},_removeTile:function(s){var a=this._tiles[s];if(a)return a.el.setAttribute("src",O),bs.prototype._removeTile.call(this,s)},_tileReady:function(s,a,u){if(!(!this._map||u&&u.getAttribute("src")===O))return bs.prototype._tileReady.call(this,s,a,u)}});function vh(s,a){return new Bn(s,a)}var bh=Bn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,a){this._url=s;var u=o({},this.defaultWmsParams);for(var f in a)f in this.options||(u[f]=a[f]);a=v(this,a);var _=a.detectRetina&&lt.retina?2:1,b=this.getTileSize();u.width=b.x*_,u.height=b.y*_,this.wmsParams=u},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,Bn.prototype.onAdd.call(this,s)},getTileUrl:function(s){var a=this._tileCoordsToNwSe(s),u=this._crs,f=q(u.project(a[0]),u.project(a[1])),_=f.min,b=f.max,T=(this._wmsVersion>=1.3&&this._crs===dh?[_.y,_.x,b.y,b.x]:[_.x,_.y,b.x,b.y]).join(","),R=Bn.prototype.getTileUrl.call(this,s);return R+w(this.wmsParams,R,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+T},setParams:function(s,a){return o(this.wmsParams,s),a||this.redraw(),this}});function Np(s,a){return new bh(s,a)}Bn.WMS=bh,vh.wms=Np;var Ti=Xe.extend({options:{padding:.1},initialize:function(s){v(this,s),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,a){var u=this._map.getZoomScale(a,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,a),b=f.multiplyBy(-u).add(_).subtract(this._map._getNewPixelOrigin(s,a));lt.any3d?on(this._container,b,u):ae(this._container,b)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,a=this._map.getSize(),u=this._map.containerPointToLayerPoint(a.multiplyBy(-s)).round();this._bounds=new ft(u,u.add(a.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),xh=Ti.extend({options:{tolerance:0},getEvents:function(){var s=Ti.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ti.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");mt(s,"mousemove",this._onMouseMove,this),mt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),mt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,ee(this._container),Vt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var a in this._layers)s=this._layers[a],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ti.prototype._update.call(this);var s=this._bounds,a=this._container,u=s.getSize(),f=lt.retina?2:1;ae(a,s.min),a.width=f*u.x,a.height=f*u.y,a.style.width=u.x+"px",a.style.height=u.y+"px",lt.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Ti.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[c(s)]=s;var a=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var a=s._order,u=a.next,f=a.prev;u?u.prev=f:this._drawLast=f,f?f.next=u:this._drawFirst=u,delete s._order,delete this._layers[c(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var a=s.options.dashArray.split(/[, ]+/),u=[],f,_;for(_=0;_<a.length;_++){if(f=Number(a[_]),isNaN(f))return;u.push(f)}s.options._dashArray=u}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||E(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var a=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ft,this._redrawBounds.extend(s._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(s._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var a=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,a=this._redrawBounds;if(this._ctx.save(),a){var u=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)s=f.layer,(!a||s._pxBounds&&s._pxBounds.intersects(a))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,a){if(this._drawing){var u,f,_,b,T=s._parts,R=T.length,F=this._ctx;if(R){for(F.beginPath(),u=0;u<R;u++){for(f=0,_=T[u].length;f<_;f++)b=T[u][f],F[f?"lineTo":"moveTo"](b.x,b.y);a&&F.closePath()}this._fillStroke(F,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var a=s._point,u=this._ctx,f=Math.max(Math.round(s._radius),1),_=(Math.max(Math.round(s._radiusY),1)||f)/f;_!==1&&(u.save(),u.scale(1,_)),u.beginPath(),u.arc(a.x,a.y/_,f,0,Math.PI*2,!1),_!==1&&u.restore(),this._fillStroke(u,s)}},_fillStroke:function(s,a){var u=a.options;u.fill&&(s.globalAlpha=u.fillOpacity,s.fillStyle=u.fillColor||u.color,s.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(s.setLineDash&&s.setLineDash(a.options&&a.options._dashArray||[]),s.globalAlpha=u.opacity,s.lineWidth=u.weight,s.strokeStyle=u.color,s.lineCap=u.lineCap,s.lineJoin=u.lineJoin,s.stroke())},_onClick:function(s){for(var a=this._map.mouseEventToLayerPoint(s),u,f,_=this._drawFirst;_;_=_.next)u=_.layer,u.options.interactive&&u._containsPoint(a)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(u))&&(f=u);this._fireEvent(f?[f]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,a)}},_handleMouseOut:function(s){var a=this._hoveredLayer;a&&(se(this._container,"leaflet-interactive"),this._fireEvent([a],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,a){if(!this._mouseHoverThrottled){for(var u,f,_=this._drawFirst;_;_=_.next)u=_.layer,u.options.interactive&&u._containsPoint(a)&&(f=u);f!==this._hoveredLayer&&(this._handleMouseOut(s),f&&(xt(this._container,"leaflet-interactive"),this._fireEvent([f],s,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,a,u){this._map._fireDOMEvent(a,u||a.type,s)},_bringToFront:function(s){var a=s._order;if(a){var u=a.next,f=a.prev;if(u)u.prev=f;else return;f?f.next=u:u&&(this._drawFirst=u),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(s)}},_bringToBack:function(s){var a=s._order;if(a){var u=a.next,f=a.prev;if(f)f.next=u;else return;u?u.prev=f:f&&(this._drawLast=f),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(s)}}});function wh(s){return lt.canvas?new xh(s):null}var xs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Bp={_initContainer:function(){this._container=Lt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ti.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var a=s._container=xs("shape");xt(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",s._path=xs("path"),a.appendChild(s._path),this._updateStyle(s),this._layers[c(s)]=s},_addPath:function(s){var a=s._container;this._container.appendChild(a),s.options.interactive&&s.addInteractiveTarget(a)},_removePath:function(s){var a=s._container;ee(a),s.removeInteractiveTarget(a),delete this._layers[c(s)]},_updateStyle:function(s){var a=s._stroke,u=s._fill,f=s.options,_=s._container;_.stroked=!!f.stroke,_.filled=!!f.fill,f.stroke?(a||(a=s._stroke=xs("stroke")),_.appendChild(a),a.weight=f.weight+"px",a.color=f.color,a.opacity=f.opacity,f.dashArray?a.dashStyle=C(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=f.lineCap.replace("butt","flat"),a.joinstyle=f.lineJoin):a&&(_.removeChild(a),s._stroke=null),f.fill?(u||(u=s._fill=xs("fill")),_.appendChild(u),u.color=f.fillColor||f.color,u.opacity=f.fillOpacity):u&&(_.removeChild(u),s._fill=null)},_updateCircle:function(s){var a=s._point.round(),u=Math.round(s._radius),f=Math.round(s._radiusY||u);this._setPath(s,s._empty()?"M0 0":"AL "+a.x+","+a.y+" "+u+","+f+" 0,"+65535*360)},_setPath:function(s,a){s._path.v=a},_bringToFront:function(s){An(s._container)},_bringToBack:function(s){In(s._container)}},Do=lt.vml?xs:Qt,ws=Ti.extend({_initContainer:function(){this._container=Do("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Do("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ee(this._container),Vt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ti.prototype._update.call(this);var s=this._bounds,a=s.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,u.setAttribute("width",a.x),u.setAttribute("height",a.y)),ae(u,s.min),u.setAttribute("viewBox",[s.min.x,s.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(s){var a=s._path=Do("path");s.options.className&&xt(a,s.options.className),s.options.interactive&&xt(a,"leaflet-interactive"),this._updateStyle(s),this._layers[c(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){ee(s._path),s.removeInteractiveTarget(s._path),delete this._layers[c(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var a=s._path,u=s.options;a&&(u.stroke?(a.setAttribute("stroke",u.color),a.setAttribute("stroke-opacity",u.opacity),a.setAttribute("stroke-width",u.weight),a.setAttribute("stroke-linecap",u.lineCap),a.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?a.setAttribute("stroke-dasharray",u.dashArray):a.removeAttribute("stroke-dasharray"),u.dashOffset?a.setAttribute("stroke-dashoffset",u.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),u.fill?(a.setAttribute("fill",u.fillColor||u.color),a.setAttribute("fill-opacity",u.fillOpacity),a.setAttribute("fill-rule",u.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(s,a){this._setPath(s,zt(s._parts,a))},_updateCircle:function(s){var a=s._point,u=Math.max(Math.round(s._radius),1),f=Math.max(Math.round(s._radiusY),1)||u,_="a"+u+","+f+" 0 1,0 ",b=s._empty()?"M0 0":"M"+(a.x-u)+","+a.y+_+u*2+",0 "+_+-u*2+",0 ";this._setPath(s,b)},_setPath:function(s,a){s._path.setAttribute("d",a)},_bringToFront:function(s){An(s._path)},_bringToBack:function(s){In(s._path)}});lt.vml&&ws.include(Bp);function kh(s){return lt.svg||lt.vml?new ws(s):null}St.include({getRenderer:function(s){var a=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var a=this._paneRenderers[s];return a===void 0&&(a=this._createRenderer({pane:s}),this._paneRenderers[s]=a),a},_createRenderer:function(s){return this.options.preferCanvas&&wh(s)||kh(s)}});var Mh=Fn.extend({initialize:function(s,a){Fn.prototype.initialize.call(this,this._boundsToLatLngs(s),a)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ct(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Wp(s,a){return new Mh(s,a)}ws.create=Do,ws.pointsToPath=zt,Pi.geometryToLayer=xo,Pi.coordsToLatLng=oa,Pi.coordsToLatLngs=wo,Pi.latLngToCoords=ra,Pi.latLngsToCoords=ko,Pi.getFeature=Nn,Pi.asFeature=Mo,St.mergeOptions({boxZoom:!0});var Sh=ui.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Vt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ee(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),fs(),Hr(),this._startPoint=this._map.mouseEventToContainerPoint(s),mt(document,{contextmenu:ln,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Lt("div","leaflet-zoom-box",this._container),xt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var a=new ft(this._point,this._startPoint),u=a.getSize();ae(this._box,a.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(ee(this._box),se(this._container,"leaflet-crosshair")),ps(),Vr(),Vt(document,{contextmenu:ln,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new dt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});St.addInitHook("addHandler","boxZoom",Sh),St.mergeOptions({doubleClickZoom:!0});var Ph=ui.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var a=this._map,u=a.getZoom(),f=a.options.zoomDelta,_=s.originalEvent.shiftKey?u-f:u+f;a.options.doubleClickZoom==="center"?a.setZoom(_):a.setZoomAround(s.containerPoint,_)}});St.addInitHook("addHandler","doubleClickZoom",Ph),St.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Th=ui.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new ji(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}xt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){se(this._map._container,"leaflet-grab"),se(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=ct(this._map.options.maxBounds);this._offsetLimit=q(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var a=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(a),this._prunePositions(a)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,a){return s-(s-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;s.x<a.min.x&&(s.x=this._viscousLimit(s.x,a.min.x)),s.y<a.min.y&&(s.y=this._viscousLimit(s.y,a.min.y)),s.x>a.max.x&&(s.x=this._viscousLimit(s.x,a.max.x)),s.y>a.max.y&&(s.y=this._viscousLimit(s.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,a=Math.round(s/2),u=this._initialWorldOffset,f=this._draggable._newPos.x,_=(f-a+u)%s+a-u,b=(f+a+u)%s-a-u,T=Math.abs(_+u)<Math.abs(b+u)?_:b;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=T},_onDragEnd:function(s){var a=this._map,u=a.options,f=!u.inertia||s.noInertia||this._times.length<2;if(a.fire("dragend",s),f)a.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),b=(this._lastTime-this._times[0])/1e3,T=u.easeLinearity,R=_.multiplyBy(T/b),F=R.distanceTo([0,0]),Y=Math.min(u.inertiaMaxSpeed,F),et=R.multiplyBy(Y/F),pt=Y/(u.inertiaDeceleration*T),wt=et.multiplyBy(-pt/2).round();!wt.x&&!wt.y?a.fire("moveend"):(wt=a._limitOffset(wt,a.options.maxBounds),E(function(){a.panBy(wt,{duration:pt,easeLinearity:T,noMoveStart:!0,animate:!0})}))}}});St.addInitHook("addHandler","dragging",Th),St.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Dh=ui.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),mt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Vt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,a=document.documentElement,u=s.scrollTop||a.scrollTop,f=s.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(f,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var a=this._panKeys={},u=this.keyCodes,f,_;for(f=0,_=u.left.length;f<_;f++)a[u.left[f]]=[-1*s,0];for(f=0,_=u.right.length;f<_;f++)a[u.right[f]]=[s,0];for(f=0,_=u.down.length;f<_;f++)a[u.down[f]]=[0,s];for(f=0,_=u.up.length;f<_;f++)a[u.up[f]]=[0,-1*s]},_setZoomDelta:function(s){var a=this._zoomKeys={},u=this.keyCodes,f,_;for(f=0,_=u.zoomIn.length;f<_;f++)a[u.zoomIn[f]]=s;for(f=0,_=u.zoomOut.length;f<_;f++)a[u.zoomOut[f]]=-s},_addHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Vt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var a=s.keyCode,u=this._map,f;if(a in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(f=this._panKeys[a],s.shiftKey&&(f=J(f).multiplyBy(3)),u.options.maxBounds&&(f=u._limitOffset(J(f),u.options.maxBounds)),u.options.worldCopyJump){var _=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(f)));u.panTo(_)}else u.panBy(f)}else if(a in this._zoomKeys)u.setZoom(u.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;ln(s)}}});St.addInitHook("addHandler","keyboard",Dh),St.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Lh=ui.extend({addHooks:function(){mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Vt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var a=Jl(s),u=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var f=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),f),ln(s)},_performZoom:function(){var s=this._map,a=s.getZoom(),u=this._map.options.zoomSnap||0;s._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,b=u?Math.ceil(_/u)*u:_,T=s._limitZoom(a+(this._delta>0?b:-b))-a;this._delta=0,this._startTime=null,T&&(s.options.scrollWheelZoom==="center"?s.setZoom(a+T):s.setZoomAround(this._lastMousePos,a+T))}});St.addInitHook("addHandler","scrollWheelZoom",Lh);var Yp=600;St.mergeOptions({tapHold:lt.touchNative&&lt.safari&&lt.mobile,tapTolerance:15});var Ch=ui.extend({addHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Vt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var a=s.touches[0];this._startPos=this._newPos=new V(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(mt(document,"touchend",ge),mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),Yp),mt(document,"touchend touchcancel contextmenu",this._cancel,this),mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Vt(document,"touchend",ge),Vt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Vt(document,"touchend touchcancel contextmenu",this._cancel,this),Vt(document,"touchmove",this._onMove,this)},_onMove:function(s){var a=s.touches[0];this._newPos=new V(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,a){var u=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});u._simulated=!0,a.target.dispatchEvent(u)}});St.addInitHook("addHandler","tapHold",Ch),St.mergeOptions({touchZoom:lt.touch,bounceAtZoomLimits:!0});var Oh=ui.extend({addHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){se(this._map._container,"leaflet-touch-zoom"),Vt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var a=this._map;if(!(!s.touches||s.touches.length!==2||a._animatingZoom||this._zooming)){var u=a.mouseEventToContainerPoint(s.touches[0]),f=a.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(u.add(f)._divideBy(2))),this._startDist=u.distanceTo(f),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend touchcancel",this._onTouchEnd,this),ge(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var a=this._map,u=a.mouseEventToContainerPoint(s.touches[0]),f=a.mouseEventToContainerPoint(s.touches[1]),_=u.distanceTo(f)/this._startDist;if(this._zoom=a.getScaleZoom(_,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&_<1||this._zoom>a.getMaxZoom()&&_>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var b=u._add(f)._divideBy(2)._subtract(this._centerPoint);if(_===1&&b.x===0&&b.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(b),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var T=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=E(T,this,!0),ge(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Vt(document,"touchmove",this._onTouchMove,this),Vt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});St.addInitHook("addHandler","touchZoom",Oh),St.BoxZoom=Sh,St.DoubleClickZoom=Ph,St.Drag=Th,St.Keyboard=Dh,St.ScrollWheelZoom=Lh,St.TapHold=Ch,St.TouchZoom=Oh,i.Bounds=ft,i.Browser=lt,i.CRS=Et,i.Canvas=xh,i.Circle=sa,i.CircleMarker=bo,i.Class=j,i.Control=Ke,i.DivIcon=yh,i.DivOverlay=di,i.DomEvent=op,i.DomUtil=np,i.Draggable=ji,i.Evented=H,i.FeatureGroup=Mi,i.GeoJSON=Pi,i.GridLayer=bs,i.Handler=ui,i.Icon=zn,i.ImageOverlay=So,i.LatLng=ot,i.LatLngBounds=dt,i.Layer=Xe,i.LayerGroup=Rn,i.LineUtil=yp,i.Map=St,i.Marker=vo,i.Mixin=dp,i.Path=Ui,i.Point=V,i.PolyUtil=fp,i.Polygon=Fn,i.Polyline=Si,i.Popup=Po,i.PosAnimation=th,i.Projection=vp,i.Rectangle=Mh,i.Renderer=Ti,i.SVG=ws,i.SVGOverlay=gh,i.TileLayer=Bn,i.Tooltip=To,i.Transformation=Bt,i.Util=U,i.VideoOverlay=_h,i.bind=l,i.bounds=q,i.canvas=wh,i.circle=Tp,i.circleMarker=Pp,i.control=gs,i.divIcon=zp,i.extend=o,i.featureGroup=kp,i.geoJSON=mh,i.geoJson=Cp,i.gridLayer=Fp,i.icon=Mp,i.imageOverlay=Op,i.latLng=it,i.latLngBounds=ct,i.layerGroup=wp,i.map=rp,i.marker=Sp,i.point=J,i.polygon=Lp,i.polyline=Dp,i.popup=Ip,i.rectangle=Wp,i.setOptions=v,i.stamp=c,i.svg=kh,i.svgOverlay=Ap,i.tileLayer=vh,i.tooltip=Rp,i.transformation=jt,i.version=n,i.videoOverlay=Ep;var Hp=window.L;i.noConflict=function(){return window.L=Hp,this},window.L=i})})(Sa,Sa.exports);var Yu=Sa.exports;const fi=Wu(Yu),om=sm({__proto__:null,default:fi},[Yu]);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Hu;function G(){return Hu.apply(null,arguments)}function rm(e){Hu=e}function ni(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function vn(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ct(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qa(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Ct(e,t))return!1;return!0}function Ce(e){return e===void 0}function Yi(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function so(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function Vu(e,t){var i=[],n,o=e.length;for(n=0;n<o;++n)i.push(t(e[n],n));return i}function $i(e,t){for(var i in t)Ct(t,i)&&(e[i]=t[i]);return Ct(t,"toString")&&(e.toString=t.toString),Ct(t,"valueOf")&&(e.valueOf=t.valueOf),e}function xi(e,t,i,n){return dd(e,t,i,n,!0).utc()}function am(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function vt(e){return e._pf==null&&(e._pf=am()),e._pf}var Pa;Array.prototype.some?Pa=Array.prototype.some:Pa=function(e){var t=Object(this),i=t.length>>>0,n;for(n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function Ka(e){var t=null,i=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=vt(e),i=Pa.call(t.parsedDateParts,function(o){return o!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function br(e){var t=xi(NaN);return e!=null?$i(vt(t),e):vt(t).userInvalidated=!0,t}var zh=G.momentProperties=[],ha=!1;function Xa(e,t){var i,n,o,r=zh.length;if(Ce(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Ce(t._i)||(e._i=t._i),Ce(t._f)||(e._f=t._f),Ce(t._l)||(e._l=t._l),Ce(t._strict)||(e._strict=t._strict),Ce(t._tzm)||(e._tzm=t._tzm),Ce(t._isUTC)||(e._isUTC=t._isUTC),Ce(t._offset)||(e._offset=t._offset),Ce(t._pf)||(e._pf=vt(t)),Ce(t._locale)||(e._locale=t._locale),r>0)for(i=0;i<r;i++)n=zh[i],o=t[n],Ce(o)||(e[n]=o);return e}function oo(e){Xa(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ha===!1&&(ha=!0,G.updateOffset(this),ha=!1)}function si(e){return e instanceof oo||e!=null&&e._isAMomentObject!=null}function Zu(e){G.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Ue(e,t){var i=!0;return $i(function(){if(G.deprecationHandler!=null&&G.deprecationHandler(null,e),i){var n=[],o,r,l,h=arguments.length;for(r=0;r<h;r++){if(o="",typeof arguments[r]=="object"){o+=`
[`+r+"] ";for(l in arguments[0])Ct(arguments[0],l)&&(o+=l+": "+arguments[0][l]+", ");o=o.slice(0,-2)}else o=arguments[r];n.push(o)}Zu(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),i=!1}return t.apply(this,arguments)},t)}var Fh={};function ju(e,t){G.deprecationHandler!=null&&G.deprecationHandler(e,t),Fh[e]||(Zu(t),Fh[e]=!0)}G.suppressDeprecationWarnings=!1;G.deprecationHandler=null;function wi(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function lm(e){var t,i;for(i in e)Ct(e,i)&&(t=e[i],wi(t)?this[i]=t:this["_"+i]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ta(e,t){var i=$i({},e),n;for(n in t)Ct(t,n)&&(vn(e[n])&&vn(t[n])?(i[n]={},$i(i[n],e[n]),$i(i[n],t[n])):t[n]!=null?i[n]=t[n]:delete i[n]);for(n in e)Ct(e,n)&&!Ct(t,n)&&vn(e[n])&&(i[n]=$i({},i[n]));return i}function Qa(e){e!=null&&this.set(e)}var Da;Object.keys?Da=Object.keys:Da=function(e){var t,i=[];for(t in e)Ct(e,t)&&i.push(t);return i};var hm={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function cm(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return wi(n)?n.call(t,i):n}function bi(e,t,i){var n=""+Math.abs(e),o=t-n.length,r=e>=0;return(r?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}var Ja=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Co=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ca={},Un={};function ht(e,t,i,n){var o=n;typeof n=="string"&&(o=function(){return this[n]()}),e&&(Un[e]=o),t&&(Un[t[0]]=function(){return bi(o.apply(this,arguments),t[1],t[2])}),i&&(Un[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function um(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function dm(e){var t=e.match(Ja),i,n;for(i=0,n=t.length;i<n;i++)Un[t[i]]?t[i]=Un[t[i]]:t[i]=um(t[i]);return function(o){var r="",l;for(l=0;l<n;l++)r+=wi(t[l])?t[l].call(o,e):t[l];return r}}function $o(e,t){return e.isValid()?(t=Uu(t,e.localeData()),ca[t]=ca[t]||dm(t),ca[t](e)):e.localeData().invalidDate()}function Uu(e,t){var i=5;function n(o){return t.longDateFormat(o)||o}for(Co.lastIndex=0;i>=0&&Co.test(e);)e=e.replace(Co,n),Co.lastIndex=0,i-=1;return e}var fm={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function pm(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.match(Ja).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var mm="Invalid date";function _m(){return this._invalidDate}var gm="%d",ym=/\d{1,2}/;function vm(e){return this._ordinal.replace("%d",e)}var bm={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function xm(e,t,i,n){var o=this._relativeTime[i];return wi(o)?o(e,t,i,n):o.replace(/%d/i,e)}function wm(e,t){var i=this._relativeTime[e>0?"future":"past"];return wi(i)?i(t):i.replace(/%s/i,t)}var Nh={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function $e(e){return typeof e=="string"?Nh[e]||Nh[e.toLowerCase()]:void 0}function tl(e){var t={},i,n;for(n in e)Ct(e,n)&&(i=$e(n),i&&(t[i]=e[n]));return t}var km={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Mm(e){var t=[],i;for(i in e)Ct(e,i)&&t.push({unit:i,priority:km[i]});return t.sort(function(n,o){return n.priority-o.priority}),t}var $u=/\d/,ze=/\d\d/,Gu=/\d{3}/,el=/\d{4}/,xr=/[+-]?\d{6}/,Xt=/\d\d?/,qu=/\d\d\d\d?/,Ku=/\d\d\d\d\d\d?/,wr=/\d{1,3}/,il=/\d{1,4}/,kr=/[+-]?\d{1,6}/,os=/\d+/,Mr=/[+-]?\d+/,Sm=/Z|[+-]\d\d:?\d\d/gi,Sr=/Z|[+-]\d\d(?::?\d\d)?/gi,Pm=/[+-]?\d+(\.\d{1,3})?/,ro=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,rs=/^[1-9]\d?/,nl=/^([1-9]\d|\d)/,sr;sr={};function nt(e,t,i){sr[e]=wi(t)?t:function(n,o){return n&&i?i:t}}function Tm(e,t){return Ct(sr,e)?sr[e](t._strict,t._locale):new RegExp(Dm(e))}function Dm(e){return Bi(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,i,n,o,r){return i||n||o||r}))}function Bi(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ze(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function kt(e){var t=+e,i=0;return t!==0&&isFinite(t)&&(i=Ze(t)),i}var La={};function Ft(e,t){var i,n=t,o;for(typeof e=="string"&&(e=[e]),Yi(t)&&(n=function(r,l){l[t]=kt(r)}),o=e.length,i=0;i<o;i++)La[e[i]]=n}function ao(e,t){Ft(e,function(i,n,o,r){o._w=o._w||{},t(i,o._w,o,r)})}function Lm(e,t,i){t!=null&&Ct(La,e)&&La[e](t,i._a,i,e)}function Pr(e){return e%4===0&&e%100!==0||e%400===0}var ke=0,Ii=1,_i=2,ue=3,Je=4,Ri=5,gn=6,Cm=7,Om=8;ht("Y",0,0,function(){var e=this.year();return e<=9999?bi(e,4):"+"+e});ht(0,["YY",2],0,function(){return this.year()%100});ht(0,["YYYY",4],0,"year");ht(0,["YYYYY",5],0,"year");ht(0,["YYYYYY",6,!0],0,"year");nt("Y",Mr);nt("YY",Xt,ze);nt("YYYY",il,el);nt("YYYYY",kr,xr);nt("YYYYYY",kr,xr);Ft(["YYYYY","YYYYYY"],ke);Ft("YYYY",function(e,t){t[ke]=e.length===2?G.parseTwoDigitYear(e):kt(e)});Ft("YY",function(e,t){t[ke]=G.parseTwoDigitYear(e)});Ft("Y",function(e,t){t[ke]=parseInt(e,10)});function Fs(e){return Pr(e)?366:365}G.parseTwoDigitYear=function(e){return kt(e)+(kt(e)>68?1900:2e3)};var Xu=as("FullYear",!0);function Em(){return Pr(this.year())}function as(e,t){return function(i){return i!=null?(Qu(this,e,i),G.updateOffset(this,t),this):Zs(this,e)}}function Zs(e,t){if(!e.isValid())return NaN;var i=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?i.getUTCMilliseconds():i.getMilliseconds();case"Seconds":return n?i.getUTCSeconds():i.getSeconds();case"Minutes":return n?i.getUTCMinutes():i.getMinutes();case"Hours":return n?i.getUTCHours():i.getHours();case"Date":return n?i.getUTCDate():i.getDate();case"Day":return n?i.getUTCDay():i.getDay();case"Month":return n?i.getUTCMonth():i.getMonth();case"FullYear":return n?i.getUTCFullYear():i.getFullYear();default:return NaN}}function Qu(e,t,i){var n,o,r,l,h;if(!(!e.isValid()||isNaN(i))){switch(n=e._d,o=e._isUTC,t){case"Milliseconds":return void(o?n.setUTCMilliseconds(i):n.setMilliseconds(i));case"Seconds":return void(o?n.setUTCSeconds(i):n.setSeconds(i));case"Minutes":return void(o?n.setUTCMinutes(i):n.setMinutes(i));case"Hours":return void(o?n.setUTCHours(i):n.setHours(i));case"Date":return void(o?n.setUTCDate(i):n.setDate(i));case"FullYear":break;default:return}r=i,l=e.month(),h=e.date(),h=h===29&&l===1&&!Pr(r)?28:h,o?n.setUTCFullYear(r,l,h):n.setFullYear(r,l,h)}}function Am(e){return e=$e(e),wi(this[e])?this[e]():this}function Im(e,t){if(typeof e=="object"){e=tl(e);var i=Mm(e),n,o=i.length;for(n=0;n<o;n++)this[i[n].unit](e[i[n].unit])}else if(e=$e(e),wi(this[e]))return this[e](t);return this}function Rm(e,t){return(e%t+t)%t}var oe;Array.prototype.indexOf?oe=Array.prototype.indexOf:oe=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function sl(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=Rm(t,12);return e+=(t-i)/12,i===1?Pr(e)?29:28:31-i%7%2}ht("M",["MM",2],"Mo",function(){return this.month()+1});ht("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});ht("MMMM",0,0,function(e){return this.localeData().months(this,e)});nt("M",Xt,rs);nt("MM",Xt,ze);nt("MMM",function(e,t){return t.monthsShortRegex(e)});nt("MMMM",function(e,t){return t.monthsRegex(e)});Ft(["M","MM"],function(e,t){t[Ii]=kt(e)-1});Ft(["MMM","MMMM"],function(e,t,i,n){var o=i._locale.monthsParse(e,n,i._strict);o!=null?t[Ii]=o:vt(i).invalidMonth=e});var zm="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ju="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),td=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Fm=ro,Nm=ro;function Bm(e,t){return e?ni(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||td).test(t)?"format":"standalone"][e.month()]:ni(this._months)?this._months:this._months.standalone}function Wm(e,t){return e?ni(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[td.test(t)?"format":"standalone"][e.month()]:ni(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Ym(e,t,i){var n,o,r,l=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=xi([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?t==="MMM"?(o=oe.call(this._shortMonthsParse,l),o!==-1?o:null):(o=oe.call(this._longMonthsParse,l),o!==-1?o:null):t==="MMM"?(o=oe.call(this._shortMonthsParse,l),o!==-1?o:(o=oe.call(this._longMonthsParse,l),o!==-1?o:null)):(o=oe.call(this._longMonthsParse,l),o!==-1?o:(o=oe.call(this._shortMonthsParse,l),o!==-1?o:null))}function Hm(e,t,i){var n,o,r;if(this._monthsParseExact)return Ym.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=xi([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!i&&!this._monthsParse[n]&&(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(i&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}}function ed(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=kt(t);else if(t=e.localeData().monthsParse(t),!Yi(t))return e}var i=t,n=e.date();return n=n<29?n:Math.min(n,sl(e.year(),i)),e._isUTC?e._d.setUTCMonth(i,n):e._d.setMonth(i,n),e}function id(e){return e!=null?(ed(this,e),G.updateOffset(this,!0),this):Zs(this,"Month")}function Vm(){return sl(this.year(),this.month())}function Zm(e){return this._monthsParseExact?(Ct(this,"_monthsRegex")||nd.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ct(this,"_monthsShortRegex")||(this._monthsShortRegex=Fm),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function jm(e){return this._monthsParseExact?(Ct(this,"_monthsRegex")||nd.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ct(this,"_monthsRegex")||(this._monthsRegex=Nm),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function nd(){function e(c,d){return d.length-c.length}var t=[],i=[],n=[],o,r,l,h;for(o=0;o<12;o++)r=xi([2e3,o]),l=Bi(this.monthsShort(r,"")),h=Bi(this.months(r,"")),t.push(l),i.push(h),n.push(h),n.push(l);t.sort(e),i.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Um(e,t,i,n,o,r,l){var h;return e<100&&e>=0?(h=new Date(e+400,t,i,n,o,r,l),isFinite(h.getFullYear())&&h.setFullYear(e)):h=new Date(e,t,i,n,o,r,l),h}function js(e){var t,i;return e<100&&e>=0?(i=Array.prototype.slice.call(arguments),i[0]=e+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function or(e,t,i){var n=7+t-i,o=(7+js(e,0,n).getUTCDay()-t)%7;return-o+n-1}function sd(e,t,i,n,o){var r=(7+i-n)%7,l=or(e,n,o),h=1+7*(t-1)+r+l,c,d;return h<=0?(c=e-1,d=Fs(c)+h):h>Fs(e)?(c=e+1,d=h-Fs(e)):(c=e,d=h),{year:c,dayOfYear:d}}function Us(e,t,i){var n=or(e.year(),t,i),o=Math.floor((e.dayOfYear()-n-1)/7)+1,r,l;return o<1?(l=e.year()-1,r=o+Wi(l,t,i)):o>Wi(e.year(),t,i)?(r=o-Wi(e.year(),t,i),l=e.year()+1):(l=e.year(),r=o),{week:r,year:l}}function Wi(e,t,i){var n=or(e,t,i),o=or(e+1,t,i);return(Fs(e)-n+o)/7}ht("w",["ww",2],"wo","week");ht("W",["WW",2],"Wo","isoWeek");nt("w",Xt,rs);nt("ww",Xt,ze);nt("W",Xt,rs);nt("WW",Xt,ze);ao(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=kt(e)});function $m(e){return Us(e,this._week.dow,this._week.doy).week}var Gm={dow:0,doy:6};function qm(){return this._week.dow}function Km(){return this._week.doy}function Xm(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Qm(e){var t=Us(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}ht("d",0,"do","day");ht("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});ht("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});ht("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});ht("e",0,0,"weekday");ht("E",0,0,"isoWeekday");nt("d",Xt);nt("e",Xt);nt("E",Xt);nt("dd",function(e,t){return t.weekdaysMinRegex(e)});nt("ddd",function(e,t){return t.weekdaysShortRegex(e)});nt("dddd",function(e,t){return t.weekdaysRegex(e)});ao(["dd","ddd","dddd"],function(e,t,i,n){var o=i._locale.weekdaysParse(e,n,i._strict);o!=null?t.d=o:vt(i).invalidWeekday=e});ao(["d","e","E"],function(e,t,i,n){t[n]=kt(e)});function Jm(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function t_(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function ol(e,t){return e.slice(t,7).concat(e.slice(0,t))}var e_="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),od="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),i_="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),n_=ro,s_=ro,o_=ro;function r_(e,t){var i=ni(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?ol(i,this._week.dow):e?i[e.day()]:i}function a_(e){return e===!0?ol(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function l_(e){return e===!0?ol(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function h_(e,t,i){var n,o,r,l=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=xi([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?t==="dddd"?(o=oe.call(this._weekdaysParse,l),o!==-1?o:null):t==="ddd"?(o=oe.call(this._shortWeekdaysParse,l),o!==-1?o:null):(o=oe.call(this._minWeekdaysParse,l),o!==-1?o:null):t==="dddd"?(o=oe.call(this._weekdaysParse,l),o!==-1||(o=oe.call(this._shortWeekdaysParse,l),o!==-1)?o:(o=oe.call(this._minWeekdaysParse,l),o!==-1?o:null)):t==="ddd"?(o=oe.call(this._shortWeekdaysParse,l),o!==-1||(o=oe.call(this._weekdaysParse,l),o!==-1)?o:(o=oe.call(this._minWeekdaysParse,l),o!==-1?o:null)):(o=oe.call(this._minWeekdaysParse,l),o!==-1||(o=oe.call(this._weekdaysParse,l),o!==-1)?o:(o=oe.call(this._shortWeekdaysParse,l),o!==-1?o:null))}function c_(e,t,i){var n,o,r;if(this._weekdaysParseExact)return h_.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=xi([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(i&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(i&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}}function u_(e){if(!this.isValid())return e!=null?this:NaN;var t=Zs(this,"Day");return e!=null?(e=Jm(e,this.localeData()),this.add(e-t,"d")):t}function d_(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function f_(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=t_(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function p_(e){return this._weekdaysParseExact?(Ct(this,"_weekdaysRegex")||rl.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ct(this,"_weekdaysRegex")||(this._weekdaysRegex=n_),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function m_(e){return this._weekdaysParseExact?(Ct(this,"_weekdaysRegex")||rl.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ct(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=s_),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function __(e){return this._weekdaysParseExact?(Ct(this,"_weekdaysRegex")||rl.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ct(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=o_),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function rl(){function e(p,m){return m.length-p.length}var t=[],i=[],n=[],o=[],r,l,h,c,d;for(r=0;r<7;r++)l=xi([2e3,1]).day(r),h=Bi(this.weekdaysMin(l,"")),c=Bi(this.weekdaysShort(l,"")),d=Bi(this.weekdays(l,"")),t.push(h),i.push(c),n.push(d),o.push(h),o.push(c),o.push(d);t.sort(e),i.sort(e),n.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function al(){return this.hours()%12||12}function g_(){return this.hours()||24}ht("H",["HH",2],0,"hour");ht("h",["hh",2],0,al);ht("k",["kk",2],0,g_);ht("hmm",0,0,function(){return""+al.apply(this)+bi(this.minutes(),2)});ht("hmmss",0,0,function(){return""+al.apply(this)+bi(this.minutes(),2)+bi(this.seconds(),2)});ht("Hmm",0,0,function(){return""+this.hours()+bi(this.minutes(),2)});ht("Hmmss",0,0,function(){return""+this.hours()+bi(this.minutes(),2)+bi(this.seconds(),2)});function rd(e,t){ht(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}rd("a",!0);rd("A",!1);function ad(e,t){return t._meridiemParse}nt("a",ad);nt("A",ad);nt("H",Xt,nl);nt("h",Xt,rs);nt("k",Xt,rs);nt("HH",Xt,ze);nt("hh",Xt,ze);nt("kk",Xt,ze);nt("hmm",qu);nt("hmmss",Ku);nt("Hmm",qu);nt("Hmmss",Ku);Ft(["H","HH"],ue);Ft(["k","kk"],function(e,t,i){var n=kt(e);t[ue]=n===24?0:n});Ft(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e});Ft(["h","hh"],function(e,t,i){t[ue]=kt(e),vt(i).bigHour=!0});Ft("hmm",function(e,t,i){var n=e.length-2;t[ue]=kt(e.substr(0,n)),t[Je]=kt(e.substr(n)),vt(i).bigHour=!0});Ft("hmmss",function(e,t,i){var n=e.length-4,o=e.length-2;t[ue]=kt(e.substr(0,n)),t[Je]=kt(e.substr(n,2)),t[Ri]=kt(e.substr(o)),vt(i).bigHour=!0});Ft("Hmm",function(e,t,i){var n=e.length-2;t[ue]=kt(e.substr(0,n)),t[Je]=kt(e.substr(n))});Ft("Hmmss",function(e,t,i){var n=e.length-4,o=e.length-2;t[ue]=kt(e.substr(0,n)),t[Je]=kt(e.substr(n,2)),t[Ri]=kt(e.substr(o))});function y_(e){return(e+"").toLowerCase().charAt(0)==="p"}var v_=/[ap]\.?m?\.?/i,b_=as("Hours",!0);function x_(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}var ld={calendar:hm,longDateFormat:fm,invalidDate:mm,ordinal:gm,dayOfMonthOrdinalParse:ym,relativeTime:bm,months:zm,monthsShort:Ju,week:Gm,weekdays:e_,weekdaysMin:i_,weekdaysShort:od,meridiemParse:v_},Jt={},Ms={},$s;function w_(e,t){var i,n=Math.min(e.length,t.length);for(i=0;i<n;i+=1)if(e[i]!==t[i])return i;return n}function Bh(e){return e&&e.toLowerCase().replace("_","-")}function k_(e){for(var t=0,i,n,o,r;t<e.length;){for(r=Bh(e[t]).split("-"),i=r.length,n=Bh(e[t+1]),n=n?n.split("-"):null;i>0;){if(o=Tr(r.slice(0,i).join("-")),o)return o;if(n&&n.length>=i&&w_(r,n)>=i-1)break;i--}t++}return $s}function M_(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Tr(e){var t=null,i;if(Jt[e]===void 0&&typeof module<"u"&&module&&module.exports&&M_(e))try{t=$s._abbr,i=require,i("./locale/"+e),Qi(t)}catch{Jt[e]=null}return Jt[e]}function Qi(e,t){var i;return e&&(Ce(t)?i=Hi(e):i=ll(e,t),i?$s=i:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),$s._abbr}function ll(e,t){if(t!==null){var i,n=ld;if(t.abbr=e,Jt[e]!=null)ju("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Jt[e]._config;else if(t.parentLocale!=null)if(Jt[t.parentLocale]!=null)n=Jt[t.parentLocale]._config;else if(i=Tr(t.parentLocale),i!=null)n=i._config;else return Ms[t.parentLocale]||(Ms[t.parentLocale]=[]),Ms[t.parentLocale].push({name:e,config:t}),null;return Jt[e]=new Qa(Ta(n,t)),Ms[e]&&Ms[e].forEach(function(o){ll(o.name,o.config)}),Qi(e),Jt[e]}else return delete Jt[e],null}function S_(e,t){if(t!=null){var i,n,o=ld;Jt[e]!=null&&Jt[e].parentLocale!=null?Jt[e].set(Ta(Jt[e]._config,t)):(n=Tr(e),n!=null&&(o=n._config),t=Ta(o,t),n==null&&(t.abbr=e),i=new Qa(t),i.parentLocale=Jt[e],Jt[e]=i),Qi(e)}else Jt[e]!=null&&(Jt[e].parentLocale!=null?(Jt[e]=Jt[e].parentLocale,e===Qi()&&Qi(e)):Jt[e]!=null&&delete Jt[e]);return Jt[e]}function Hi(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return $s;if(!ni(e)){if(t=Tr(e),t)return t;e=[e]}return k_(e)}function P_(){return Da(Jt)}function hl(e){var t,i=e._a;return i&&vt(e).overflow===-2&&(t=i[Ii]<0||i[Ii]>11?Ii:i[_i]<1||i[_i]>sl(i[ke],i[Ii])?_i:i[ue]<0||i[ue]>24||i[ue]===24&&(i[Je]!==0||i[Ri]!==0||i[gn]!==0)?ue:i[Je]<0||i[Je]>59?Je:i[Ri]<0||i[Ri]>59?Ri:i[gn]<0||i[gn]>999?gn:-1,vt(e)._overflowDayOfYear&&(t<ke||t>_i)&&(t=_i),vt(e)._overflowWeeks&&t===-1&&(t=Cm),vt(e)._overflowWeekday&&t===-1&&(t=Om),vt(e).overflow=t),e}var T_=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,D_=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,L_=/Z|[+-]\d\d(?::?\d\d)?/,Oo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ua=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],C_=/^\/?Date\((-?\d+)/i,O_=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,E_={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function hd(e){var t,i,n=e._i,o=T_.exec(n)||D_.exec(n),r,l,h,c,d=Oo.length,p=ua.length;if(o){for(vt(e).iso=!0,t=0,i=d;t<i;t++)if(Oo[t][1].exec(o[1])){l=Oo[t][0],r=Oo[t][2]!==!1;break}if(l==null){e._isValid=!1;return}if(o[3]){for(t=0,i=p;t<i;t++)if(ua[t][1].exec(o[3])){h=(o[2]||" ")+ua[t][0];break}if(h==null){e._isValid=!1;return}}if(!r&&h!=null){e._isValid=!1;return}if(o[4])if(L_.exec(o[4]))c="Z";else{e._isValid=!1;return}e._f=l+(h||"")+(c||""),ul(e)}else e._isValid=!1}function A_(e,t,i,n,o,r){var l=[I_(e),Ju.indexOf(t),parseInt(i,10),parseInt(n,10),parseInt(o,10)];return r&&l.push(parseInt(r,10)),l}function I_(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function R_(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function z_(e,t,i){if(e){var n=od.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(n!==o)return vt(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function F_(e,t,i){if(e)return E_[e];if(t)return 0;var n=parseInt(i,10),o=n%100,r=(n-o)/100;return r*60+o}function cd(e){var t=O_.exec(R_(e._i)),i;if(t){if(i=A_(t[4],t[3],t[2],t[5],t[6],t[7]),!z_(t[1],i,e))return;e._a=i,e._tzm=F_(t[8],t[9],t[10]),e._d=js.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),vt(e).rfc2822=!0}else e._isValid=!1}function N_(e){var t=C_.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(hd(e),e._isValid===!1)delete e._isValid;else return;if(cd(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:G.createFromInputFallback(e)}G.createFromInputFallback=Ue("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Zn(e,t,i){return e??t??i}function B_(e){var t=new Date(G.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function cl(e){var t,i,n=[],o,r,l;if(!e._d){for(o=B_(e),e._w&&e._a[_i]==null&&e._a[Ii]==null&&W_(e),e._dayOfYear!=null&&(l=Zn(e._a[ke],o[ke]),(e._dayOfYear>Fs(l)||e._dayOfYear===0)&&(vt(e)._overflowDayOfYear=!0),i=js(l,0,e._dayOfYear),e._a[Ii]=i.getUTCMonth(),e._a[_i]=i.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=o[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ue]===24&&e._a[Je]===0&&e._a[Ri]===0&&e._a[gn]===0&&(e._nextDay=!0,e._a[ue]=0),e._d=(e._useUTC?js:Um).apply(null,n),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ue]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==r&&(vt(e).weekdayMismatch=!0)}}function W_(e){var t,i,n,o,r,l,h,c,d;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(r=1,l=4,i=Zn(t.GG,e._a[ke],Us(Kt(),1,4).year),n=Zn(t.W,1),o=Zn(t.E,1),(o<1||o>7)&&(c=!0)):(r=e._locale._week.dow,l=e._locale._week.doy,d=Us(Kt(),r,l),i=Zn(t.gg,e._a[ke],d.year),n=Zn(t.w,d.week),t.d!=null?(o=t.d,(o<0||o>6)&&(c=!0)):t.e!=null?(o=t.e+r,(t.e<0||t.e>6)&&(c=!0)):o=r),n<1||n>Wi(i,r,l)?vt(e)._overflowWeeks=!0:c!=null?vt(e)._overflowWeekday=!0:(h=sd(i,n,o,r,l),e._a[ke]=h.year,e._dayOfYear=h.dayOfYear)}G.ISO_8601=function(){};G.RFC_2822=function(){};function ul(e){if(e._f===G.ISO_8601){hd(e);return}if(e._f===G.RFC_2822){cd(e);return}e._a=[],vt(e).empty=!0;var t=""+e._i,i,n,o,r,l,h=t.length,c=0,d,p;for(o=Uu(e._f,e._locale).match(Ja)||[],p=o.length,i=0;i<p;i++)r=o[i],n=(t.match(Tm(r,e))||[])[0],n&&(l=t.substr(0,t.indexOf(n)),l.length>0&&vt(e).unusedInput.push(l),t=t.slice(t.indexOf(n)+n.length),c+=n.length),Un[r]?(n?vt(e).empty=!1:vt(e).unusedTokens.push(r),Lm(r,n,e)):e._strict&&!n&&vt(e).unusedTokens.push(r);vt(e).charsLeftOver=h-c,t.length>0&&vt(e).unusedInput.push(t),e._a[ue]<=12&&vt(e).bigHour===!0&&e._a[ue]>0&&(vt(e).bigHour=void 0),vt(e).parsedDateParts=e._a.slice(0),vt(e).meridiem=e._meridiem,e._a[ue]=Y_(e._locale,e._a[ue],e._meridiem),d=vt(e).era,d!==null&&(e._a[ke]=e._locale.erasConvertYear(d,e._a[ke])),cl(e),hl(e)}function Y_(e,t,i){var n;return i==null?t:e.meridiemHour!=null?e.meridiemHour(t,i):(e.isPM!=null&&(n=e.isPM(i),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function H_(e){var t,i,n,o,r,l,h=!1,c=e._f.length;if(c===0){vt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<c;o++)r=0,l=!1,t=Xa({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],ul(t),Ka(t)&&(l=!0),r+=vt(t).charsLeftOver,r+=vt(t).unusedTokens.length*10,vt(t).score=r,h?r<n&&(n=r,i=t):(n==null||r<n||l)&&(n=r,i=t,l&&(h=!0));$i(e,i||t)}function V_(e){if(!e._d){var t=tl(e._i),i=t.day===void 0?t.date:t.day;e._a=Vu([t.year,t.month,i,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),cl(e)}}function Z_(e){var t=new oo(hl(ud(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ud(e){var t=e._i,i=e._f;return e._locale=e._locale||Hi(e._l),t===null||i===void 0&&t===""?br({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),si(t)?new oo(hl(t)):(so(t)?e._d=t:ni(i)?H_(e):i?ul(e):j_(e),Ka(e)||(e._d=null),e))}function j_(e){var t=e._i;Ce(t)?e._d=new Date(G.now()):so(t)?e._d=new Date(t.valueOf()):typeof t=="string"?N_(e):ni(t)?(e._a=Vu(t.slice(0),function(i){return parseInt(i,10)}),cl(e)):vn(t)?V_(e):Yi(t)?e._d=new Date(t):G.createFromInputFallback(e)}function dd(e,t,i,n,o){var r={};return(t===!0||t===!1)&&(n=t,t=void 0),(i===!0||i===!1)&&(n=i,i=void 0),(vn(e)&&qa(e)||ni(e)&&e.length===0)&&(e=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=o,r._l=i,r._i=e,r._f=t,r._strict=n,Z_(r)}function Kt(e,t,i,n){return dd(e,t,i,n,!1)}var U_=Ue("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Kt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:br()}),$_=Ue("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Kt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:br()});function fd(e,t){var i,n;if(t.length===1&&ni(t[0])&&(t=t[0]),!t.length)return Kt();for(i=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](i))&&(i=t[n]);return i}function G_(){var e=[].slice.call(arguments,0);return fd("isBefore",e)}function q_(){var e=[].slice.call(arguments,0);return fd("isAfter",e)}var K_=function(){return Date.now?Date.now():+new Date},Ss=["year","quarter","month","week","day","hour","minute","second","millisecond"];function X_(e){var t,i=!1,n,o=Ss.length;for(t in e)if(Ct(e,t)&&!(oe.call(Ss,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<o;++n)if(e[Ss[n]]){if(i)return!1;parseFloat(e[Ss[n]])!==kt(e[Ss[n]])&&(i=!0)}return!0}function Q_(){return this._isValid}function J_(){return oi(NaN)}function Dr(e){var t=tl(e),i=t.year||0,n=t.quarter||0,o=t.month||0,r=t.week||t.isoWeek||0,l=t.day||0,h=t.hour||0,c=t.minute||0,d=t.second||0,p=t.millisecond||0;this._isValid=X_(t),this._milliseconds=+p+d*1e3+c*6e4+h*1e3*60*60,this._days=+l+r*7,this._months=+o+n*3+i*12,this._data={},this._locale=Hi(),this._bubble()}function Go(e){return e instanceof Dr}function Ca(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function tg(e,t,i){var n=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),r=0,l;for(l=0;l<n;l++)(i&&e[l]!==t[l]||!i&&kt(e[l])!==kt(t[l]))&&r++;return r+o}function pd(e,t){ht(e,0,0,function(){var i=this.utcOffset(),n="+";return i<0&&(i=-i,n="-"),n+bi(~~(i/60),2)+t+bi(~~i%60,2)})}pd("Z",":");pd("ZZ","");nt("Z",Sr);nt("ZZ",Sr);Ft(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=dl(Sr,e)});var eg=/([\+\-]|\d\d)/gi;function dl(e,t){var i=(t||"").match(e),n,o,r;return i===null?null:(n=i[i.length-1]||[],o=(n+"").match(eg)||["-",0,0],r=+(o[1]*60)+kt(o[2]),r===0?0:o[0]==="+"?r:-r)}function fl(e,t){var i,n;return t._isUTC?(i=t.clone(),n=(si(e)||so(e)?e.valueOf():Kt(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),G.updateOffset(i,!1),i):Kt(e).local()}function Oa(e){return-Math.round(e._d.getTimezoneOffset())}G.updateOffset=function(){};function ig(e,t,i){var n=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=dl(Sr,e),e===null)return this}else Math.abs(e)<16&&!i&&(e=e*60);return!this._isUTC&&t&&(o=Oa(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),n!==e&&(!t||this._changeInProgress?gd(this,oi(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,G.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:Oa(this)}function ng(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function sg(e){return this.utcOffset(0,e)}function og(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Oa(this),"m")),this}function rg(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=dl(Sm,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ag(e){return this.isValid()?(e=e?Kt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function lg(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function hg(){if(!Ce(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Xa(e,this),e=ud(e),e._a?(t=e._isUTC?xi(e._a):Kt(e._a),this._isDSTShifted=this.isValid()&&tg(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function cg(){return this.isValid()?!this._isUTC:!1}function ug(){return this.isValid()?this._isUTC:!1}function md(){return this.isValid()?this._isUTC&&this._offset===0:!1}var dg=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,fg=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function oi(e,t){var i=e,n=null,o,r,l;return Go(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:Yi(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(n=dg.exec(e))?(o=n[1]==="-"?-1:1,i={y:0,d:kt(n[_i])*o,h:kt(n[ue])*o,m:kt(n[Je])*o,s:kt(n[Ri])*o,ms:kt(Ca(n[gn]*1e3))*o}):(n=fg.exec(e))?(o=n[1]==="-"?-1:1,i={y:cn(n[2],o),M:cn(n[3],o),w:cn(n[4],o),d:cn(n[5],o),h:cn(n[6],o),m:cn(n[7],o),s:cn(n[8],o)}):i==null?i={}:typeof i=="object"&&("from"in i||"to"in i)&&(l=pg(Kt(i.from),Kt(i.to)),i={},i.ms=l.milliseconds,i.M=l.months),r=new Dr(i),Go(e)&&Ct(e,"_locale")&&(r._locale=e._locale),Go(e)&&Ct(e,"_isValid")&&(r._isValid=e._isValid),r}oi.fn=Dr.prototype;oi.invalid=J_;function cn(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Wh(e,t){var i={};return i.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function pg(e,t){var i;return e.isValid()&&t.isValid()?(t=fl(t,e),e.isBefore(t)?i=Wh(e,t):(i=Wh(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function _d(e,t){return function(i,n){var o,r;return n!==null&&!isNaN(+n)&&(ju(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),o=oi(i,n),gd(this,o,e),this}}function gd(e,t,i,n){var o=t._milliseconds,r=Ca(t._days),l=Ca(t._months);e.isValid()&&(n=n??!0,l&&ed(e,Zs(e,"Month")+l*i),r&&Qu(e,"Date",Zs(e,"Date")+r*i),o&&e._d.setTime(e._d.valueOf()+o*i),n&&G.updateOffset(e,r||l))}var mg=_d(1,"add"),_g=_d(-1,"subtract");function yd(e){return typeof e=="string"||e instanceof String}function gg(e){return si(e)||so(e)||yd(e)||Yi(e)||vg(e)||yg(e)||e===null||e===void 0}function yg(e){var t=vn(e)&&!qa(e),i=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,r,l=n.length;for(o=0;o<l;o+=1)r=n[o],i=i||Ct(e,r);return t&&i}function vg(e){var t=ni(e),i=!1;return t&&(i=e.filter(function(n){return!Yi(n)&&yd(e)}).length===0),t&&i}function bg(e){var t=vn(e)&&!qa(e),i=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,r;for(o=0;o<n.length;o+=1)r=n[o],i=i||Ct(e,r);return t&&i}function xg(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function wg(e,t){arguments.length===1&&(arguments[0]?gg(arguments[0])?(e=arguments[0],t=void 0):bg(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var i=e||Kt(),n=fl(i,this).startOf("day"),o=G.calendarFormat(this,n)||"sameElse",r=t&&(wi(t[o])?t[o].call(this,i):t[o]);return this.format(r||this.localeData().calendar(o,this,Kt(i)))}function kg(){return new oo(this)}function Mg(e,t){var i=si(e)?e:Kt(e);return this.isValid()&&i.isValid()?(t=$e(t)||"millisecond",t==="millisecond"?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf()):!1}function Sg(e,t){var i=si(e)?e:Kt(e);return this.isValid()&&i.isValid()?(t=$e(t)||"millisecond",t==="millisecond"?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf()):!1}function Pg(e,t,i,n){var o=si(e)?e:Kt(e),r=si(t)?t:Kt(t);return this.isValid()&&o.isValid()&&r.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(o,i):!this.isBefore(o,i))&&(n[1]===")"?this.isBefore(r,i):!this.isAfter(r,i))):!1}function Tg(e,t){var i=si(e)?e:Kt(e),n;return this.isValid()&&i.isValid()?(t=$e(t)||"millisecond",t==="millisecond"?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Dg(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Lg(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Cg(e,t,i){var n,o,r;if(!this.isValid())return NaN;if(n=fl(e,this),!n.isValid())return NaN;switch(o=(n.utcOffset()-this.utcOffset())*6e4,t=$e(t),t){case"year":r=qo(this,n)/12;break;case"month":r=qo(this,n);break;case"quarter":r=qo(this,n)/3;break;case"second":r=(this-n)/1e3;break;case"minute":r=(this-n)/6e4;break;case"hour":r=(this-n)/36e5;break;case"day":r=(this-n-o)/864e5;break;case"week":r=(this-n-o)/6048e5;break;default:r=this-n}return i?r:Ze(r)}function qo(e,t){if(e.date()<t.date())return-qo(t,e);var i=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(i,"months"),o,r;return t-n<0?(o=e.clone().add(i-1,"months"),r=(t-n)/(n-o)):(o=e.clone().add(i+1,"months"),r=(t-n)/(o-n)),-(i+r)||0}G.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";G.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Og(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Eg(e){if(!this.isValid())return null;var t=e!==!0,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?$o(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):wi(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",$o(i,"Z")):$o(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Ag(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",i,n,o,r;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),i="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",r=t+'[")]',this.format(i+n+o+r)}function Ig(e){e||(e=this.isUtc()?G.defaultFormatUtc:G.defaultFormat);var t=$o(this,e);return this.localeData().postformat(t)}function Rg(e,t){return this.isValid()&&(si(e)&&e.isValid()||Kt(e).isValid())?oi({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function zg(e){return this.from(Kt(),e)}function Fg(e,t){return this.isValid()&&(si(e)&&e.isValid()||Kt(e).isValid())?oi({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Ng(e){return this.to(Kt(),e)}function vd(e){var t;return e===void 0?this._locale._abbr:(t=Hi(e),t!=null&&(this._locale=t),this)}var bd=Ue("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function xd(){return this._locale}var rr=1e3,$n=60*rr,ar=60*$n,wd=(365*400+97)*24*ar;function Gn(e,t){return(e%t+t)%t}function kd(e,t,i){return e<100&&e>=0?new Date(e+400,t,i)-wd:new Date(e,t,i).valueOf()}function Md(e,t,i){return e<100&&e>=0?Date.UTC(e+400,t,i)-wd:Date.UTC(e,t,i)}function Bg(e){var t,i;if(e=$e(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?Md:kd,e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Gn(t+(this._isUTC?0:this.utcOffset()*$n),ar);break;case"minute":t=this._d.valueOf(),t-=Gn(t,$n);break;case"second":t=this._d.valueOf(),t-=Gn(t,rr);break}return this._d.setTime(t),G.updateOffset(this,!0),this}function Wg(e){var t,i;if(e=$e(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?Md:kd,e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ar-Gn(t+(this._isUTC?0:this.utcOffset()*$n),ar)-1;break;case"minute":t=this._d.valueOf(),t+=$n-Gn(t,$n)-1;break;case"second":t=this._d.valueOf(),t+=rr-Gn(t,rr)-1;break}return this._d.setTime(t),G.updateOffset(this,!0),this}function Yg(){return this._d.valueOf()-(this._offset||0)*6e4}function Hg(){return Math.floor(this.valueOf()/1e3)}function Vg(){return new Date(this.valueOf())}function Zg(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function jg(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ug(){return this.isValid()?this.toISOString():null}function $g(){return Ka(this)}function Gg(){return $i({},vt(this))}function qg(){return vt(this).overflow}function Kg(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ht("N",0,0,"eraAbbr");ht("NN",0,0,"eraAbbr");ht("NNN",0,0,"eraAbbr");ht("NNNN",0,0,"eraName");ht("NNNNN",0,0,"eraNarrow");ht("y",["y",1],"yo","eraYear");ht("y",["yy",2],0,"eraYear");ht("y",["yyy",3],0,"eraYear");ht("y",["yyyy",4],0,"eraYear");nt("N",pl);nt("NN",pl);nt("NNN",pl);nt("NNNN",ay);nt("NNNNN",ly);Ft(["N","NN","NNN","NNNN","NNNNN"],function(e,t,i,n){var o=i._locale.erasParse(e,n,i._strict);o?vt(i).era=o:vt(i).invalidEra=e});nt("y",os);nt("yy",os);nt("yyy",os);nt("yyyy",os);nt("yo",hy);Ft(["y","yy","yyy","yyyy"],ke);Ft(["yo"],function(e,t,i,n){var o;i._locale._eraYearOrdinalRegex&&(o=e.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?t[ke]=i._locale.eraYearOrdinalParse(e,o):t[ke]=parseInt(e,10)});function Xg(e,t){var i,n,o,r=this._eras||Hi("en")._eras;for(i=0,n=r.length;i<n;++i){switch(typeof r[i].since){case"string":o=G(r[i].since).startOf("day"),r[i].since=o.valueOf();break}switch(typeof r[i].until){case"undefined":r[i].until=1/0;break;case"string":o=G(r[i].until).startOf("day").valueOf(),r[i].until=o.valueOf();break}}return r}function Qg(e,t,i){var n,o,r=this.eras(),l,h,c;for(e=e.toUpperCase(),n=0,o=r.length;n<o;++n)if(l=r[n].name.toUpperCase(),h=r[n].abbr.toUpperCase(),c=r[n].narrow.toUpperCase(),i)switch(t){case"N":case"NN":case"NNN":if(h===e)return r[n];break;case"NNNN":if(l===e)return r[n];break;case"NNNNN":if(c===e)return r[n];break}else if([l,h,c].indexOf(e)>=0)return r[n]}function Jg(e,t){var i=e.since<=e.until?1:-1;return t===void 0?G(e.since).year():G(e.since).year()+(t-e.offset)*i}function ty(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until||n[e].until<=i&&i<=n[e].since)return n[e].name;return""}function ey(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until||n[e].until<=i&&i<=n[e].since)return n[e].narrow;return""}function iy(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until||n[e].until<=i&&i<=n[e].since)return n[e].abbr;return""}function ny(){var e,t,i,n,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(i=o[e].since<=o[e].until?1:-1,n=this.clone().startOf("day").valueOf(),o[e].since<=n&&n<=o[e].until||o[e].until<=n&&n<=o[e].since)return(this.year()-G(o[e].since).year())*i+o[e].offset;return this.year()}function sy(e){return Ct(this,"_erasNameRegex")||ml.call(this),e?this._erasNameRegex:this._erasRegex}function oy(e){return Ct(this,"_erasAbbrRegex")||ml.call(this),e?this._erasAbbrRegex:this._erasRegex}function ry(e){return Ct(this,"_erasNarrowRegex")||ml.call(this),e?this._erasNarrowRegex:this._erasRegex}function pl(e,t){return t.erasAbbrRegex(e)}function ay(e,t){return t.erasNameRegex(e)}function ly(e,t){return t.erasNarrowRegex(e)}function hy(e,t){return t._eraYearOrdinalRegex||os}function ml(){var e=[],t=[],i=[],n=[],o,r,l,h,c,d=this.eras();for(o=0,r=d.length;o<r;++o)l=Bi(d[o].name),h=Bi(d[o].abbr),c=Bi(d[o].narrow),t.push(l),e.push(h),i.push(c),n.push(l),n.push(h),n.push(c);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}ht(0,["gg",2],0,function(){return this.weekYear()%100});ht(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Lr(e,t){ht(0,[e,e.length],0,t)}Lr("gggg","weekYear");Lr("ggggg","weekYear");Lr("GGGG","isoWeekYear");Lr("GGGGG","isoWeekYear");nt("G",Mr);nt("g",Mr);nt("GG",Xt,ze);nt("gg",Xt,ze);nt("GGGG",il,el);nt("gggg",il,el);nt("GGGGG",kr,xr);nt("ggggg",kr,xr);ao(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=kt(e)});ao(["gg","GG"],function(e,t,i,n){t[n]=G.parseTwoDigitYear(e)});function cy(e){return Sd.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function uy(e){return Sd.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function dy(){return Wi(this.year(),1,4)}function fy(){return Wi(this.isoWeekYear(),1,4)}function py(){var e=this.localeData()._week;return Wi(this.year(),e.dow,e.doy)}function my(){var e=this.localeData()._week;return Wi(this.weekYear(),e.dow,e.doy)}function Sd(e,t,i,n,o){var r;return e==null?Us(this,n,o).year:(r=Wi(e,n,o),t>r&&(t=r),_y.call(this,e,t,i,n,o))}function _y(e,t,i,n,o){var r=sd(e,t,i,n,o),l=js(r.year,0,r.dayOfYear);return this.year(l.getUTCFullYear()),this.month(l.getUTCMonth()),this.date(l.getUTCDate()),this}ht("Q",0,"Qo","quarter");nt("Q",$u);Ft("Q",function(e,t){t[Ii]=(kt(e)-1)*3});function gy(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}ht("D",["DD",2],"Do","date");nt("D",Xt,rs);nt("DD",Xt,ze);nt("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Ft(["D","DD"],_i);Ft("Do",function(e,t){t[_i]=kt(e.match(Xt)[0])});var Pd=as("Date",!0);ht("DDD",["DDDD",3],"DDDo","dayOfYear");nt("DDD",wr);nt("DDDD",Gu);Ft(["DDD","DDDD"],function(e,t,i){i._dayOfYear=kt(e)});function yy(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}ht("m",["mm",2],0,"minute");nt("m",Xt,nl);nt("mm",Xt,ze);Ft(["m","mm"],Je);var vy=as("Minutes",!1);ht("s",["ss",2],0,"second");nt("s",Xt,nl);nt("ss",Xt,ze);Ft(["s","ss"],Ri);var by=as("Seconds",!1);ht("S",0,0,function(){return~~(this.millisecond()/100)});ht(0,["SS",2],0,function(){return~~(this.millisecond()/10)});ht(0,["SSS",3],0,"millisecond");ht(0,["SSSS",4],0,function(){return this.millisecond()*10});ht(0,["SSSSS",5],0,function(){return this.millisecond()*100});ht(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});ht(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});ht(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});ht(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});nt("S",wr,$u);nt("SS",wr,ze);nt("SSS",wr,Gu);var Gi,Td;for(Gi="SSSS";Gi.length<=9;Gi+="S")nt(Gi,os);function xy(e,t){t[gn]=kt(("0."+e)*1e3)}for(Gi="S";Gi.length<=9;Gi+="S")Ft(Gi,xy);Td=as("Milliseconds",!1);ht("z",0,0,"zoneAbbr");ht("zz",0,0,"zoneName");function wy(){return this._isUTC?"UTC":""}function ky(){return this._isUTC?"Coordinated Universal Time":""}var $=oo.prototype;$.add=mg;$.calendar=wg;$.clone=kg;$.diff=Cg;$.endOf=Wg;$.format=Ig;$.from=Rg;$.fromNow=zg;$.to=Fg;$.toNow=Ng;$.get=Am;$.invalidAt=qg;$.isAfter=Mg;$.isBefore=Sg;$.isBetween=Pg;$.isSame=Tg;$.isSameOrAfter=Dg;$.isSameOrBefore=Lg;$.isValid=$g;$.lang=bd;$.locale=vd;$.localeData=xd;$.max=$_;$.min=U_;$.parsingFlags=Gg;$.set=Im;$.startOf=Bg;$.subtract=_g;$.toArray=Zg;$.toObject=jg;$.toDate=Vg;$.toISOString=Eg;$.inspect=Ag;typeof Symbol<"u"&&Symbol.for!=null&&($[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});$.toJSON=Ug;$.toString=Og;$.unix=Hg;$.valueOf=Yg;$.creationData=Kg;$.eraName=ty;$.eraNarrow=ey;$.eraAbbr=iy;$.eraYear=ny;$.year=Xu;$.isLeapYear=Em;$.weekYear=cy;$.isoWeekYear=uy;$.quarter=$.quarters=gy;$.month=id;$.daysInMonth=Vm;$.week=$.weeks=Xm;$.isoWeek=$.isoWeeks=Qm;$.weeksInYear=py;$.weeksInWeekYear=my;$.isoWeeksInYear=dy;$.isoWeeksInISOWeekYear=fy;$.date=Pd;$.day=$.days=u_;$.weekday=d_;$.isoWeekday=f_;$.dayOfYear=yy;$.hour=$.hours=b_;$.minute=$.minutes=vy;$.second=$.seconds=by;$.millisecond=$.milliseconds=Td;$.utcOffset=ig;$.utc=sg;$.local=og;$.parseZone=rg;$.hasAlignedHourOffset=ag;$.isDST=lg;$.isLocal=cg;$.isUtcOffset=ug;$.isUtc=md;$.isUTC=md;$.zoneAbbr=wy;$.zoneName=ky;$.dates=Ue("dates accessor is deprecated. Use date instead.",Pd);$.months=Ue("months accessor is deprecated. Use month instead",id);$.years=Ue("years accessor is deprecated. Use year instead",Xu);$.zone=Ue("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ng);$.isDSTShifted=Ue("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",hg);function My(e){return Kt(e*1e3)}function Sy(){return Kt.apply(null,arguments).parseZone()}function Dd(e){return e}var Ot=Qa.prototype;Ot.calendar=cm;Ot.longDateFormat=pm;Ot.invalidDate=_m;Ot.ordinal=vm;Ot.preparse=Dd;Ot.postformat=Dd;Ot.relativeTime=xm;Ot.pastFuture=wm;Ot.set=lm;Ot.eras=Xg;Ot.erasParse=Qg;Ot.erasConvertYear=Jg;Ot.erasAbbrRegex=oy;Ot.erasNameRegex=sy;Ot.erasNarrowRegex=ry;Ot.months=Bm;Ot.monthsShort=Wm;Ot.monthsParse=Hm;Ot.monthsRegex=jm;Ot.monthsShortRegex=Zm;Ot.week=$m;Ot.firstDayOfYear=Km;Ot.firstDayOfWeek=qm;Ot.weekdays=r_;Ot.weekdaysMin=l_;Ot.weekdaysShort=a_;Ot.weekdaysParse=c_;Ot.weekdaysRegex=p_;Ot.weekdaysShortRegex=m_;Ot.weekdaysMinRegex=__;Ot.isPM=y_;Ot.meridiem=x_;function lr(e,t,i,n){var o=Hi(),r=xi().set(n,t);return o[i](r,e)}function Ld(e,t,i){if(Yi(e)&&(t=e,e=void 0),e=e||"",t!=null)return lr(e,t,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=lr(e,n,i,"month");return o}function _l(e,t,i,n){typeof e=="boolean"?(Yi(t)&&(i=t,t=void 0),t=t||""):(t=e,i=t,e=!1,Yi(t)&&(i=t,t=void 0),t=t||"");var o=Hi(),r=e?o._week.dow:0,l,h=[];if(i!=null)return lr(t,(i+r)%7,n,"day");for(l=0;l<7;l++)h[l]=lr(t,(l+r)%7,n,"day");return h}function Py(e,t){return Ld(e,t,"months")}function Ty(e,t){return Ld(e,t,"monthsShort")}function Dy(e,t,i){return _l(e,t,i,"weekdays")}function Ly(e,t,i){return _l(e,t,i,"weekdaysShort")}function Cy(e,t,i){return _l(e,t,i,"weekdaysMin")}Qi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=kt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i}});G.lang=Ue("moment.lang is deprecated. Use moment.locale instead.",Qi);G.langData=Ue("moment.langData is deprecated. Use moment.localeData instead.",Hi);var Di=Math.abs;function Oy(){var e=this._data;return this._milliseconds=Di(this._milliseconds),this._days=Di(this._days),this._months=Di(this._months),e.milliseconds=Di(e.milliseconds),e.seconds=Di(e.seconds),e.minutes=Di(e.minutes),e.hours=Di(e.hours),e.months=Di(e.months),e.years=Di(e.years),this}function Cd(e,t,i,n){var o=oi(t,i);return e._milliseconds+=n*o._milliseconds,e._days+=n*o._days,e._months+=n*o._months,e._bubble()}function Ey(e,t){return Cd(this,e,t,1)}function Ay(e,t){return Cd(this,e,t,-1)}function Yh(e){return e<0?Math.floor(e):Math.ceil(e)}function Iy(){var e=this._milliseconds,t=this._days,i=this._months,n=this._data,o,r,l,h,c;return e>=0&&t>=0&&i>=0||e<=0&&t<=0&&i<=0||(e+=Yh(Ea(i)+t)*864e5,t=0,i=0),n.milliseconds=e%1e3,o=Ze(e/1e3),n.seconds=o%60,r=Ze(o/60),n.minutes=r%60,l=Ze(r/60),n.hours=l%24,t+=Ze(l/24),c=Ze(Od(t)),i+=c,t-=Yh(Ea(c)),h=Ze(i/12),i%=12,n.days=t,n.months=i,n.years=h,this}function Od(e){return e*4800/146097}function Ea(e){return e*146097/4800}function Ry(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if(e=$e(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,i=this._months+Od(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(Ea(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function Vi(e){return function(){return this.as(e)}}var Ed=Vi("ms"),zy=Vi("s"),Fy=Vi("m"),Ny=Vi("h"),By=Vi("d"),Wy=Vi("w"),Yy=Vi("M"),Hy=Vi("Q"),Vy=Vi("y"),Zy=Ed;function jy(){return oi(this)}function Uy(e){return e=$e(e),this.isValid()?this[e+"s"]():NaN}function Cn(e){return function(){return this.isValid()?this._data[e]:NaN}}var $y=Cn("milliseconds"),Gy=Cn("seconds"),qy=Cn("minutes"),Ky=Cn("hours"),Xy=Cn("days"),Qy=Cn("months"),Jy=Cn("years");function tv(){return Ze(this.days()/7)}var Ei=Math.round,jn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ev(e,t,i,n,o){return o.relativeTime(t||1,!!i,e,n)}function iv(e,t,i,n){var o=oi(e).abs(),r=Ei(o.as("s")),l=Ei(o.as("m")),h=Ei(o.as("h")),c=Ei(o.as("d")),d=Ei(o.as("M")),p=Ei(o.as("w")),m=Ei(o.as("y")),g=r<=i.ss&&["s",r]||r<i.s&&["ss",r]||l<=1&&["m"]||l<i.m&&["mm",l]||h<=1&&["h"]||h<i.h&&["hh",h]||c<=1&&["d"]||c<i.d&&["dd",c];return i.w!=null&&(g=g||p<=1&&["w"]||p<i.w&&["ww",p]),g=g||d<=1&&["M"]||d<i.M&&["MM",d]||m<=1&&["y"]||["yy",m],g[2]=t,g[3]=+e>0,g[4]=n,ev.apply(null,g)}function nv(e){return e===void 0?Ei:typeof e=="function"?(Ei=e,!0):!1}function sv(e,t){return jn[e]===void 0?!1:t===void 0?jn[e]:(jn[e]=t,e==="s"&&(jn.ss=t-1),!0)}function ov(e,t){if(!this.isValid())return this.localeData().invalidDate();var i=!1,n=jn,o,r;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(i=e),typeof t=="object"&&(n=Object.assign({},jn,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),o=this.localeData(),r=iv(this,!i,n,o),i&&(r=o.pastFuture(+this,r)),o.postformat(r)}var da=Math.abs;function Yn(e){return(e>0)-(e<0)||+e}function Cr(){if(!this.isValid())return this.localeData().invalidDate();var e=da(this._milliseconds)/1e3,t=da(this._days),i=da(this._months),n,o,r,l,h=this.asSeconds(),c,d,p,m;return h?(n=Ze(e/60),o=Ze(n/60),e%=60,n%=60,r=Ze(i/12),i%=12,l=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=h<0?"-":"",d=Yn(this._months)!==Yn(h)?"-":"",p=Yn(this._days)!==Yn(h)?"-":"",m=Yn(this._milliseconds)!==Yn(h)?"-":"",c+"P"+(r?d+r+"Y":"")+(i?d+i+"M":"")+(t?p+t+"D":"")+(o||n||e?"T":"")+(o?m+o+"H":"")+(n?m+n+"M":"")+(e?m+l+"S":"")):"P0D"}var Pt=Dr.prototype;Pt.isValid=Q_;Pt.abs=Oy;Pt.add=Ey;Pt.subtract=Ay;Pt.as=Ry;Pt.asMilliseconds=Ed;Pt.asSeconds=zy;Pt.asMinutes=Fy;Pt.asHours=Ny;Pt.asDays=By;Pt.asWeeks=Wy;Pt.asMonths=Yy;Pt.asQuarters=Hy;Pt.asYears=Vy;Pt.valueOf=Zy;Pt._bubble=Iy;Pt.clone=jy;Pt.get=Uy;Pt.milliseconds=$y;Pt.seconds=Gy;Pt.minutes=qy;Pt.hours=Ky;Pt.days=Xy;Pt.weeks=tv;Pt.months=Qy;Pt.years=Jy;Pt.humanize=ov;Pt.toISOString=Cr;Pt.toString=Cr;Pt.toJSON=Cr;Pt.locale=vd;Pt.localeData=xd;Pt.toIsoString=Ue("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Cr);Pt.lang=bd;ht("X",0,0,"unix");ht("x",0,0,"valueOf");nt("x",Mr);nt("X",Pm);Ft("X",function(e,t,i){i._d=new Date(parseFloat(e)*1e3)});Ft("x",function(e,t,i){i._d=new Date(kt(e))});//! moment.js
G.version="2.30.1";rm(Kt);G.fn=$;G.min=G_;G.max=q_;G.now=K_;G.utc=xi;G.unix=My;G.months=Py;G.isDate=so;G.locale=Qi;G.invalid=br;G.duration=oi;G.isMoment=si;G.weekdays=Dy;G.parseZone=Sy;G.localeData=Hi;G.isDuration=Go;G.monthsShort=Ty;G.weekdaysMin=Cy;G.defineLocale=ll;G.updateLocale=S_;G.locales=P_;G.weekdaysShort=Ly;G.normalizeUnits=$e;G.relativeTimeRounding=nv;G.relativeTimeThreshold=sv;G.calendarFormat=xg;G.prototype=$;G.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};async function rv(e){try{let n=function(d){let p;const m=d.properties.name;return p={Belgium:"green",Croatia:"blue","Czech Republic":"red",Denmark:"yellow",Estonia:"orange",Finland:"purple",France:"cyan",Germany:"magenta",Greece:"lime",Hungary:"pink",Italy:"teal",Latvia:"brown",Lithuania:"olive",Netherlands:"navy",Norway:"maroon",Poland:"salmon",Portugal:"gold",Slovenia:"coral",Spain:"indigo",Sweden:"navyblue",Switzerland:"tan","United Kingdom":"darkgreen"}[m]||"brown",{fillColor:p,weight:1,opacity:1,color:"white",fillOpacity:.7}},o=function(d){const p=d.target;p.setStyle({weight:2,color:"#666",fillOpacity:1}),!t.Browser.ie&&!t.Browser.opera&&!t.Browser.edge&&p.bringToFront()},r=function(d){c.resetStyle(d.target)};const t=await im(()=>Promise.resolve().then(()=>om),void 0,import.meta.url),i=t.map(e).setView([50.8283,10.5795],2);t.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(i);const l="selected_countries.geojson",h=await fetch("https://raw.githubusercontent.com/MwauraPatrick/Data-Visualization-Project/main/dvpapp/src/lib/data/selected_countries.geojson").then(d=>d.json()),c=t.geoJSON(h,{style:n,onEachFeature:(d,p)=>{p.bindTooltip(d.properties.name,{permanent:!1,direction:"center"}),p.on({mouseover:o,mouseout:r})}}).addTo(i);return i}catch(t){throw console.error("Error creating map:",t),t}}var Ad={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(i,n){e.exports=n()})(Bu,function i(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},o=!n.document&&!!n.postMessage,r=n.IS_PAPA_WORKER||!1,l={},h=0,c={parse:function(k,S){var A=(S=S||{}).dynamicTyping||!1;if(N(A)&&(S.dynamicTypingFunction=A,A={}),S.dynamicTyping=A,S.transform=!!N(S.transform)&&S.transform,S.worker&&c.WORKERS_SUPPORTED){var E=function(){if(!c.WORKERS_SUPPORTED)return!1;var U=(st=n.URL||n.webkitURL||null,tt=i.toString(),c.BLOB_URL||(c.BLOB_URL=st.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",tt,")();"],{type:"text/javascript"})))),j=new n.Worker(U),st,tt;return j.onmessage=P,j.id=h++,l[j.id]=j}();return E.userStep=S.step,E.userChunk=S.chunk,E.userComplete=S.complete,E.userError=S.error,S.step=N(S.step),S.chunk=N(S.chunk),S.complete=N(S.complete),S.error=N(S.error),delete S.worker,void E.postMessage({input:k,config:S,workerId:E.id})}var z=null;return c.NODE_STREAM_INPUT,typeof k=="string"?(k=function(U){return U.charCodeAt(0)===65279?U.slice(1):U}(k),z=S.download?new m(S):new y(S)):k.readable===!0&&N(k.read)&&N(k.on)?z=new x(S):(n.File&&k instanceof File||k instanceof Object)&&(z=new g(S)),z.stream(k)},unparse:function(k,S){var A=!1,E=!0,z=",",U=`\r
`,j='"',st=j+j,tt=!1,H=null,V=!1;(function(){if(typeof S=="object"){if(typeof S.delimiter!="string"||c.BAD_DELIMITERS.filter(function(q){return S.delimiter.indexOf(q)!==-1}).length||(z=S.delimiter),(typeof S.quotes=="boolean"||typeof S.quotes=="function"||Array.isArray(S.quotes))&&(A=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(tt=S.skipEmptyLines),typeof S.newline=="string"&&(U=S.newline),typeof S.quoteChar=="string"&&(j=S.quoteChar),typeof S.header=="boolean"&&(E=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");H=S.columns}S.escapeChar!==void 0&&(st=S.escapeChar+j),(typeof S.escapeFormulae=="boolean"||S.escapeFormulae instanceof RegExp)&&(V=S.escapeFormulae instanceof RegExp?S.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Z=new RegExp(w(j),"g");if(typeof k=="string"&&(k=JSON.parse(k)),Array.isArray(k)){if(!k.length||Array.isArray(k[0]))return J(null,k,tt);if(typeof k[0]=="object")return J(H||Object.keys(k[0]),k,tt)}else if(typeof k=="object")return typeof k.data=="string"&&(k.data=JSON.parse(k.data)),Array.isArray(k.data)&&(k.fields||(k.fields=k.meta&&k.meta.fields||H),k.fields||(k.fields=Array.isArray(k.data[0])?k.fields:typeof k.data[0]=="object"?Object.keys(k.data[0]):[]),Array.isArray(k.data[0])||typeof k.data[0]=="object"||(k.data=[k.data])),J(k.fields||[],k.data||[],tt);throw new Error("Unable to serialize unrecognized input");function J(q,dt,ct){var ot="";typeof q=="string"&&(q=JSON.parse(q)),typeof dt=="string"&&(dt=JSON.parse(dt));var it=Array.isArray(q)&&0<q.length,Et=!Array.isArray(dt[0]);if(it&&E){for(var Nt=0;Nt<q.length;Nt++)0<Nt&&(ot+=z),ot+=ft(q[Nt],Nt);0<dt.length&&(ot+=U)}for(var ut=0;ut<dt.length;ut++){var Tt=it?q.length:dt[ut].length,Bt=!1,jt=it?Object.keys(dt[ut]).length===0:dt[ut].length===0;if(ct&&!it&&(Bt=ct==="greedy"?dt[ut].join("").trim()==="":dt[ut].length===1&&dt[ut][0].length===0),ct==="greedy"&&it){for(var At=[],fe=0;fe<Tt;fe++){var Qt=Et?q[fe]:fe;At.push(dt[ut][Qt])}Bt=At.join("").trim()===""}if(!Bt){for(var zt=0;zt<Tt;zt++){0<zt&&!jt&&(ot+=z);var Se=it&&Et?q[zt]:zt;ot+=ft(dt[ut][Se],zt)}ut<dt.length-1&&(!ct||0<Tt&&!jt)&&(ot+=U)}}return ot}function ft(q,dt){if(q==null)return"";if(q.constructor===Date)return JSON.stringify(q).slice(1,25);var ct=!1;V&&typeof q=="string"&&V.test(q)&&(q="'"+q,ct=!0);var ot=q.toString().replace(Z,st);return(ct=ct||A===!0||typeof A=="function"&&A(q,dt)||Array.isArray(A)&&A[dt]||function(it,Et){for(var Nt=0;Nt<Et.length;Nt++)if(-1<it.indexOf(Et[Nt]))return!0;return!1}(ot,c.BAD_DELIMITERS)||-1<ot.indexOf(z)||ot.charAt(0)===" "||ot.charAt(ot.length-1)===" ")?j+ot+j:ot}}};if(c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!o&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=M,c.ParserHandle=v,c.NetworkStreamer=m,c.FileStreamer=g,c.StringStreamer=y,c.ReadableStreamStreamer=x,n.jQuery){var d=n.jQuery;d.fn.parse=function(k){var S=k.config||{},A=[];return this.each(function(U){if(!(d(this).prop("tagName").toUpperCase()==="INPUT"&&d(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var j=0;j<this.files.length;j++)A.push({file:this.files[j],inputElem:this,instanceConfig:d.extend({},S)})}),E(),this;function E(){if(A.length!==0){var U,j,st,tt,H=A[0];if(N(k.before)){var V=k.before(H.file,H.inputElem);if(typeof V=="object"){if(V.action==="abort")return U="AbortError",j=H.file,st=H.inputElem,tt=V.reason,void(N(k.error)&&k.error({name:U},j,st,tt));if(V.action==="skip")return void z();typeof V.config=="object"&&(H.instanceConfig=d.extend(H.instanceConfig,V.config))}else if(V==="skip")return void z()}var Z=H.instanceConfig.complete;H.instanceConfig.complete=function(J){N(Z)&&Z(J,H.file,H.inputElem),z()},c.parse(H.file,H.instanceConfig)}else N(k.complete)&&k.complete()}function z(){A.splice(0,1),E()}}}function p(k){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var A=O(S);A.chunkSize=parseInt(A.chunkSize),S.step||S.chunk||(A.chunkSize=null),this._handle=new v(A),(this._handle.streamer=this)._config=A}).call(this,k),this.parseChunk=function(S,A){if(this.isFirstChunk&&N(this._config.beforeFirstChunk)){var E=this._config.beforeFirstChunk(S);E!==void 0&&(S=E)}this.isFirstChunk=!1,this._halted=!1;var z=this._partialLine+S;this._partialLine="";var U=this._handle.parse(z,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var j=U.meta.cursor;this._finished||(this._partialLine=z.substring(j-this._baseIndex),this._baseIndex=j),U&&U.data&&(this._rowCount+=U.data.length);var st=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)n.postMessage({results:U,workerId:c.WORKER_ID,finished:st});else if(N(this._config.chunk)&&!A){if(this._config.chunk(U,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);U=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(U.data),this._completeResults.errors=this._completeResults.errors.concat(U.errors),this._completeResults.meta=U.meta),this._completed||!st||!N(this._config.complete)||U&&U.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),st||U&&U.meta.paused||this._nextChunk(),U}this._halted=!0},this._sendError=function(S){N(this._config.error)?this._config.error(S):r&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:S,finished:!1})}}function m(k){var S;(k=k||{}).chunkSize||(k.chunkSize=c.RemoteChunkSize),p.call(this,k),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(A){this._input=A,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),o||(S.onload=I(this._chunkLoaded,this),S.onerror=I(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var A=this._config.downloadRequestHeaders;for(var E in A)S.setRequestHeader(E,A[E])}if(this._config.chunkSize){var z=this._start+this._config.chunkSize-1;S.setRequestHeader("Range","bytes="+this._start+"-"+z)}try{S.send(this._config.downloadRequestBody)}catch(U){this._chunkError(U.message)}o&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:S.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(A){var E=A.getResponseHeader("Content-Range");return E===null?-1:parseInt(E.substring(E.lastIndexOf("/")+1))}(S),this.parseChunk(S.responseText)))},this._chunkError=function(A){var E=S.statusText||A;this._sendError(new Error(E))}}function g(k){var S,A;(k=k||{}).chunkSize||(k.chunkSize=c.LocalChunkSize),p.call(this,k);var E=typeof FileReader<"u";this.stream=function(z){this._input=z,A=z.slice||z.webkitSlice||z.mozSlice,E?((S=new FileReader).onload=I(this._chunkLoaded,this),S.onerror=I(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var z=this._input;if(this._config.chunkSize){var U=Math.min(this._start+this._config.chunkSize,this._input.size);z=A.call(z,this._start,U)}var j=S.readAsText(z,this._config.encoding);E||this._chunkLoaded({target:{result:j}})},this._chunkLoaded=function(z){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(z.target.result)},this._chunkError=function(){this._sendError(S.error)}}function y(k){var S;p.call(this,k=k||{}),this.stream=function(A){return S=A,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var A,E=this._config.chunkSize;return E?(A=S.substring(0,E),S=S.substring(E)):(A=S,S=""),this._finished=!S,this.parseChunk(A)}}}function x(k){p.call(this,k=k||{});var S=[],A=!0,E=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(z){this._input=z,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):A=!0},this._streamData=I(function(z){try{S.push(typeof z=="string"?z:z.toString(this._config.encoding)),A&&(A=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(U){this._streamError(U)}},this),this._streamError=I(function(z){this._streamCleanUp(),this._sendError(z)},this),this._streamEnd=I(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=I(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(k){var S,A,E,z=Math.pow(2,53),U=-z,j=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,st=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,tt=this,H=0,V=0,Z=!1,J=!1,ft=[],q={data:[],errors:[],meta:{}};if(N(k.step)){var dt=k.step;k.step=function(ut){if(q=ut,it())ot();else{if(ot(),q.data.length===0)return;H+=ut.data.length,k.preview&&H>k.preview?A.abort():(q.data=q.data[0],dt(q,tt))}}}function ct(ut){return k.skipEmptyLines==="greedy"?ut.join("").trim()==="":ut.length===1&&ut[0].length===0}function ot(){return q&&E&&(Nt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),E=!1),k.skipEmptyLines&&(q.data=q.data.filter(function(ut){return!ct(ut)})),it()&&function(){if(!q)return;function ut(Bt,jt){N(k.transformHeader)&&(Bt=k.transformHeader(Bt,jt)),ft.push(Bt)}if(Array.isArray(q.data[0])){for(var Tt=0;it()&&Tt<q.data.length;Tt++)q.data[Tt].forEach(ut);q.data.splice(0,1)}else q.data.forEach(ut)}(),function(){if(!q||!k.header&&!k.dynamicTyping&&!k.transform)return q;function ut(Bt,jt){var At,fe=k.header?{}:[];for(At=0;At<Bt.length;At++){var Qt=At,zt=Bt[At];k.header&&(Qt=At>=ft.length?"__parsed_extra":ft[At]),k.transform&&(zt=k.transform(zt,Qt)),zt=Et(Qt,zt),Qt==="__parsed_extra"?(fe[Qt]=fe[Qt]||[],fe[Qt].push(zt)):fe[Qt]=zt}return k.header&&(At>ft.length?Nt("FieldMismatch","TooManyFields","Too many fields: expected "+ft.length+" fields but parsed "+At,V+jt):At<ft.length&&Nt("FieldMismatch","TooFewFields","Too few fields: expected "+ft.length+" fields but parsed "+At,V+jt)),fe}var Tt=1;return!q.data.length||Array.isArray(q.data[0])?(q.data=q.data.map(ut),Tt=q.data.length):q.data=ut(q.data,0),k.header&&q.meta&&(q.meta.fields=ft),V+=Tt,q}()}function it(){return k.header&&ft.length===0}function Et(ut,Tt){return Bt=ut,k.dynamicTypingFunction&&k.dynamicTyping[Bt]===void 0&&(k.dynamicTyping[Bt]=k.dynamicTypingFunction(Bt)),(k.dynamicTyping[Bt]||k.dynamicTyping)===!0?Tt==="true"||Tt==="TRUE"||Tt!=="false"&&Tt!=="FALSE"&&(function(jt){if(j.test(jt)){var At=parseFloat(jt);if(U<At&&At<z)return!0}return!1}(Tt)?parseFloat(Tt):st.test(Tt)?new Date(Tt):Tt===""?null:Tt):Tt;var Bt}function Nt(ut,Tt,Bt,jt){var At={type:ut,code:Tt,message:Bt};jt!==void 0&&(At.row=jt),q.errors.push(At)}this.parse=function(ut,Tt,Bt){var jt=k.quoteChar||'"';if(k.newline||(k.newline=function(Qt,zt){Qt=Qt.substring(0,1048576);var Se=new RegExp(w(zt)+"([^]*?)"+w(zt),"gm"),_e=(Qt=Qt.replace(Se,"")).split("\r"),Fe=Qt.split(`
`),Ne=1<Fe.length&&Fe[0].length<_e[0].length;if(_e.length===1||Ne)return`
`;for(var ve=0,Ht=0;Ht<_e.length;Ht++)_e[Ht][0]===`
`&&ve++;return ve>=_e.length/2?`\r
`:"\r"}(ut,jt)),E=!1,k.delimiter)N(k.delimiter)&&(k.delimiter=k.delimiter(ut),q.meta.delimiter=k.delimiter);else{var At=function(Qt,zt,Se,_e,Fe){var Ne,ve,Ht,te;Fe=Fe||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var ki=0;ki<Fe.length;ki++){var It=Fe[ki],ri=0,Be=0,ai=0;Ht=void 0;for(var li=new M({comments:_e,delimiter:It,newline:zt,preview:10}).parse(Qt),Ge=0;Ge<li.data.length;Ge++)if(Se&&ct(li.data[Ge]))ai++;else{var qe=li.data[Ge].length;Be+=qe,Ht!==void 0?0<qe&&(ri+=Math.abs(qe-Ht),Ht=qe):Ht=qe}0<li.data.length&&(Be/=li.data.length-ai),(ve===void 0||ri<=ve)&&(te===void 0||te<Be)&&1.99<Be&&(ve=ri,Ne=It,te=Be)}return{successful:!!(k.delimiter=Ne),bestDelimiter:Ne}}(ut,k.newline,k.skipEmptyLines,k.comments,k.delimitersToGuess);At.successful?k.delimiter=At.bestDelimiter:(E=!0,k.delimiter=c.DefaultDelimiter),q.meta.delimiter=k.delimiter}var fe=O(k);return k.preview&&k.header&&fe.preview++,S=ut,A=new M(fe),q=A.parse(S,Tt,Bt),ot(),Z?{meta:{paused:!0}}:q||{meta:{paused:!1}}},this.paused=function(){return Z},this.pause=function(){Z=!0,A.abort(),S=N(k.chunk)?"":S.substring(A.getCharIndex())},this.resume=function(){tt.streamer._halted?(Z=!1,tt.streamer.parseChunk(S,!0)):setTimeout(tt.resume,3)},this.aborted=function(){return J},this.abort=function(){J=!0,A.abort(),q.meta.aborted=!0,N(k.complete)&&k.complete(q),S=""}}function w(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function M(k){var S,A=(k=k||{}).delimiter,E=k.newline,z=k.comments,U=k.step,j=k.preview,st=k.fastMode,tt=S=k.quoteChar===void 0||k.quoteChar===null?'"':k.quoteChar;if(k.escapeChar!==void 0&&(tt=k.escapeChar),(typeof A!="string"||-1<c.BAD_DELIMITERS.indexOf(A))&&(A=","),z===A)throw new Error("Comment character same as delimiter");z===!0?z="#":(typeof z!="string"||-1<c.BAD_DELIMITERS.indexOf(z))&&(z=!1),E!==`
`&&E!=="\r"&&E!==`\r
`&&(E=`
`);var H=0,V=!1;this.parse=function(Z,J,ft){if(typeof Z!="string")throw new Error("Input must be a string");var q=Z.length,dt=A.length,ct=E.length,ot=z.length,it=N(U),Et=[],Nt=[],ut=[],Tt=H=0;if(!Z)return Te();if(k.header&&!J){var Bt=Z.split(E)[0].split(A),jt=[],At={},fe=!1;for(var Qt in Bt){var zt=Bt[Qt];N(k.transformHeader)&&(zt=k.transformHeader(zt,Qt));var Se=zt,_e=At[zt]||0;for(0<_e&&(fe=!0,Se=zt+"_"+_e),At[zt]=_e+1;jt.includes(Se);)Se=Se+"_"+_e;jt.push(Se)}if(fe){var Fe=Z.split(E);Fe[0]=jt.join(A),Z=Fe.join(E)}}if(st||st!==!1&&Z.indexOf(S)===-1){for(var Ne=Z.split(E),ve=0;ve<Ne.length;ve++){if(ut=Ne[ve],H+=ut.length,ve!==Ne.length-1)H+=E.length;else if(ft)return Te();if(!z||ut.substring(0,ot)!==z){if(it){if(Et=[],ai(ut.split(A)),sn(),V)return Te()}else ai(ut.split(A));if(j&&j<=ve)return Et=Et.slice(0,j),Te(!0)}}return Te()}for(var Ht=Z.indexOf(A,H),te=Z.indexOf(E,H),ki=new RegExp(w(tt)+w(S),"g"),It=Z.indexOf(S,H);;)if(Z[H]!==S)if(z&&ut.length===0&&Z.substring(H,H+ot)===z){if(te===-1)return Te();H=te+ct,te=Z.indexOf(E,H),Ht=Z.indexOf(A,H)}else if(Ht!==-1&&(Ht<te||te===-1))ut.push(Z.substring(H,Ht)),H=Ht+dt,Ht=Z.indexOf(A,H);else{if(te===-1)break;if(ut.push(Z.substring(H,te)),qe(te+ct),it&&(sn(),V))return Te();if(j&&Et.length>=j)return Te(!0)}else for(It=H,H++;;){if((It=Z.indexOf(S,It+1))===-1)return ft||Nt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Et.length,index:H}),Ge();if(It===q-1)return Ge(Z.substring(H,It).replace(ki,S));if(S!==tt||Z[It+1]!==tt){if(S===tt||It===0||Z[It-1]!==tt){Ht!==-1&&Ht<It+1&&(Ht=Z.indexOf(A,It+1)),te!==-1&&te<It+1&&(te=Z.indexOf(E,It+1));var ri=li(te===-1?Ht:Math.min(Ht,te));if(Z.substr(It+1+ri,dt)===A){ut.push(Z.substring(H,It).replace(ki,S)),Z[H=It+1+ri+dt]!==S&&(It=Z.indexOf(S,H)),Ht=Z.indexOf(A,H),te=Z.indexOf(E,H);break}var Be=li(te);if(Z.substring(It+1+Be,It+1+Be+ct)===E){if(ut.push(Z.substring(H,It).replace(ki,S)),qe(It+1+Be+ct),Ht=Z.indexOf(A,H),It=Z.indexOf(S,H),it&&(sn(),V))return Te();if(j&&Et.length>=j)return Te(!0);break}Nt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Et.length,index:H}),It++}}else It++}return Ge();function ai(be){Et.push(be),Tt=H}function li(be){var ls=0;if(be!==-1){var hs=Z.substring(It+1,be);hs&&hs.trim()===""&&(ls=hs.length)}return ls}function Ge(be){return ft||(be===void 0&&(be=Z.substring(H)),ut.push(be),H=q,ai(ut),it&&sn()),Te()}function qe(be){H=be,ai(ut),ut=[],te=Z.indexOf(E,H)}function Te(be){return{data:Et,errors:Nt,meta:{delimiter:A,linebreak:E,aborted:V,truncated:!!be,cursor:Tt+(J||0)}}}function sn(){U(Te()),Et=[],Nt=[]}},this.abort=function(){V=!0},this.getCharIndex=function(){return H}}function P(k){var S=k.data,A=l[S.workerId],E=!1;if(S.error)A.userError(S.error,S.file);else if(S.results&&S.results.data){var z={abort:function(){E=!0,C(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:D,resume:D};if(N(A.userStep)){for(var U=0;U<S.results.data.length&&(A.userStep({data:S.results.data[U],errors:S.results.errors,meta:S.results.meta},z),!E);U++);delete S.results}else N(A.userChunk)&&(A.userChunk(S.results,z,S.file),delete S.results)}S.finished&&!E&&C(S.workerId,S.results)}function C(k,S){var A=l[k];N(A.userComplete)&&A.userComplete(S),A.terminate(),delete l[k]}function D(){throw new Error("Not implemented.")}function O(k){if(typeof k!="object"||k===null)return k;var S=Array.isArray(k)?[]:{};for(var A in k)S[A]=O(k[A]);return S}function I(k,S){return function(){k.apply(S,arguments)}}function N(k){return typeof k=="function"}return r&&(n.onmessage=function(k){var S=k.data;if(c.WORKER_ID===void 0&&S&&(c.WORKER_ID=S.workerId),typeof S.input=="string")n.postMessage({workerId:c.WORKER_ID,results:c.parse(S.input,S.config),finished:!0});else if(n.File&&S.input instanceof File||S.input instanceof Object){var A=c.parse(S.input,S.config);A&&n.postMessage({workerId:c.WORKER_ID,results:A,finished:!0})}}),(m.prototype=Object.create(p.prototype)).constructor=m,(g.prototype=Object.create(p.prototype)).constructor=g,(y.prototype=Object.create(y.prototype)).constructor=y,(x.prototype=Object.create(p.prototype)).constructor=x,c})})(Ad);var av=Ad.exports;const Id=Wu(av);async function gl(){const e=["BOM.csv","Customers.csv","Forecast.csv","Inventory.csv","Plants.csv","MaterialPlantRelation.csv","Materials.csv","Purchases.csv","Sales.csv","Vendors.csv","geocoded_plants.csv","geocoded_customers.csv"],t=[];for(const i of e){const n=`https://raw.githubusercontent.com/MwauraPatrick/Data-Visualization-Project/main/dvpapp/src/lib/data/${i}`,o=await fetch(n);if(!o.ok)throw new Error(`Failed to fetch data for ${i}: ${o.statusText}`);const r=await o.text(),l=Id.parse(r,{skipEmptyLines:!0,header:!0}),h=l.meta.fields.filter(c=>c.trim()!=="");t.push({file:i,keys:h,data:l.data})}return t}function Aa(e,t){const i=e.find(n=>n.file===t);if(!i)throw new Error(`${t} data not found in fetched data`);return i.data}async function Gs(e){try{const t=await gl();return Aa(t,e)}catch(t){throw console.error(`Error fetching and isolating data for ${e}:`,t),t}}async function Rd(){try{const e=await gl(),t=Aa(e,"Customers.csv"),i=Aa(e,"geocoded_customers.csv"),n=t.reduce((r,l)=>{const h=`Customer-${l.CustomerCountry}-${l.CustomerCity}-${l.PlantKey}`;return r[h]||(r[h]={CustomerCountry:l.CustomerCountry,CustomerCity:l.CustomerCity,PlantKey:l.PlantKey,count:0,lat:null,lon:null}),r[h].count++,r},{});return i.forEach(r=>{const l=`Customer-${r.CustomerCountry}-${r.CustomerCity}-${r.PlantKey}`;n[l]&&(n[l].lat=r.lat,n[l].lon=r.lon)}),Object.values(n)}catch(e){throw console.error("Error summarizing customers:",e),e}}async function hr(){try{const e=await Gs("Inventory.csv"),t=await Gs("Customers.csv"),i=e.reduce((n,o)=>{const r=`Inventory-${o.SnapshotDate}-${o.PlantKey}`;return n[r]||(n[r]={Date:G(o.SnapshotDate,"YYYY-MM-DD").format("DD/MM/YYYY"),PlantKey:o.PlantKey,GIQ:0,OSQ:0,ITQ:0,count:0}),n[r].GIQ+=parseFloat(o.GrossInventoryQuantity),n[r].OSQ+=parseFloat(o.OnShelfInventoryQuantity),n[r].ITQ+=parseFloat(o.InTransitQuantity),n[r].count++,n},{});return t.forEach(n=>{const o=`Inventory-${n.PlantKey}`;i[o]&&(i[o].CustomerCity=n.CustomerCity)}),Object.values(i)}catch(e){throw console.error("Error summarizing inventory:",e),e}}async function Ia(){try{const e=await Gs("Forecast.csv"),t=await Gs("Customers.csv"),i=e.reduce((o,r)=>{const l=`Forecast-${r.RequestedDeliveryMonth}-${r.PlantKey}`;return o[l]||(o[l]={Date:r.RequestedDeliveryMonth,PlantKey:r.PlantKey,FQ:0,count:0}),t.forEach(h=>{h.PlantKey===r.PlantKey&&(o[l].CustomerCity=h.CustomerCity)}),o[l].FQ+=parseFloat(r.Quantity),o[l].count++,o},{});return Object.values(i)}catch(e){throw console.error("Error summarizing forecast:",e),e}}async function lv(){try{const e=await hr(),t=await Ia(),n=(await Gs("geocoded_plants.csv")).reduce((h,c)=>(h[c.PlantKey]={lat:c.lat,lon:c.lon},h),{}),o=new Set([...e.map(h=>h.Date),...t.map(h=>h.Date)]),r=new Set([...e.map(h=>h.PlantKey),...t.map(h=>h.PlantKey)]),l=[];for(const h of o)for(const c of r){const d=e.find(g=>g.Date===h&&g.PlantKey===c),p=t.find(g=>g.Date===h&&g.PlantKey===c),m={Date:h,PlantKey:c,GIQ:(d==null?void 0:d.GIQ)||"NA",OSQ:(d==null?void 0:d.OSQ)||"NA",ITQ:(d==null?void 0:d.ITQ)||"NA",FQ:(p==null?void 0:p.FQ)||"NA",...n[c]};l.push(m)}return l}catch(e){throw console.error("Error merging datasets:",e),e}}function Hh(e,t,i){const n=e.slice();return n[17]=t[i],n}function Vh(e){let t,i=e[17]+"",n,o;return{c(){t=K("option"),n=Wt(i),this.h()},l(r){t=X(r,"OPTION",{});var l=at(t);n=Yt(l,i),l.forEach(W),this.h()},h(){t.__value=o=e[17],Qe(t,t.__value)},m(r,l){bt(r,t,l),B(t,n)},p(r,l){l&32&&i!==(i=r[17]+"")&&Oe(n,i),l&32&&o!==(o=r[17])&&(t.__value=o,Qe(t,t.__value))},d(r){r&&W(t)}}}function hv(e){let t,i,n,o,r,l,h,c,d,p,m,g,y,x,v,w="Select Date:",M,P,C,D,O,I,N=he(e[5]),k=[];for(let S=0;S<N.length;S+=1)k[S]=Vh(Hh(e,N,S));return{c(){t=K("main"),i=K("div"),n=K("label"),o=K("input"),r=Wt(" Customers"),l=_t(),h=K("label"),c=K("input"),d=Wt(" Forecast"),p=_t(),m=K("label"),g=K("input"),y=Wt(" Inventory"),x=_t(),v=K("label"),v.textContent=w,M=_t(),P=K("select");for(let S=0;S<k.length;S+=1)k[S].c();C=_t(),D=K("div"),this.h()},l(S){t=X(S,"MAIN",{class:!0});var A=at(t);i=X(A,"DIV",{class:!0});var E=at(i);n=X(E,"LABEL",{class:!0});var z=at(n);o=X(z,"INPUT",{type:!0}),r=Yt(z," Customers"),z.forEach(W),l=gt(E),h=X(E,"LABEL",{class:!0});var U=at(h);c=X(U,"INPUT",{type:!0}),d=Yt(U," Forecast"),U.forEach(W),p=gt(E),m=X(E,"LABEL",{class:!0});var j=at(m);g=X(j,"INPUT",{type:!0}),y=Yt(j," Inventory"),j.forEach(W),x=gt(E),v=X(E,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),je(v)!=="svelte-166a445"&&(v.textContent=w),M=gt(E),P=X(E,"SELECT",{id:!0});var st=at(P);for(let tt=0;tt<k.length;tt+=1)k[tt].l(st);st.forEach(W),E.forEach(W),C=gt(A),D=X(A,"DIV",{class:!0}),at(D).forEach(W),A.forEach(W),this.h()},h(){rt(o,"type","checkbox"),rt(n,"class","svelte-c2vcyt"),rt(c,"type","checkbox"),rt(h,"class","svelte-c2vcyt"),rt(g,"type","checkbox"),rt(m,"class","svelte-c2vcyt"),rt(v,"for","selectedDate"),rt(v,"class","svelte-c2vcyt"),rt(P,"id","selectedDate"),e[4]===void 0&&Ru(()=>e[11].call(P)),rt(i,"class","input-group svelte-c2vcyt"),rt(D,"class","svelte-c2vcyt"),rt(t,"class","svelte-c2vcyt")},m(S,A){bt(S,t,A),B(t,i),B(i,n),B(n,o),o.checked=e[1],B(n,r),B(i,l),B(i,h),B(h,c),c.checked=e[3],B(h,d),B(i,p),B(i,m),B(m,g),g.checked=e[2],B(m,y),B(i,x),B(i,v),B(i,M),B(i,P);for(let E=0;E<k.length;E+=1)k[E]&&k[E].m(P,null);nr(P,e[4],!0),B(t,C),B(t,D),e[12](D),O||(I=[ce(o,"change",e[8]),ce(o,"change",e[6]),ce(c,"change",e[9]),ce(c,"change",e[6]),ce(g,"change",e[10]),ce(g,"change",e[6]),ce(P,"change",e[11]),ce(P,"change",e[7])],O=!0)},p(S,[A]){if(A&2&&(o.checked=S[1]),A&8&&(c.checked=S[3]),A&4&&(g.checked=S[2]),A&32){N=he(S[5]);let E;for(E=0;E<N.length;E+=1){const z=Hh(S,N,E);k[E]?k[E].p(z,A):(k[E]=Vh(z),k[E].c(),k[E].m(P,null))}for(;E<k.length;E+=1)k[E].d(1);k.length=N.length}A&48&&nr(P,S[4])},i:Gt,o:Gt,d(S){S&&W(t),yi(k,S),e[12](null),O=!1,no(I)}}}const cv="https://raw.githubusercontent.com/MwauraPatrick/Data-Visualization-Project/main/dvpapp/static/pin.png";function uv(e,t,i){let n,o,r=!0,l=!1,h=!1,c=G("2022-01-31"),d=[];async function p(){if(o){let P=[];if(r){const O=await Rd();P.push(...O)}let C=[];l&&(C=await hr(),P.push(...C));let D=[];h&&(D=await Ia(),P.push(...D)),o.eachLayer(O=>{O instanceof fi.Marker&&o.removeLayer(O)}),P.filter(O=>O.count>=2).forEach(O=>{const{CustomerCity:I,PlantKey:N,count:k,lat:S,lon:A}=O;let E=`<b>City: ${I}</b><br>Plant Key: ${N}</b><br>Customer Count: ${k}`;if(l){const U=C.filter(j=>j.PlantKey===O.PlantKey&&j.Date===c);if(U.length>0){const j=U[0];E+=`<br>Date: ${j.Date}<br>Gross Inventory Quantity: ${j.GIQ}<br>On Shelf Inventory Quantity: ${j.OSQ}<br>In Transit Quantity: ${j.ITQ}`}}if(h){const U=D.filter(j=>j.PlantKey===O.PlantKey&&j.Date===c);if(U.length>0){const j=U[0];E+=`<br>Date: ${j.Date}<br>Forecast Quantity: ${j.FQ}`}}const z=fi.icon({iconUrl:cv,iconSize:[10,20],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28]});fi.marker([S,A],{icon:z}).addTo(o).bindPopup(E).openPopup()})}}Tn(async()=>{o=await rv(n),await p(),fi.Control.ResetView=fi.Control.extend({onAdd(P){const C=fi.DomUtil.create("div","leaflet-bar leaflet-control leaflet-control-custom");return C.innerHTML="Reset",C.style.backgroundColor="brown",C.style.borderRadius="4px",C.style.padding="5px 10px",C.style.cursor="pointer",C.onclick=function(){P.setView([50.8283,10.5795],4)},C}}),fi.control.resetView=function(P){return new fi.Control.ResetView(P)},fi.control.resetView({position:"topright"}).addTo(o)}),Jp(async()=>{o&&(console.log("Unloading Leaflet map."),o.remove())});function m(P){i(4,c=P.target.value),p()}async function g(){try{const P=(await hr()).map(D=>D.Date),C=(await Ia()).map(D=>D.Date);i(5,d=[...new Set([...P,...C])].sort().reverse())}catch(P){console.error("Error fetching date options:",P)}}g();function y(){r=this.checked,i(1,r)}function x(){h=this.checked,i(3,h)}function v(){l=this.checked,i(2,l)}function w(){c=zu(this),i(4,c),i(5,d)}function M(P){ss[P?"unshift":"push"](()=>{n=P,i(0,n)})}return[n,r,l,h,c,d,p,m,y,x,v,w,M]}class dv extends Dn{constructor(t){super(),Ln(this,t,uv,hv,Pn,{})}}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function lo(e){return e+.5|0}const qi=(e,t,i)=>Math.max(Math.min(e,i),t);function Os(e){return qi(lo(e*2.55),0,255)}function Ji(e){return qi(lo(e*255),0,255)}function Ai(e){return qi(lo(e/2.55)/100,0,1)}function Zh(e){return qi(lo(e*100),0,100)}const Ve={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ra=[..."0123456789ABCDEF"],fv=e=>Ra[e&15],pv=e=>Ra[(e&240)>>4]+Ra[e&15],Eo=e=>(e&240)>>4===(e&15),mv=e=>Eo(e.r)&&Eo(e.g)&&Eo(e.b)&&Eo(e.a);function _v(e){var t=e.length,i;return e[0]==="#"&&(t===4||t===5?i={r:255&Ve[e[1]]*17,g:255&Ve[e[2]]*17,b:255&Ve[e[3]]*17,a:t===5?Ve[e[4]]*17:255}:(t===7||t===9)&&(i={r:Ve[e[1]]<<4|Ve[e[2]],g:Ve[e[3]]<<4|Ve[e[4]],b:Ve[e[5]]<<4|Ve[e[6]],a:t===9?Ve[e[7]]<<4|Ve[e[8]]:255})),i}const gv=(e,t)=>e<255?t(e):"";function yv(e){var t=mv(e)?fv:pv;return e?"#"+t(e.r)+t(e.g)+t(e.b)+gv(e.a,t):void 0}const vv=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function zd(e,t,i){const n=t*Math.min(i,1-i),o=(r,l=(r+e/30)%12)=>i-n*Math.max(Math.min(l-3,9-l,1),-1);return[o(0),o(8),o(4)]}function bv(e,t,i){const n=(o,r=(o+e/60)%6)=>i-i*t*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function xv(e,t,i){const n=zd(e,1,.5);let o;for(t+i>1&&(o=1/(t+i),t*=o,i*=o),o=0;o<3;o++)n[o]*=1-t-i,n[o]+=t;return n}function wv(e,t,i,n,o){return e===o?(t-i)/n+(t<i?6:0):t===o?(i-e)/n+2:(e-t)/n+4}function yl(e){const i=e.r/255,n=e.g/255,o=e.b/255,r=Math.max(i,n,o),l=Math.min(i,n,o),h=(r+l)/2;let c,d,p;return r!==l&&(p=r-l,d=h>.5?p/(2-r-l):p/(r+l),c=wv(i,n,o,p,r),c=c*60+.5),[c|0,d||0,h]}function vl(e,t,i,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,n)).map(Ji)}function bl(e,t,i){return vl(zd,e,t,i)}function kv(e,t,i){return vl(xv,e,t,i)}function Mv(e,t,i){return vl(bv,e,t,i)}function Fd(e){return(e%360+360)%360}function Sv(e){const t=vv.exec(e);let i=255,n;if(!t)return;t[5]!==n&&(i=t[6]?Os(+t[5]):Ji(+t[5]));const o=Fd(+t[2]),r=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?n=kv(o,r,l):t[1]==="hsv"?n=Mv(o,r,l):n=bl(o,r,l),{r:n[0],g:n[1],b:n[2],a:i}}function Pv(e,t){var i=yl(e);i[0]=Fd(i[0]+t),i=bl(i),e.r=i[0],e.g=i[1],e.b=i[2]}function Tv(e){if(!e)return;const t=yl(e),i=t[0],n=Zh(t[1]),o=Zh(t[2]);return e.a<255?`hsla(${i}, ${n}%, ${o}%, ${Ai(e.a)})`:`hsl(${i}, ${n}%, ${o}%)`}const jh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Uh={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Dv(){const e={},t=Object.keys(Uh),i=Object.keys(jh);let n,o,r,l,h;for(n=0;n<t.length;n++){for(l=h=t[n],o=0;o<i.length;o++)r=i[o],h=h.replace(r,jh[r]);r=parseInt(Uh[l],16),e[h]=[r>>16&255,r>>8&255,r&255]}return e}let Ao;function Lv(e){Ao||(Ao=Dv(),Ao.transparent=[0,0,0,0]);const t=Ao[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Cv=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ov(e){const t=Cv.exec(e);let i=255,n,o,r;if(t){if(t[7]!==n){const l=+t[7];i=t[8]?Os(l):qi(l*255,0,255)}return n=+t[1],o=+t[3],r=+t[5],n=255&(t[2]?Os(n):qi(n,0,255)),o=255&(t[4]?Os(o):qi(o,0,255)),r=255&(t[6]?Os(r):qi(r,0,255)),{r:n,g:o,b:r,a:i}}}function Ev(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ai(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const fa=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Hn=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Av(e,t,i){const n=Hn(Ai(e.r)),o=Hn(Ai(e.g)),r=Hn(Ai(e.b));return{r:Ji(fa(n+i*(Hn(Ai(t.r))-n))),g:Ji(fa(o+i*(Hn(Ai(t.g))-o))),b:Ji(fa(r+i*(Hn(Ai(t.b))-r))),a:e.a+i*(t.a-e.a)}}function Io(e,t,i){if(e){let n=yl(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*i,t===0?360:1)),n=bl(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Nd(e,t){return e&&Object.assign(t||{},e)}function $h(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ji(e[3]))):(t=Nd(e,{r:0,g:0,b:0,a:1}),t.a=Ji(t.a)),t}function Iv(e){return e.charAt(0)==="r"?Ov(e):Sv(e)}class qs{constructor(t){if(t instanceof qs)return t;const i=typeof t;let n;i==="object"?n=$h(t):i==="string"&&(n=_v(t)||Lv(t)||Iv(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Nd(this._rgb);return t&&(t.a=Ai(t.a)),t}set rgb(t){this._rgb=$h(t)}rgbString(){return this._valid?Ev(this._rgb):void 0}hexString(){return this._valid?yv(this._rgb):void 0}hslString(){return this._valid?Tv(this._rgb):void 0}mix(t,i){if(t){const n=this.rgb,o=t.rgb;let r;const l=i===r?.5:i,h=2*l-1,c=n.a-o.a,d=((h*c===-1?h:(h+c)/(1+h*c))+1)/2;r=1-d,n.r=255&d*n.r+r*o.r+.5,n.g=255&d*n.g+r*o.g+.5,n.b=255&d*n.b+r*o.b+.5,n.a=l*n.a+(1-l)*o.a,this.rgb=n}return this}interpolate(t,i){return t&&(this._rgb=Av(this._rgb,t._rgb,i)),this}clone(){return new qs(this.rgb)}alpha(t){return this._rgb.a=Ji(t),this}clearer(t){const i=this._rgb;return i.a*=1-t,this}greyscale(){const t=this._rgb,i=lo(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=i,this}opaquer(t){const i=this._rgb;return i.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Io(this._rgb,2,t),this}darken(t){return Io(this._rgb,2,-t),this}saturate(t){return Io(this._rgb,1,t),this}desaturate(t){return Io(this._rgb,1,-t),this}rotate(t){return Pv(this._rgb,t),this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Li(){}const Rv=(()=>{let e=0;return()=>e++})();function Dt(e){return e===null||typeof e>"u"}function Ut(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Mt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function ie(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ae(e,t){return ie(e)?e:t}function yt(e,t){return typeof e>"u"?t:e}const zv=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Bd=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Zt(e,t,i){if(e&&typeof e.call=="function")return e.apply(i,t)}function Rt(e,t,i,n){let o,r,l;if(Ut(e))if(r=e.length,n)for(o=r-1;o>=0;o--)t.call(i,e[o],o);else for(o=0;o<r;o++)t.call(i,e[o],o);else if(Mt(e))for(l=Object.keys(e),r=l.length,o=0;o<r;o++)t.call(i,e[l[o]],l[o])}function cr(e,t){let i,n,o,r;if(!e||!t||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;++i)if(o=e[i],r=t[i],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function ur(e){if(Ut(e))return e.map(ur);if(Mt(e)){const t=Object.create(null),i=Object.keys(e),n=i.length;let o=0;for(;o<n;++o)t[i[o]]=ur(e[i[o]]);return t}return e}function Wd(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Fv(e,t,i,n){if(!Wd(e))return;const o=t[e],r=i[e];Mt(o)&&Mt(r)?Ks(o,r,n):t[e]=ur(r)}function Ks(e,t,i){const n=Ut(t)?t:[t],o=n.length;if(!Mt(e))return e;i=i||{};const r=i.merger||Fv;let l;for(let h=0;h<o;++h){if(l=n[h],!Mt(l))continue;const c=Object.keys(l);for(let d=0,p=c.length;d<p;++d)r(c[d],e,l,i)}return e}function Ns(e,t){return Ks(e,t,{merger:Nv})}function Nv(e,t,i){if(!Wd(e))return;const n=t[e],o=i[e];Mt(n)&&Mt(o)?Ns(n,o):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ur(o))}const Gh={"":e=>e,x:e=>e.x,y:e=>e.y};function Bv(e){const t=e.split("."),i=[];let n="";for(const o of t)n+=o,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}function Wv(e){const t=Bv(e);return i=>{for(const n of t){if(n==="")break;i=i&&i[n]}return i}}function tn(e,t){return(Gh[t]||(Gh[t]=Wv(t)))(e)}function xl(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Xs=e=>typeof e<"u",en=e=>typeof e=="function",qh=(e,t)=>{if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0};function Yv(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const qt=Math.PI,$t=2*qt,Hv=$t+qt,dr=Number.POSITIVE_INFINITY,Vv=qt/180,re=qt/2,un=qt/4,Kh=qt*2/3,Ki=Math.log10,vi=Math.sign;function Bs(e,t,i){return Math.abs(e-t)<i}function Xh(e){const t=Math.round(e);e=Bs(e,t,e/1e3)?t:e;const i=Math.pow(10,Math.floor(Ki(e))),n=e/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function Zv(e){const t=[],i=Math.sqrt(e);let n;for(n=1;n<i;n++)e%n===0&&(t.push(n),t.push(e/n));return i===(i|0)&&t.push(i),t.sort((o,r)=>o-r).pop(),t}function es(e){return!isNaN(parseFloat(e))&&isFinite(e)}function jv(e,t){const i=Math.round(e);return i-t<=e&&i+t>=e}function Yd(e,t,i){let n,o,r;for(n=0,o=e.length;n<o;n++)r=e[n][i],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function ti(e){return e*(qt/180)}function wl(e){return e*(180/qt)}function Qh(e){if(!ie(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function Hd(e,t){const i=t.x-e.x,n=t.y-e.y,o=Math.sqrt(i*i+n*n);let r=Math.atan2(n,i);return r<-.5*qt&&(r+=$t),{angle:r,distance:o}}function za(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Uv(e,t){return(e-t+Hv)%$t-qt}function Ie(e){return(e%$t+$t)%$t}function Qs(e,t,i,n){const o=Ie(e),r=Ie(t),l=Ie(i),h=Ie(r-o),c=Ie(l-o),d=Ie(o-r),p=Ie(o-l);return o===r||o===l||n&&r===l||h>c&&d<p}function me(e,t,i){return Math.max(t,Math.min(i,e))}function $v(e){return me(e,-32768,32767)}function zi(e,t,i,n=1e-6){return e>=Math.min(t,i)-n&&e<=Math.max(t,i)+n}function kl(e,t,i){i=i||(l=>e[l]<t);let n=e.length-1,o=0,r;for(;n-o>1;)r=o+n>>1,i(r)?o=r:n=r;return{lo:o,hi:n}}const Fi=(e,t,i,n)=>kl(e,i,n?o=>{const r=e[o][t];return r<i||r===i&&e[o+1][t]===i}:o=>e[o][t]<i),Gv=(e,t,i)=>kl(e,i,n=>e[n][t]>=i);function qv(e,t,i){let n=0,o=e.length;for(;n<o&&e[n]<t;)n++;for(;o>n&&e[o-1]>i;)o--;return n>0||o<e.length?e.slice(n,o):e}const Vd=["push","pop","shift","splice","unshift"];function Kv(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Vd.forEach(i=>{const n="_onData"+xl(i),o=e[i];Object.defineProperty(e,i,{configurable:!0,enumerable:!1,value(...r){const l=o.apply(this,r);return e._chartjs.listeners.forEach(h=>{typeof h[n]=="function"&&h[n](...r)}),l}})})}function Jh(e,t){const i=e._chartjs;if(!i)return;const n=i.listeners,o=n.indexOf(t);o!==-1&&n.splice(o,1),!(n.length>0)&&(Vd.forEach(r=>{delete e[r]}),delete e._chartjs)}function Zd(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const jd=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Ud(e,t){let i=[],n=!1;return function(...o){i=o,n||(n=!0,jd.call(window,()=>{n=!1,e.apply(t,i)}))}}function Xv(e,t){let i;return function(...n){return t?(clearTimeout(i),i=setTimeout(e,t,n)):e.apply(this,n),t}}const Ml=e=>e==="start"?"left":e==="end"?"right":"center",xe=(e,t,i)=>e==="start"?t:e==="end"?i:(t+i)/2,Qv=(e,t,i,n)=>e===(n?"left":"right")?i:e==="center"?(t+i)/2:t;function $d(e,t,i){const n=t.length;let o=0,r=n;if(e._sorted){const{iScale:l,_parsed:h}=e,c=l.axis,{min:d,max:p,minDefined:m,maxDefined:g}=l.getUserBounds();m&&(o=me(Math.min(Fi(h,c,d).lo,i?n:Fi(t,c,l.getPixelForValue(d)).lo),0,n-1)),g?r=me(Math.max(Fi(h,l.axis,p,!0).hi+1,i?0:Fi(t,c,l.getPixelForValue(p),!0).hi+1),o,n)-o:r=n-o}return{start:o,count:r}}function Gd(e){const{xScale:t,yScale:i,_scaleRanges:n}=e,o={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!n)return e._scaleRanges=o,!0;const r=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,o),r}const Ro=e=>e===0||e===1,tc=(e,t,i)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*$t/i)),ec=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*$t/i)+1,Ws={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*re)+1,easeOutSine:e=>Math.sin(e*re),easeInOutSine:e=>-.5*(Math.cos(qt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Ro(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ro(e)?e:tc(e,.075,.3),easeOutElastic:e=>Ro(e)?e:ec(e,.075,.3),easeInOutElastic(e){return Ro(e)?e:e<.5?.5*tc(e*2,.1125,.45):.5+.5*ec(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ws.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ws.easeInBounce(e*2)*.5:Ws.easeOutBounce(e*2-1)*.5+.5};function Sl(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function ic(e){return Sl(e)?e:new qs(e)}function pa(e){return Sl(e)?e:new qs(e).saturate(.5).darken(.1).hexString()}const Jv=["x","y","borderWidth","radius","tension"],t0=["color","borderColor","backgroundColor"];function e0(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:t0},numbers:{type:"number",properties:Jv}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function i0(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const nc=new Map;function n0(e,t){t=t||{};const i=e+JSON.stringify(t);let n=nc.get(i);return n||(n=new Intl.NumberFormat(e,t),nc.set(i,n)),n}function ho(e,t,i){return n0(t,i).format(e)}const qd={values(e){return Ut(e)?e:""+e},numeric(e,t,i){if(e===0)return"0";const n=this.chart.options.locale;let o,r=e;if(i.length>1){const d=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(d<1e-4||d>1e15)&&(o="scientific"),r=s0(e,i)}const l=Ki(Math.abs(r)),h=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),c={notation:o,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(c,this.options.ticks.format),ho(e,n,c)},logarithmic(e,t,i){if(e===0)return"0";const n=i[t].significand||e/Math.pow(10,Math.floor(Ki(e)));return[1,2,3,5,10,15].includes(n)||t>.8*i.length?qd.numeric.call(this,e,t,i):""}};function s0(e,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&e!==Math.floor(e)&&(i=e-Math.floor(e)),i}var Or={formatters:qd};function o0(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Or.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const kn=Object.create(null),Fa=Object.create(null);function Ys(e,t){if(!t)return e;const i=t.split(".");for(let n=0,o=i.length;n<o;++n){const r=i[n];e=e[r]||(e[r]=Object.create(null))}return e}function ma(e,t,i){return typeof t=="string"?Ks(Ys(e,t),i):Ks(Ys(e,""),t)}class r0{constructor(t,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,o)=>pa(o.backgroundColor),this.hoverBorderColor=(n,o)=>pa(o.borderColor),this.hoverColor=(n,o)=>pa(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(i)}set(t,i){return ma(this,t,i)}get(t){return Ys(this,t)}describe(t,i){return ma(Fa,t,i)}override(t,i){return ma(kn,t,i)}route(t,i,n,o){const r=Ys(this,t),l=Ys(this,n),h="_"+i;Object.defineProperties(r,{[h]:{value:r[i],writable:!0},[i]:{enumerable:!0,get(){const c=this[h],d=l[o];return Mt(c)?Object.assign({},d,c):yt(c,d)},set(c){this[h]=c}}})}apply(t){t.forEach(i=>i(this))}}var ne=new r0({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[e0,i0,o0]);function a0(e){return!e||Dt(e.size)||Dt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function fr(e,t,i,n,o){let r=t[o];return r||(r=t[o]=e.measureText(o).width,i.push(o)),r>n&&(n=r),n}function l0(e,t,i,n){n=n||{};let o=n.data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(o=n.data={},r=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let l=0;const h=i.length;let c,d,p,m,g;for(c=0;c<h;c++)if(m=i[c],m!=null&&!Ut(m))l=fr(e,o,r,l,m);else if(Ut(m))for(d=0,p=m.length;d<p;d++)g=m[d],g!=null&&!Ut(g)&&(l=fr(e,o,r,l,g));e.restore();const y=r.length/2;if(y>i.length){for(c=0;c<y;c++)delete o[r[c]];r.splice(0,y)}return l}function dn(e,t,i){const n=e.currentDevicePixelRatio,o=i!==0?Math.max(i/2,.5):0;return Math.round((t-o)*n)/n+o}function sc(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Na(e,t,i,n){Kd(e,t,i,n,null)}function Kd(e,t,i,n,o){let r,l,h,c,d,p,m,g;const y=t.pointStyle,x=t.rotation,v=t.radius;let w=(x||0)*Vv;if(y&&typeof y=="object"&&(r=y.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(i,n),e.rotate(w),e.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),e.restore();return}if(!(isNaN(v)||v<=0)){switch(e.beginPath(),y){default:o?e.ellipse(i,n,o/2,v,0,0,$t):e.arc(i,n,v,0,$t),e.closePath();break;case"triangle":p=o?o/2:v,e.moveTo(i+Math.sin(w)*p,n-Math.cos(w)*v),w+=Kh,e.lineTo(i+Math.sin(w)*p,n-Math.cos(w)*v),w+=Kh,e.lineTo(i+Math.sin(w)*p,n-Math.cos(w)*v),e.closePath();break;case"rectRounded":d=v*.516,c=v-d,l=Math.cos(w+un)*c,m=Math.cos(w+un)*(o?o/2-d:c),h=Math.sin(w+un)*c,g=Math.sin(w+un)*(o?o/2-d:c),e.arc(i-m,n-h,d,w-qt,w-re),e.arc(i+g,n-l,d,w-re,w),e.arc(i+m,n+h,d,w,w+re),e.arc(i-g,n+l,d,w+re,w+qt),e.closePath();break;case"rect":if(!x){c=Math.SQRT1_2*v,p=o?o/2:c,e.rect(i-p,n-c,2*p,2*c);break}w+=un;case"rectRot":m=Math.cos(w)*(o?o/2:v),l=Math.cos(w)*v,h=Math.sin(w)*v,g=Math.sin(w)*(o?o/2:v),e.moveTo(i-m,n-h),e.lineTo(i+g,n-l),e.lineTo(i+m,n+h),e.lineTo(i-g,n+l),e.closePath();break;case"crossRot":w+=un;case"cross":m=Math.cos(w)*(o?o/2:v),l=Math.cos(w)*v,h=Math.sin(w)*v,g=Math.sin(w)*(o?o/2:v),e.moveTo(i-m,n-h),e.lineTo(i+m,n+h),e.moveTo(i+g,n-l),e.lineTo(i-g,n+l);break;case"star":m=Math.cos(w)*(o?o/2:v),l=Math.cos(w)*v,h=Math.sin(w)*v,g=Math.sin(w)*(o?o/2:v),e.moveTo(i-m,n-h),e.lineTo(i+m,n+h),e.moveTo(i+g,n-l),e.lineTo(i-g,n+l),w+=un,m=Math.cos(w)*(o?o/2:v),l=Math.cos(w)*v,h=Math.sin(w)*v,g=Math.sin(w)*(o?o/2:v),e.moveTo(i-m,n-h),e.lineTo(i+m,n+h),e.moveTo(i+g,n-l),e.lineTo(i-g,n+l);break;case"line":l=o?o/2:Math.cos(w)*v,h=Math.sin(w)*v,e.moveTo(i-l,n-h),e.lineTo(i+l,n+h);break;case"dash":e.moveTo(i,n),e.lineTo(i+Math.cos(w)*(o?o/2:v),n+Math.sin(w)*v);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Ni(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function Er(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ar(e){e.restore()}function h0(e,t,i,n,o){if(!t)return e.lineTo(i.x,i.y);if(o==="middle"){const r=(t.x+i.x)/2;e.lineTo(r,t.y),e.lineTo(r,i.y)}else o==="after"!=!!n?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function c0(e,t,i,n){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function u0(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Dt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function d0(e,t,i,n,o){if(o.strikethrough||o.underline){const r=e.measureText(n),l=t-r.actualBoundingBoxLeft,h=t+r.actualBoundingBoxRight,c=i-r.actualBoundingBoxAscent,d=i+r.actualBoundingBoxDescent,p=o.strikethrough?(c+d)/2:d;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=o.decorationWidth||2,e.moveTo(l,p),e.lineTo(h,p),e.stroke()}}function f0(e,t){const i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}function Mn(e,t,i,n,o,r={}){const l=Ut(t)?t:[t],h=r.strokeWidth>0&&r.strokeColor!=="";let c,d;for(e.save(),e.font=o.string,u0(e,r),c=0;c<l.length;++c)d=l[c],r.backdrop&&f0(e,r.backdrop),h&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),Dt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(d,i,n,r.maxWidth)),e.fillText(d,i,n,r.maxWidth),d0(e,i,n,d,r),n+=Number(o.lineHeight);e.restore()}function Js(e,t){const{x:i,y:n,w:o,h:r,radius:l}=t;e.arc(i+l.topLeft,n+l.topLeft,l.topLeft,1.5*qt,qt,!0),e.lineTo(i,n+r-l.bottomLeft),e.arc(i+l.bottomLeft,n+r-l.bottomLeft,l.bottomLeft,qt,re,!0),e.lineTo(i+o-l.bottomRight,n+r),e.arc(i+o-l.bottomRight,n+r-l.bottomRight,l.bottomRight,re,0,!0),e.lineTo(i+o,n+l.topRight),e.arc(i+o-l.topRight,n+l.topRight,l.topRight,0,-re,!0),e.lineTo(i+l.topLeft,n)}const p0=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,m0=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _0(e,t){const i=(""+e).match(p0);if(!i||i[1]==="normal")return t*1.2;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100;break}return t*e}const g0=e=>+e||0;function Pl(e,t){const i={},n=Mt(t),o=n?Object.keys(t):t,r=Mt(e)?n?l=>yt(e[l],e[t[l]]):l=>e[l]:()=>e;for(const l of o)i[l]=g0(r(l));return i}function Xd(e){return Pl(e,{top:"y",right:"x",bottom:"y",left:"x"})}function bn(e){return Pl(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Me(e){const t=Xd(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function de(e,t){e=e||{},t=t||ne.font;let i=yt(e.size,t.size);typeof i=="string"&&(i=parseInt(i,10));let n=yt(e.style,t.style);n&&!(""+n).match(m0)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const o={family:yt(e.family,t.family),lineHeight:_0(yt(e.lineHeight,t.lineHeight),i),size:i,style:n,weight:yt(e.weight,t.weight),string:""};return o.string=a0(o),o}function Es(e,t,i,n){let o=!0,r,l,h;for(r=0,l=e.length;r<l;++r)if(h=e[r],h!==void 0&&(t!==void 0&&typeof h=="function"&&(h=h(t),o=!1),i!==void 0&&Ut(h)&&(h=h[i%h.length],o=!1),h!==void 0))return n&&!o&&(n.cacheable=!1),h}function y0(e,t,i){const{min:n,max:o}=e,r=Bd(t,(o-n)/2),l=(h,c)=>i&&h===0?0:h+c;return{min:l(n,-Math.abs(r)),max:l(o,r)}}function nn(e,t){return Object.assign(Object.create(e),t)}function Tl(e,t=[""],i,n,o=()=>e[0]){const r=i||e;typeof n>"u"&&(n=ef("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:n,_getTarget:o,override:h=>Tl([h,...e],t,r,n)};return new Proxy(l,{deleteProperty(h,c){return delete h[c],delete h._keys,delete e[0][c],!0},get(h,c){return Jd(h,c,()=>P0(c,t,e,h))},getOwnPropertyDescriptor(h,c){return Reflect.getOwnPropertyDescriptor(h._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(h,c){return rc(h).includes(c)},ownKeys(h){return rc(h)},set(h,c,d){const p=h._storage||(h._storage=o());return h[c]=p[c]=d,delete h._keys,!0}})}function is(e,t,i,n){const o={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:Qd(e,n),setContext:r=>is(e,r,i,n),override:r=>is(e.override(r),t,i,n)};return new Proxy(o,{deleteProperty(r,l){return delete r[l],delete e[l],!0},get(r,l,h){return Jd(r,l,()=>b0(r,l,h))},getOwnPropertyDescriptor(r,l){return r._descriptors.allKeys?Reflect.has(e,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,l)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,l){return Reflect.has(e,l)},ownKeys(){return Reflect.ownKeys(e)},set(r,l,h){return e[l]=h,delete r[l],!0}})}function Qd(e,t={scriptable:!0,indexable:!0}){const{_scriptable:i=t.scriptable,_indexable:n=t.indexable,_allKeys:o=t.allKeys}=e;return{allKeys:o,scriptable:i,indexable:n,isScriptable:en(i)?i:()=>i,isIndexable:en(n)?n:()=>n}}const v0=(e,t)=>e?e+xl(t):t,Dl=(e,t)=>Mt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Jd(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const n=i();return e[t]=n,n}function b0(e,t,i){const{_proxy:n,_context:o,_subProxy:r,_descriptors:l}=e;let h=n[t];return en(h)&&l.isScriptable(t)&&(h=x0(t,h,e,i)),Ut(h)&&h.length&&(h=w0(t,h,e,l.isIndexable)),Dl(t,h)&&(h=is(h,o,r&&r[t],l)),h}function x0(e,t,i,n){const{_proxy:o,_context:r,_subProxy:l,_stack:h}=i;if(h.has(e))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+e);h.add(e);let c=t(r,l||n);return h.delete(e),Dl(e,c)&&(c=Ll(o._scopes,o,e,c)),c}function w0(e,t,i,n){const{_proxy:o,_context:r,_subProxy:l,_descriptors:h}=i;if(typeof r.index<"u"&&n(e))return t[r.index%t.length];if(Mt(t[0])){const c=t,d=o._scopes.filter(p=>p!==c);t=[];for(const p of c){const m=Ll(d,o,e,p);t.push(is(m,r,l&&l[e],h))}}return t}function tf(e,t,i){return en(e)?e(t,i):e}const k0=(e,t)=>e===!0?t:typeof e=="string"?tn(t,e):void 0;function M0(e,t,i,n,o){for(const r of t){const l=k0(i,r);if(l){e.add(l);const h=tf(l._fallback,i,o);if(typeof h<"u"&&h!==i&&h!==n)return h}else if(l===!1&&typeof n<"u"&&i!==n)return null}return!1}function Ll(e,t,i,n){const o=t._rootScopes,r=tf(t._fallback,i,n),l=[...e,...o],h=new Set;h.add(n);let c=oc(h,l,i,r||i,n);return c===null||typeof r<"u"&&r!==i&&(c=oc(h,l,r,c,n),c===null)?!1:Tl(Array.from(h),[""],o,r,()=>S0(t,i,n))}function oc(e,t,i,n,o){for(;i;)i=M0(e,t,i,n,o);return i}function S0(e,t,i){const n=e._getTarget();t in n||(n[t]={});const o=n[t];return Ut(o)&&Mt(i)?i:o||{}}function P0(e,t,i,n){let o;for(const r of t)if(o=ef(v0(r,e),i),typeof o<"u")return Dl(e,o)?Ll(i,n,e,o):o}function ef(e,t){for(const i of t){if(!i)continue;const n=i[e];if(typeof n<"u")return n}}function rc(e){let t=e._keys;return t||(t=e._keys=T0(e._scopes)),t}function T0(e){const t=new Set;for(const i of e)for(const n of Object.keys(i).filter(o=>!o.startsWith("_")))t.add(n);return Array.from(t)}function nf(e,t,i,n){const{iScale:o}=e,{key:r="r"}=this._parsing,l=new Array(n);let h,c,d,p;for(h=0,c=n;h<c;++h)d=h+i,p=t[d],l[h]={r:o.parse(tn(p,r),d)};return l}const D0=Number.EPSILON||1e-14,ns=(e,t)=>t<e.length&&!e[t].skip&&e[t],sf=e=>e==="x"?"y":"x";function L0(e,t,i,n){const o=e.skip?t:e,r=t,l=i.skip?t:i,h=za(r,o),c=za(l,r);let d=h/(h+c),p=c/(h+c);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const m=n*d,g=n*p;return{previous:{x:r.x-m*(l.x-o.x),y:r.y-m*(l.y-o.y)},next:{x:r.x+g*(l.x-o.x),y:r.y+g*(l.y-o.y)}}}function C0(e,t,i){const n=e.length;let o,r,l,h,c,d=ns(e,0);for(let p=0;p<n-1;++p)if(c=d,d=ns(e,p+1),!(!c||!d)){if(Bs(t[p],0,D0)){i[p]=i[p+1]=0;continue}o=i[p]/t[p],r=i[p+1]/t[p],h=Math.pow(o,2)+Math.pow(r,2),!(h<=9)&&(l=3/Math.sqrt(h),i[p]=o*l*t[p],i[p+1]=r*l*t[p])}}function O0(e,t,i="x"){const n=sf(i),o=e.length;let r,l,h,c=ns(e,0);for(let d=0;d<o;++d){if(l=h,h=c,c=ns(e,d+1),!h)continue;const p=h[i],m=h[n];l&&(r=(p-l[i])/3,h[`cp1${i}`]=p-r,h[`cp1${n}`]=m-r*t[d]),c&&(r=(c[i]-p)/3,h[`cp2${i}`]=p+r,h[`cp2${n}`]=m+r*t[d])}}function E0(e,t="x"){const i=sf(t),n=e.length,o=Array(n).fill(0),r=Array(n);let l,h,c,d=ns(e,0);for(l=0;l<n;++l)if(h=c,c=d,d=ns(e,l+1),!!c){if(d){const p=d[t]-c[t];o[l]=p!==0?(d[i]-c[i])/p:0}r[l]=h?d?vi(o[l-1])!==vi(o[l])?0:(o[l-1]+o[l])/2:o[l-1]:o[l]}C0(e,o,r),O0(e,r,t)}function zo(e,t,i){return Math.max(Math.min(e,i),t)}function A0(e,t){let i,n,o,r,l,h=Ni(e[0],t);for(i=0,n=e.length;i<n;++i)l=r,r=h,h=i<n-1&&Ni(e[i+1],t),r&&(o=e[i],l&&(o.cp1x=zo(o.cp1x,t.left,t.right),o.cp1y=zo(o.cp1y,t.top,t.bottom)),h&&(o.cp2x=zo(o.cp2x,t.left,t.right),o.cp2y=zo(o.cp2y,t.top,t.bottom)))}function I0(e,t,i,n,o){let r,l,h,c;if(t.spanGaps&&(e=e.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")E0(e,o);else{let d=n?e[e.length-1]:e[0];for(r=0,l=e.length;r<l;++r)h=e[r],c=L0(d,h,e[Math.min(r+1,l-(n?0:1))%l],t.tension),h.cp1x=c.previous.x,h.cp1y=c.previous.y,h.cp2x=c.next.x,h.cp2y=c.next.y,d=h}t.capBezierPoints&&A0(e,i)}function Cl(){return typeof window<"u"&&typeof document<"u"}function Ol(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function pr(e,t,i){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[i])):n=e,n}const Ir=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function R0(e,t){return Ir(e).getPropertyValue(t)}const z0=["top","right","bottom","left"];function xn(e,t,i){const n={};i=i?"-"+i:"";for(let o=0;o<4;o++){const r=z0[o];n[r]=parseFloat(e[t+"-"+r+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const F0=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function N0(e,t){const i=e.touches,n=i&&i.length?i[0]:e,{offsetX:o,offsetY:r}=n;let l=!1,h,c;if(F0(o,r,e.target))h=o,c=r;else{const d=t.getBoundingClientRect();h=n.clientX-d.left,c=n.clientY-d.top,l=!0}return{x:h,y:c,box:l}}function mn(e,t){if("native"in e)return e;const{canvas:i,currentDevicePixelRatio:n}=t,o=Ir(i),r=o.boxSizing==="border-box",l=xn(o,"padding"),h=xn(o,"border","width"),{x:c,y:d,box:p}=N0(e,i),m=l.left+(p&&h.left),g=l.top+(p&&h.top);let{width:y,height:x}=t;return r&&(y-=l.width+h.width,x-=l.height+h.height),{x:Math.round((c-m)/y*i.width/n),y:Math.round((d-g)/x*i.height/n)}}function B0(e,t,i){let n,o;if(t===void 0||i===void 0){const r=Ol(e);if(!r)t=e.clientWidth,i=e.clientHeight;else{const l=r.getBoundingClientRect(),h=Ir(r),c=xn(h,"border","width"),d=xn(h,"padding");t=l.width-d.width-c.width,i=l.height-d.height-c.height,n=pr(h.maxWidth,r,"clientWidth"),o=pr(h.maxHeight,r,"clientHeight")}}return{width:t,height:i,maxWidth:n||dr,maxHeight:o||dr}}const Fo=e=>Math.round(e*10)/10;function W0(e,t,i,n){const o=Ir(e),r=xn(o,"margin"),l=pr(o.maxWidth,e,"clientWidth")||dr,h=pr(o.maxHeight,e,"clientHeight")||dr,c=B0(e,t,i);let{width:d,height:p}=c;if(o.boxSizing==="content-box"){const g=xn(o,"border","width"),y=xn(o,"padding");d-=y.width+g.width,p-=y.height+g.height}return d=Math.max(0,d-r.width),p=Math.max(0,n?d/n:p-r.height),d=Fo(Math.min(d,l,c.maxWidth)),p=Fo(Math.min(p,h,c.maxHeight)),d&&!p&&(p=Fo(d/2)),(t!==void 0||i!==void 0)&&n&&c.height&&p>c.height&&(p=c.height,d=Fo(Math.floor(p*n))),{width:d,height:p}}function ac(e,t,i){const n=t||1,o=Math.floor(e.height*n),r=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const l=e.canvas;return l.style&&(i||!l.style.height&&!l.style.width)&&(l.style.height=`${e.height}px`,l.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||l.height!==o||l.width!==r?(e.currentDevicePixelRatio=n,l.height=o,l.width=r,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Y0=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Cl()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function lc(e,t){const i=R0(e,t),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function _n(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function H0(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:n==="middle"?i<.5?e.y:t.y:n==="after"?i<1?e.y:t.y:i>0?t.y:e.y}}function V0(e,t,i,n){const o={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},l=_n(e,o,i),h=_n(o,r,i),c=_n(r,t,i),d=_n(l,h,i),p=_n(h,c,i);return _n(d,p,i)}const Z0=function(e,t){return{x(i){return e+e+t-i},setWidth(i){t=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,n){return i-n},leftForLtr(i,n){return i-n}}},j0=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function qn(e,t,i){return e?Z0(t,i):j0()}function of(e,t){let i,n;(t==="ltr"||t==="rtl")&&(i=e.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),e.prevTextDirection=n)}function rf(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function af(e){return e==="angle"?{between:Qs,compare:Uv,normalize:Ie}:{between:zi,compare:(t,i)=>t-i,normalize:t=>t}}function hc({start:e,end:t,count:i,loop:n,style:o}){return{start:e%i,end:t%i,loop:n&&(t-e+1)%i===0,style:o}}function U0(e,t,i){const{property:n,start:o,end:r}=i,{between:l,normalize:h}=af(n),c=t.length;let{start:d,end:p,loop:m}=e,g,y;if(m){for(d+=c,p+=c,g=0,y=c;g<y&&l(h(t[d%c][n]),o,r);++g)d--,p--;d%=c,p%=c}return p<d&&(p+=c),{start:d,end:p,loop:m,style:e.style}}function lf(e,t,i){if(!i)return[e];const{property:n,start:o,end:r}=i,l=t.length,{compare:h,between:c,normalize:d}=af(n),{start:p,end:m,loop:g,style:y}=U0(e,t,i),x=[];let v=!1,w=null,M,P,C;const D=()=>c(o,C,M)&&h(o,C)!==0,O=()=>h(r,M)===0||c(r,C,M),I=()=>v||D(),N=()=>!v||O();for(let k=p,S=p;k<=m;++k)P=t[k%l],!P.skip&&(M=d(P[n]),M!==C&&(v=c(M,o,r),w===null&&I()&&(w=h(M,o)===0?k:S),w!==null&&N()&&(x.push(hc({start:w,end:k,loop:g,count:l,style:y})),w=null),S=k,C=M));return w!==null&&x.push(hc({start:w,end:m,loop:g,count:l,style:y})),x}function hf(e,t){const i=[],n=e.segments;for(let o=0;o<n.length;o++){const r=lf(n[o],e.points,t);r.length&&i.push(...r)}return i}function $0(e,t,i,n){let o=0,r=t-1;if(i&&!n)for(;o<t&&!e[o].skip;)o++;for(;o<t&&e[o].skip;)o++;for(o%=t,i&&(r+=o);r>o&&e[r%t].skip;)r--;return r%=t,{start:o,end:r}}function G0(e,t,i,n){const o=e.length,r=[];let l=t,h=e[t],c;for(c=t+1;c<=i;++c){const d=e[c%o];d.skip||d.stop?h.skip||(n=!1,r.push({start:t%o,end:(c-1)%o,loop:n}),t=l=d.stop?c:null):(l=c,h.skip&&(t=c)),h=d}return l!==null&&r.push({start:t%o,end:l%o,loop:n}),r}function q0(e,t){const i=e.points,n=e.options.spanGaps,o=i.length;if(!o)return[];const r=!!e._loop,{start:l,end:h}=$0(i,o,r,n);if(n===!0)return cc(e,[{start:l,end:h,loop:r}],i,t);const c=h<l?h+o:h,d=!!e._fullLoop&&l===0&&h===o-1;return cc(e,G0(i,l,c,d),i,t)}function cc(e,t,i,n){return!n||!n.setContext||!i?t:K0(e,t,i,n)}function K0(e,t,i,n){const o=e._chart.getContext(),r=uc(e.options),{_datasetIndex:l,options:{spanGaps:h}}=e,c=i.length,d=[];let p=r,m=t[0].start,g=m;function y(x,v,w,M){const P=h?-1:1;if(x!==v){for(x+=c;i[x%c].skip;)x-=P;for(;i[v%c].skip;)v+=P;x%c!==v%c&&(d.push({start:x%c,end:v%c,loop:w,style:M}),p=M,m=v%c)}}for(const x of t){m=h?m:x.start;let v=i[m%c],w;for(g=m+1;g<=x.end;g++){const M=i[g%c];w=uc(n.setContext(nn(o,{type:"segment",p0:v,p1:M,p0DataIndex:(g-1)%c,p1DataIndex:g%c,datasetIndex:l}))),X0(w,p)&&y(m,g-1,x.loop,p),v=M,p=w}m<g-1&&y(m,g-1,x.loop,p)}return d}function uc(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function X0(e,t){if(!t)return!1;const i=[],n=function(o,r){return Sl(r)?(i.includes(r)||i.push(r),i.indexOf(r)):r};return JSON.stringify(e,n)!==JSON.stringify(t,n)}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Q0{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,i,n,o){const r=i.listeners[o],l=i.duration;r.forEach(h=>h({chart:t,initial:i.initial,numSteps:l,currentStep:Math.min(n-i.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=jd.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let i=0;this._charts.forEach((n,o)=>{if(!n.running||!n.items.length)return;const r=n.items;let l=r.length-1,h=!1,c;for(;l>=0;--l)c=r[l],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),h=!0):(r[l]=r[r.length-1],r.pop());h&&(o.draw(),this._notify(o,n,t,"progress")),r.length||(n.running=!1,this._notify(o,n,t,"complete"),n.initial=!1),i+=r.length}),this._lastDate=t,i===0&&(this._running=!1)}_getAnims(t){const i=this._charts;let n=i.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(t,n)),n}listen(t,i,n){this._getAnims(t).listeners[i].push(n)}add(t,i){!i||!i.length||this._getAnims(t).items.push(...i)}has(t){return this._getAnims(t).items.length>0}start(t){const i=this._charts.get(t);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((n,o)=>Math.max(n,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;const i=this._charts.get(t);return!(!i||!i.running||!i.items.length)}stop(t){const i=this._charts.get(t);if(!i||!i.items.length)return;const n=i.items;let o=n.length-1;for(;o>=0;--o)n[o].cancel();i.items=[],this._notify(t,i,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ci=new Q0;const dc="transparent",J0={boolean(e,t,i){return i>.5?t:e},color(e,t,i){const n=ic(e||dc),o=n.valid&&ic(t||dc);return o&&o.valid?o.mix(n,i).hexString():t},number(e,t,i){return e+(t-e)*i}};class tb{constructor(t,i,n,o){const r=i[n];o=Es([t.to,o,r,t.from]);const l=Es([t.from,r,o]);this._active=!0,this._fn=t.fn||J0[t.type||typeof l],this._easing=Ws[t.easing]||Ws.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=i,this._prop=n,this._from=l,this._to=o,this._promises=void 0}active(){return this._active}update(t,i,n){if(this._active){this._notify(!1);const o=this._target[this._prop],r=n-this._start,l=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Es([t.to,i,o,t.from]),this._from=Es([t.from,o,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const i=t-this._start,n=this._duration,o=this._prop,r=this._from,l=this._loop,h=this._to;let c;if(this._active=r!==h&&(l||i<n),!this._active){this._target[o]=h,this._notify(!0);return}if(i<0){this._target[o]=r;return}c=i/n%2,c=l&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[o]=this._fn(r,h,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((i,n)=>{t.push({res:i,rej:n})})}_notify(t){const i=t?"res":"rej",n=this._promises||[];for(let o=0;o<n.length;o++)n[o][i]()}}class cf{constructor(t,i){this._chart=t,this._properties=new Map,this.configure(i)}configure(t){if(!Mt(t))return;const i=Object.keys(ne.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{const r=t[o];if(!Mt(r))return;const l={};for(const h of i)l[h]=r[h];(Ut(r.properties)&&r.properties||[o]).forEach(h=>{(h===o||!n.has(h))&&n.set(h,l)})})}_animateOptions(t,i){const n=i.options,o=ib(t,n);if(!o)return[];const r=this._createAnimations(o,n);return n.$shared&&eb(t.options.$animations,n).then(()=>{t.options=n},()=>{}),r}_createAnimations(t,i){const n=this._properties,o=[],r=t.$animations||(t.$animations={}),l=Object.keys(i),h=Date.now();let c;for(c=l.length-1;c>=0;--c){const d=l[c];if(d.charAt(0)==="$")continue;if(d==="options"){o.push(...this._animateOptions(t,i));continue}const p=i[d];let m=r[d];const g=n.get(d);if(m)if(g&&m.active()){m.update(g,p,h);continue}else m.cancel();if(!g||!g.duration){t[d]=p;continue}r[d]=m=new tb(g,t,d,p),o.push(m)}return o}update(t,i){if(this._properties.size===0){Object.assign(t,i);return}const n=this._createAnimations(t,i);if(n.length)return Ci.add(this._chart,n),!0}}function eb(e,t){const i=[],n=Object.keys(t);for(let o=0;o<n.length;o++){const r=e[n[o]];r&&r.active()&&i.push(r.wait())}return Promise.all(i)}function ib(e,t){if(!t)return;let i=e.options;if(!i){e.options=t;return}return i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function fc(e,t){const i=e&&e.options||{},n=i.reverse,o=i.min===void 0?t:0,r=i.max===void 0?t:0;return{start:n?r:o,end:n?o:r}}function nb(e,t,i){if(i===!1)return!1;const n=fc(e,i),o=fc(t,i);return{top:o.end,right:n.end,bottom:o.start,left:n.start}}function sb(e){let t,i,n,o;return Mt(e)?(t=e.top,i=e.right,n=e.bottom,o=e.left):t=i=n=o=e,{top:t,right:i,bottom:n,left:o,disabled:e===!1}}function uf(e,t){const i=[],n=e._getSortedDatasetMetas(t);let o,r;for(o=0,r=n.length;o<r;++o)i.push(n[o].index);return i}function pc(e,t,i,n={}){const o=e.keys,r=n.mode==="single";let l,h,c,d;if(t!==null){for(l=0,h=o.length;l<h;++l){if(c=+o[l],c===i){if(n.all)continue;break}d=e.values[c],ie(d)&&(r||t===0||vi(t)===vi(d))&&(t+=d)}return t}}function ob(e){const t=Object.keys(e),i=new Array(t.length);let n,o,r;for(n=0,o=t.length;n<o;++n)r=t[n],i[n]={x:r,y:e[r]};return i}function mc(e,t){const i=e&&e.options.stacked;return i||i===void 0&&t.stack!==void 0}function rb(e,t,i){return`${e.id}.${t.id}.${i.stack||i.type}`}function ab(e){const{min:t,max:i,minDefined:n,maxDefined:o}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:o?i:Number.POSITIVE_INFINITY}}function lb(e,t,i){const n=e[t]||(e[t]={});return n[i]||(n[i]={})}function _c(e,t,i,n){for(const o of t.getMatchingVisibleMetas(n).reverse()){const r=e[o.index];if(i&&r>0||!i&&r<0)return o.index}return null}function gc(e,t){const{chart:i,_cachedMeta:n}=e,o=i._stacks||(i._stacks={}),{iScale:r,vScale:l,index:h}=n,c=r.axis,d=l.axis,p=rb(r,l,n),m=t.length;let g;for(let y=0;y<m;++y){const x=t[y],{[c]:v,[d]:w}=x,M=x._stacks||(x._stacks={});g=M[d]=lb(o,p,v),g[h]=w,g._top=_c(g,l,!0,n.type),g._bottom=_c(g,l,!1,n.type);const P=g._visualValues||(g._visualValues={});P[h]=w}}function _a(e,t){const i=e.scales;return Object.keys(i).filter(n=>i[n].axis===t).shift()}function hb(e,t){return nn(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function cb(e,t,i){return nn(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}function Ps(e,t){const i=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const o of t){const r=o._stacks;if(!r||r[n]===void 0||r[n][i]===void 0)return;delete r[n][i],r[n]._visualValues!==void 0&&r[n]._visualValues[i]!==void 0&&delete r[n]._visualValues[i]}}}const ga=e=>e==="reset"||e==="none",yc=(e,t)=>t?e:Object.assign({},e),ub=(e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:uf(i,!0),values:null};class ei{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=mc(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ps(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,n=this.getDataset(),o=(m,g,y,x)=>m==="x"?g:m==="r"?x:y,r=i.xAxisID=yt(n.xAxisID,_a(t,"x")),l=i.yAxisID=yt(n.yAxisID,_a(t,"y")),h=i.rAxisID=yt(n.rAxisID,_a(t,"r")),c=i.indexAxis,d=i.iAxisID=o(c,r,l,h),p=i.vAxisID=o(c,l,r,h);i.xScale=this.getScaleForId(r),i.yScale=this.getScaleForId(l),i.rScale=this.getScaleForId(h),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Jh(this._data,this),t._stacked&&Ps(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),n=this._data;if(Mt(i))this._data=ob(i);else if(n!==i){if(n){Jh(n,this);const o=this._cachedMeta;Ps(o),o._parsed=[]}i&&Object.isExtensible(i)&&Kv(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,n=this.getDataset();let o=!1;this._dataCheck();const r=i._stacked;i._stacked=mc(i.vScale,i),i.stack!==n.stack&&(o=!0,Ps(i),i.stack=n.stack),this._resyncElements(t),(o||r!==i._stacked)&&gc(this,i._parsed)}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:n,_data:o}=this,{iScale:r,_stacked:l}=n,h=r.axis;let c=t===0&&i===o.length?!0:n._sorted,d=t>0&&n._parsed[t-1],p,m,g;if(this._parsing===!1)n._parsed=o,n._sorted=!0,g=o;else{Ut(o[t])?g=this.parseArrayData(n,o,t,i):Mt(o[t])?g=this.parseObjectData(n,o,t,i):g=this.parsePrimitiveData(n,o,t,i);const y=()=>m[h]===null||d&&m[h]<d[h];for(p=0;p<i;++p)n._parsed[p+t]=m=g[p],c&&(y()&&(c=!1),d=m);n._sorted=c}l&&gc(this,g)}parsePrimitiveData(t,i,n,o){const{iScale:r,vScale:l}=t,h=r.axis,c=l.axis,d=r.getLabels(),p=r===l,m=new Array(o);let g,y,x;for(g=0,y=o;g<y;++g)x=g+n,m[g]={[h]:p||r.parse(d[x],x),[c]:l.parse(i[x],x)};return m}parseArrayData(t,i,n,o){const{xScale:r,yScale:l}=t,h=new Array(o);let c,d,p,m;for(c=0,d=o;c<d;++c)p=c+n,m=i[p],h[c]={x:r.parse(m[0],p),y:l.parse(m[1],p)};return h}parseObjectData(t,i,n,o){const{xScale:r,yScale:l}=t,{xAxisKey:h="x",yAxisKey:c="y"}=this._parsing,d=new Array(o);let p,m,g,y;for(p=0,m=o;p<m;++p)g=p+n,y=i[g],d[p]={x:r.parse(tn(y,h),g),y:l.parse(tn(y,c),g)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,n){const o=this.chart,r=this._cachedMeta,l=i[t.axis],h={keys:uf(o,!0),values:i._stacks[t.axis]._visualValues};return pc(h,l,r.index,{mode:n})}updateRangeFromParsed(t,i,n,o){const r=n[i.axis];let l=r===null?NaN:r;const h=o&&n._stacks[i.axis];o&&h&&(o.values=h,l=pc(o,r,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,i){const n=this._cachedMeta,o=n._parsed,r=n._sorted&&t===n.iScale,l=o.length,h=this._getOtherScale(t),c=ub(i,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:m}=ab(h);let g,y;function x(){y=o[g];const v=y[h.axis];return!ie(y[t.axis])||p>v||m<v}for(g=0;g<l&&!(!x()&&(this.updateRangeFromParsed(d,t,y,c),r));++g);if(r){for(g=l-1;g>=0;--g)if(!x()){this.updateRangeFromParsed(d,t,y,c);break}}return d}getAllParsedValues(t){const i=this._cachedMeta._parsed,n=[];let o,r,l;for(o=0,r=i.length;o<r;++o)l=i[o][t.axis],ie(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,n=i.iScale,o=i.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:o?""+o.getLabelForValue(r[o.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=sb(yt(this.options.clip,nb(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this.chart,n=this._cachedMeta,o=n.data||[],r=i.chartArea,l=[],h=this._drawStart||0,c=this._drawCount||o.length-h,d=this.options.drawActiveElementsOnTop;let p;for(n.dataset&&n.dataset.draw(t,r,h,c),p=h;p<h+c;++p){const m=o[p];m.hidden||(m.active&&d?l.push(m):m.draw(t,r))}for(p=0;p<l.length;++p)l[p].draw(t,r)}getStyle(t,i){const n=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,i,n){const o=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];r=l.$context||(l.$context=cb(this.getContext(),t,l)),r.parsed=this.getParsed(t),r.raw=o.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=hb(this.chart.getContext(),this.index)),r.dataset=o,r.index=r.datasetIndex=this.index;return r.active=!!i,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",n){const o=i==="active",r=this._cachedDataOpts,l=t+"-"+i,h=r[l],c=this.enableOptionSharing&&Xs(n);if(h)return yc(h,c);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,t),m=o?[`${t}Hover`,"hover",t,""]:[t,""],g=d.getOptionScopes(this.getDataset(),p),y=Object.keys(ne.elements[t]),x=()=>this.getContext(n,o,i),v=d.resolveNamedOptions(g,y,x,m);return v.$shared&&(v.$shared=c,r[l]=Object.freeze(yc(v,c))),v}_resolveAnimations(t,i,n){const o=this.chart,r=this._cachedDataOpts,l=`animation-${i}`,h=r[l];if(h)return h;let c;if(o.options.animation!==!1){const p=this.chart.config,m=p.datasetAnimationScopeKeys(this._type,i),g=p.getOptionScopes(this.getDataset(),m);c=p.createResolver(g,this.getContext(t,n,i))}const d=new cf(o,c&&c.animations);return c&&c._cacheable&&(r[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||ga(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){const n=this.resolveDataElementOptions(t,i),o=this._sharedOptions,r=this.getSharedOptions(n),l=this.includeOptions(i,r)||r!==o;return this.updateSharedOptions(r,i,n),{sharedOptions:r,includeOptions:l}}updateElement(t,i,n,o){ga(o)?Object.assign(t,n):this._resolveAnimations(i,o).update(t,n)}updateSharedOptions(t,i,n){t&&!ga(i)&&this._resolveAnimations(void 0,i).update(t,n)}_setStyle(t,i,n,o){t.active=o;const r=this.getStyle(i,o);this._resolveAnimations(i,n,o).update(t,{options:!o&&this.getSharedOptions(r)||r})}removeHoverStyle(t,i,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,i,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,n=this._cachedMeta.data;for(const[h,c,d]of this._syncList)this[h](c,d);this._syncList=[];const o=n.length,r=i.length,l=Math.min(r,o);l&&this.parse(0,l),r>o?this._insertElements(o,r-o,t):r<o&&this._removeElements(r,o-r)}_insertElements(t,i,n=!0){const o=this._cachedMeta,r=o.data,l=t+i;let h;const c=d=>{for(d.length+=i,h=d.length-1;h>=l;h--)d[h]=d[h-i]};for(c(r),h=t;h<l;++h)r[h]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(t,i),n&&this.updateElements(r,t,i,"reset")}updateElements(t,i,n,o){}_removeElements(t,i){const n=this._cachedMeta;if(this._parsing){const o=n._parsed.splice(t,i);n._stacked&&Ps(n,o)}n.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,n,o]=t;this[i](n,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Q(ei,"defaults",{}),Q(ei,"datasetElementType",null),Q(ei,"dataElementType",null);function db(e,t){if(!e._cache.$bar){const i=e.getMatchingVisibleMetas(t);let n=[];for(let o=0,r=i.length;o<r;o++)n=n.concat(i[o].controller.getAllParsedValues(e));e._cache.$bar=Zd(n.sort((o,r)=>o-r))}return e._cache.$bar}function fb(e){const t=e.iScale,i=db(t,e.type);let n=t._length,o,r,l,h;const c=()=>{l===32767||l===-32768||(Xs(h)&&(n=Math.min(n,Math.abs(l-h)||n)),h=l)};for(o=0,r=i.length;o<r;++o)l=t.getPixelForValue(i[o]),c();for(h=void 0,o=0,r=t.ticks.length;o<r;++o)l=t.getPixelForTick(o),c();return n}function pb(e,t,i,n){const o=i.barThickness;let r,l;return Dt(o)?(r=t.min*i.categoryPercentage,l=i.barPercentage):(r=o*n,l=1),{chunk:r/n,ratio:l,start:t.pixels[e]-r/2}}function mb(e,t,i,n){const o=t.pixels,r=o[e];let l=e>0?o[e-1]:null,h=e<o.length-1?o[e+1]:null;const c=i.categoryPercentage;l===null&&(l=r-(h===null?t.end-t.start:h-r)),h===null&&(h=r+r-l);const d=r-(r-Math.min(l,h))/2*c;return{chunk:Math.abs(h-l)/2*c/n,ratio:i.barPercentage,start:d}}function _b(e,t,i,n){const o=i.parse(e[0],n),r=i.parse(e[1],n),l=Math.min(o,r),h=Math.max(o,r);let c=l,d=h;Math.abs(l)>Math.abs(h)&&(c=h,d=l),t[i.axis]=d,t._custom={barStart:c,barEnd:d,start:o,end:r,min:l,max:h}}function df(e,t,i,n){return Ut(e)?_b(e,t,i,n):t[i.axis]=i.parse(e,n),t}function vc(e,t,i,n){const o=e.iScale,r=e.vScale,l=o.getLabels(),h=o===r,c=[];let d,p,m,g;for(d=i,p=i+n;d<p;++d)g=t[d],m={},m[o.axis]=h||o.parse(l[d],d),c.push(df(g,m,r,d));return c}function ya(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function gb(e,t,i){return e!==0?vi(e):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1)}function yb(e){let t,i,n,o,r;return e.horizontal?(t=e.base>e.x,i="left",n="right"):(t=e.base<e.y,i="bottom",n="top"),t?(o="end",r="start"):(o="start",r="end"),{start:i,end:n,reverse:t,top:o,bottom:r}}function vb(e,t,i,n){let o=t.borderSkipped;const r={};if(!o){e.borderSkipped=r;return}if(o===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:h,reverse:c,top:d,bottom:p}=yb(e);o==="middle"&&i&&(e.enableBorderRadius=!0,(i._top||0)===n?o=d:(i._bottom||0)===n?o=p:(r[bc(p,l,h,c)]=!0,o=d)),r[bc(o,l,h,c)]=!0,e.borderSkipped=r}function bc(e,t,i,n){return n?(e=bb(e,t,i),e=xc(e,i,t)):e=xc(e,t,i),e}function bb(e,t,i){return e===t?i:e===i?t:e}function xc(e,t,i){return e==="start"?t:e==="end"?i:e}function xb(e,{inflateAmount:t},i){e.inflateAmount=t==="auto"?i===1?.33:0:t}class Ko extends ei{parsePrimitiveData(t,i,n,o){return vc(t,i,n,o)}parseArrayData(t,i,n,o){return vc(t,i,n,o)}parseObjectData(t,i,n,o){const{iScale:r,vScale:l}=t,{xAxisKey:h="x",yAxisKey:c="y"}=this._parsing,d=r.axis==="x"?h:c,p=l.axis==="x"?h:c,m=[];let g,y,x,v;for(g=n,y=n+o;g<y;++g)v=i[g],x={},x[r.axis]=r.parse(tn(v,d),g),m.push(df(tn(v,p),x,l,g));return m}updateRangeFromParsed(t,i,n,o){super.updateRangeFromParsed(t,i,n,o);const r=n._custom;r&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const i=this._cachedMeta,{iScale:n,vScale:o}=i,r=this.getParsed(t),l=r._custom,h=ya(l)?"["+l.start+", "+l.end+"]":""+o.getLabelForValue(r[o.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,n,o){const r=o==="reset",{index:l,_cachedMeta:{vScale:h}}=this,c=h.getBasePixel(),d=h.isHorizontal(),p=this._getRuler(),{sharedOptions:m,includeOptions:g}=this._getSharedOptions(i,o);for(let y=i;y<i+n;y++){const x=this.getParsed(y),v=r||Dt(x[h.axis])?{base:c,head:c}:this._calculateBarValuePixels(y),w=this._calculateBarIndexPixels(y,p),M=(x._stacks||{})[h.axis],P={horizontal:d,base:v.base,enableBorderRadius:!M||ya(x._custom)||l===M._top||l===M._bottom,x:d?v.head:w.center,y:d?w.center:v.head,height:d?w.size:Math.abs(v.size),width:d?Math.abs(v.size):w.size};g&&(P.options=m||this.resolveDataElementOptions(y,t[y].active?"active":o));const C=P.options||t[y].options;vb(P,C,M,l),xb(P,C,p.ratio),this.updateElement(t[y],y,P,o)}}_getStacks(t,i){const{iScale:n}=this._cachedMeta,o=n.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),r=n.options.stacked,l=[],h=c=>{const d=c.controller.getParsed(i),p=d&&d[c.vScale.axis];if(Dt(p)||isNaN(p))return!0};for(const c of o)if(!(i!==void 0&&h(c))&&((r===!1||l.indexOf(c.stack)===-1||r===void 0&&c.stack===void 0)&&l.push(c.stack),c.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,n){const o=this._getStacks(t,n),r=i!==void 0?o.indexOf(i):-1;return r===-1?o.length-1:r}_getRuler(){const t=this.options,i=this._cachedMeta,n=i.iScale,o=[];let r,l;for(r=0,l=i.data.length;r<l;++r)o.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const h=t.barThickness;return{min:h||fb(i),pixels:o,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:i,_stacked:n,index:o},options:{base:r,minBarLength:l}}=this,h=r||0,c=this.getParsed(t),d=c._custom,p=ya(d);let m=c[i.axis],g=0,y=n?this.applyStack(i,c,n):m,x,v;y!==m&&(g=y-m,y=m),p&&(m=d.barStart,y=d.barEnd-d.barStart,m!==0&&vi(m)!==vi(d.barEnd)&&(g=0),g+=m);const w=!Dt(r)&&!p?r:g;let M=i.getPixelForValue(w);if(this.chart.getDataVisibility(t)?x=i.getPixelForValue(g+y):x=M,v=x-M,Math.abs(v)<l){v=gb(v,i,h)*l,m===h&&(M-=v/2);const P=i.getPixelForDecimal(0),C=i.getPixelForDecimal(1),D=Math.min(P,C),O=Math.max(P,C);M=Math.max(Math.min(M,O),D),x=M+v,n&&!p&&(c._stacks[i.axis]._visualValues[o]=i.getValueForPixel(x)-i.getValueForPixel(M))}if(M===i.getPixelForValue(h)){const P=vi(v)*i.getLineWidthForValue(h)/2;M+=P,v-=P}return{size:v,base:M,head:x,center:x+v/2}}_calculateBarIndexPixels(t,i){const n=i.scale,o=this.options,r=o.skipNull,l=yt(o.maxBarThickness,1/0);let h,c;if(i.grouped){const d=r?this._getStackCount(t):i.stackCount,p=o.barThickness==="flex"?mb(t,i,o,d):pb(t,i,o,d),m=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);h=p.start+p.chunk*m+p.chunk/2,c=Math.min(l,p.chunk*p.ratio)}else h=n.getPixelForValue(this.getParsed(t)[n.axis],t),c=Math.min(l,i.min*i.ratio);return{base:h-c/2,head:h+c/2,center:h,size:c}}draw(){const t=this._cachedMeta,i=t.vScale,n=t.data,o=n.length;let r=0;for(;r<o;++r)this.getParsed(r)[i.axis]!==null&&n[r].draw(this._ctx)}}Q(Ko,"id","bar"),Q(Ko,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Q(Ko,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Xo extends ei{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,n,o){const r=super.parsePrimitiveData(t,i,n,o);for(let l=0;l<r.length;l++)r[l]._custom=this.resolveDataElementOptions(l+n).radius;return r}parseArrayData(t,i,n,o){const r=super.parseArrayData(t,i,n,o);for(let l=0;l<r.length;l++){const h=i[n+l];r[l]._custom=yt(h[2],this.resolveDataElementOptions(l+n).radius)}return r}parseObjectData(t,i,n,o){const r=super.parseObjectData(t,i,n,o);for(let l=0;l<r.length;l++){const h=i[n+l];r[l]._custom=yt(h&&h.r&&+h.r,this.resolveDataElementOptions(l+n).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let i=0;for(let n=t.length-1;n>=0;--n)i=Math.max(i,t[n].size(this.resolveDataElementOptions(n))/2);return i>0&&i}getLabelAndValue(t){const i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:o,yScale:r}=i,l=this.getParsed(t),h=o.getLabelForValue(l.x),c=r.getLabelForValue(l.y),d=l._custom;return{label:n[t]||"",value:"("+h+", "+c+(d?", "+d:"")+")"}}update(t){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,n,o){const r=o==="reset",{iScale:l,vScale:h}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(i,o),p=l.axis,m=h.axis;for(let g=i;g<i+n;g++){const y=t[g],x=!r&&this.getParsed(g),v={},w=v[p]=r?l.getPixelForDecimal(.5):l.getPixelForValue(x[p]),M=v[m]=r?h.getBasePixel():h.getPixelForValue(x[m]);v.skip=isNaN(w)||isNaN(M),d&&(v.options=c||this.resolveDataElementOptions(g,y.active?"active":o),r&&(v.options.radius=0)),this.updateElement(y,g,v,o)}}resolveDataElementOptions(t,i){const n=this.getParsed(t);let o=super.resolveDataElementOptions(t,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const r=o.radius;return i!=="active"&&(o.radius=0),o.radius+=yt(n&&n._custom,r),o}}Q(Xo,"id","bubble"),Q(Xo,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Q(Xo,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function wb(e,t,i){let n=1,o=1,r=0,l=0;if(t<$t){const h=e,c=h+t,d=Math.cos(h),p=Math.sin(h),m=Math.cos(c),g=Math.sin(c),y=(C,D,O)=>Qs(C,h,c,!0)?1:Math.max(D,D*i,O,O*i),x=(C,D,O)=>Qs(C,h,c,!0)?-1:Math.min(D,D*i,O,O*i),v=y(0,d,m),w=y(re,p,g),M=x(qt,d,m),P=x(qt+re,p,g);n=(v-M)/2,o=(w-P)/2,r=-(v+M)/2,l=-(w+P)/2}return{ratioX:n,ratioY:o,offsetX:r,offsetY:l}}class yn extends ei{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){const n=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=n;else{let r=c=>+n[c];if(Mt(n[t])){const{key:c="value"}=this._parsing;r=d=>+tn(n[d],c)}let l,h;for(l=t,h=t+i;l<h;++l)o._parsed[l]=r(l)}}_getRotation(){return ti(this.options.rotation-90)}_getCircumference(){return ti(this.options.circumference)}_getRotationExtents(){let t=$t,i=-$t;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const o=this.chart.getDatasetMeta(n).controller,r=o._getRotation(),l=o._getCircumference();t=Math.min(t,r),i=Math.max(i,r+l)}return{rotation:t,circumference:i-t}}update(t){const i=this.chart,{chartArea:n}=i,o=this._cachedMeta,r=o.data,l=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,h=Math.max((Math.min(n.width,n.height)-l)/2,0),c=Math.min(zv(this.options.cutout,h),1),d=this._getRingWeight(this.index),{circumference:p,rotation:m}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:x,offsetY:v}=wb(m,p,c),w=(n.width-l)/g,M=(n.height-l)/y,P=Math.max(Math.min(w,M)/2,0),C=Bd(this.options.radius,P),D=Math.max(C*c,0),O=(C-D)/this._getVisibleDatasetWeightTotal();this.offsetX=x*C,this.offsetY=v*C,o.total=this.calculateTotal(),this.outerRadius=C-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*d,0),this.updateElements(r,0,r.length,t)}_circumference(t,i){const n=this.options,o=this._cachedMeta,r=this._getCircumference();return i&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*r/$t)}updateElements(t,i,n,o){const r=o==="reset",l=this.chart,h=l.chartArea,d=l.options.animation,p=(h.left+h.right)/2,m=(h.top+h.bottom)/2,g=r&&d.animateScale,y=g?0:this.innerRadius,x=g?0:this.outerRadius,{sharedOptions:v,includeOptions:w}=this._getSharedOptions(i,o);let M=this._getRotation(),P;for(P=0;P<i;++P)M+=this._circumference(P,r);for(P=i;P<i+n;++P){const C=this._circumference(P,r),D=t[P],O={x:p+this.offsetX,y:m+this.offsetY,startAngle:M,endAngle:M+C,circumference:C,outerRadius:x,innerRadius:y};w&&(O.options=v||this.resolveDataElementOptions(P,D.active?"active":o)),M+=C,this.updateElement(D,P,O,o)}}calculateTotal(){const t=this._cachedMeta,i=t.data;let n=0,o;for(o=0;o<i.length;o++){const r=t._parsed[o];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(t){const i=this._cachedMeta.total;return i>0&&!isNaN(t)?$t*(Math.abs(t)/i):0}getLabelAndValue(t){const i=this._cachedMeta,n=this.chart,o=n.data.labels||[],r=ho(i._parsed[t],n.options.locale);return{label:o[t]||"",value:r}}getMaxBorderWidth(t){let i=0;const n=this.chart;let o,r,l,h,c;if(!t){for(o=0,r=n.data.datasets.length;o<r;++o)if(n.isDatasetVisible(o)){l=n.getDatasetMeta(o),t=l.data,h=l.controller;break}}if(!t)return 0;for(o=0,r=t.length;o<r;++o)c=h.resolveDataElementOptions(o),c.borderAlign!=="inner"&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let n=0,o=t.length;n<o;++n){const r=this.resolveDataElementOptions(n);i=Math.max(i,r.offset||0,r.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(i+=this._getRingWeight(n));return i}_getRingWeight(t){return Math.max(yt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Q(yn,"id","doughnut"),Q(yn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Q(yn,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Q(yn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const i=t.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:n,color:o}}=t.legend.options;return i.labels.map((r,l)=>{const c=t.getDatasetMeta(0).controller.getStyle(l);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}}});class Qo extends ei{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const i=this._cachedMeta,{dataset:n,data:o=[],_dataset:r}=i,l=this.chart._animationsDisabled;let{start:h,count:c}=$d(i,o,l);this._drawStart=h,this._drawCount=c,Gd(i)&&(h=0,c=o.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=o;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:d},t),this.updateElements(o,h,c,t)}updateElements(t,i,n,o){const r=o==="reset",{iScale:l,vScale:h,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(i,o),g=l.axis,y=h.axis,{spanGaps:x,segment:v}=this.options,w=es(x)?x:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||r||o==="none",P=i+n,C=t.length;let D=i>0&&this.getParsed(i-1);for(let O=0;O<C;++O){const I=t[O],N=M?I:{};if(O<i||O>=P){N.skip=!0;continue}const k=this.getParsed(O),S=Dt(k[y]),A=N[g]=l.getPixelForValue(k[g],O),E=N[y]=r||S?h.getBasePixel():h.getPixelForValue(c?this.applyStack(h,k,c):k[y],O);N.skip=isNaN(A)||isNaN(E)||S,N.stop=O>0&&Math.abs(k[g]-D[g])>w,v&&(N.parsed=k,N.raw=d.data[O]),m&&(N.options=p||this.resolveDataElementOptions(O,I.active?"active":o)),M||this.updateElement(I,O,N,o),D=k}}getMaxOverflow(){const t=this._cachedMeta,i=t.dataset,n=i.options&&i.options.borderWidth||0,o=t.data||[];if(!o.length)return n;const r=o[0].size(this.resolveDataElementOptions(0)),l=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(n,r,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Q(Qo,"id","line"),Q(Qo,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Q(Qo,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Hs extends ei{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const i=this._cachedMeta,n=this.chart,o=n.data.labels||[],r=ho(i._parsed[t].r,n.options.locale);return{label:o[t]||"",value:r}}parseObjectData(t,i,n,o){return nf.bind(this)(t,i,n,o)}update(t){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){const t=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,o)=>{const r=this.getParsed(o).r;!isNaN(r)&&this.chart.getDataVisibility(o)&&(r<i.min&&(i.min=r),r>i.max&&(i.max=r))}),i}_updateRadius(){const t=this.chart,i=t.chartArea,n=t.options,o=Math.min(i.right-i.left,i.bottom-i.top),r=Math.max(o/2,0),l=Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0),h=(r-l)/t.getVisibleDatasetCount();this.outerRadius=r-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(t,i,n,o){const r=o==="reset",l=this.chart,c=l.options.animation,d=this._cachedMeta.rScale,p=d.xCenter,m=d.yCenter,g=d.getIndexAngle(0)-.5*qt;let y=g,x;const v=360/this.countVisibleElements();for(x=0;x<i;++x)y+=this._computeAngle(x,o,v);for(x=i;x<i+n;x++){const w=t[x];let M=y,P=y+this._computeAngle(x,o,v),C=l.getDataVisibility(x)?d.getDistanceFromCenterForValue(this.getParsed(x).r):0;y=P,r&&(c.animateScale&&(C=0),c.animateRotate&&(M=P=g));const D={x:p,y:m,innerRadius:0,outerRadius:C,startAngle:M,endAngle:P,options:this.resolveDataElementOptions(x,w.active?"active":o)};this.updateElement(w,x,D,o)}}countVisibleElements(){const t=this._cachedMeta;let i=0;return t.data.forEach((n,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(t,i,n){return this.chart.getDataVisibility(t)?ti(this.resolveDataElementOptions(t,i).angle||n):0}}Q(Hs,"id","polarArea"),Q(Hs,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Q(Hs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const i=t.data;if(i.labels.length&&i.datasets.length){const{labels:{pointStyle:n,color:o}}=t.legend.options;return i.labels.map((r,l)=>{const c=t.getDatasetMeta(0).controller.getStyle(l);return{text:r,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,i,n){n.chart.toggleDataVisibility(i.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Ba extends yn{}Q(Ba,"id","pie"),Q(Ba,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Jo extends ei{getLabelAndValue(t){const i=this._cachedMeta.vScale,n=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(n[i.axis])}}parseObjectData(t,i,n,o){return nf.bind(this)(t,i,n,o)}update(t){const i=this._cachedMeta,n=i.dataset,o=i.data||[],r=i.iScale.getLabels();if(n.points=o,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const h={_loop:!0,_fullLoop:r.length===o.length,options:l};this.updateElement(n,void 0,h,t)}this.updateElements(o,0,o.length,t)}updateElements(t,i,n,o){const r=this._cachedMeta.rScale,l=o==="reset";for(let h=i;h<i+n;h++){const c=t[h],d=this.resolveDataElementOptions(h,c.active?"active":o),p=r.getPointPositionForValue(h,this.getParsed(h).r),m=l?r.xCenter:p.x,g=l?r.yCenter:p.y,y={x:m,y:g,angle:p.angle,skip:isNaN(m)||isNaN(g),options:d};this.updateElement(c,h,y,o)}}}Q(Jo,"id","radar"),Q(Jo,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Q(Jo,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class tr extends ei{getLabelAndValue(t){const i=this._cachedMeta,n=this.chart.data.labels||[],{xScale:o,yScale:r}=i,l=this.getParsed(t),h=o.getLabelForValue(l.x),c=r.getLabelForValue(l.y);return{label:n[t]||"",value:"("+h+", "+c+")"}}update(t){const i=this._cachedMeta,{data:n=[]}=i,o=this.chart._animationsDisabled;let{start:r,count:l}=$d(i,n,o);if(this._drawStart=r,this._drawCount=l,Gd(i)&&(r=0,l=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:h,_dataset:c}=i;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!c._decimated,h.points=n;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(h,void 0,{animated:!o,options:d},t)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(n,r,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,i,n,o){const r=o==="reset",{iScale:l,vScale:h,_stacked:c,_dataset:d}=this._cachedMeta,p=this.resolveDataElementOptions(i,o),m=this.getSharedOptions(p),g=this.includeOptions(o,m),y=l.axis,x=h.axis,{spanGaps:v,segment:w}=this.options,M=es(v)?v:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||r||o==="none";let C=i>0&&this.getParsed(i-1);for(let D=i;D<i+n;++D){const O=t[D],I=this.getParsed(D),N=P?O:{},k=Dt(I[x]),S=N[y]=l.getPixelForValue(I[y],D),A=N[x]=r||k?h.getBasePixel():h.getPixelForValue(c?this.applyStack(h,I,c):I[x],D);N.skip=isNaN(S)||isNaN(A)||k,N.stop=D>0&&Math.abs(I[y]-C[y])>M,w&&(N.parsed=I,N.raw=d.data[D]),g&&(N.options=m||this.resolveDataElementOptions(D,O.active?"active":o)),P||this.updateElement(O,D,N,o),C=I}this.updateSharedOptions(m,o,p)}getMaxOverflow(){const t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let h=0;for(let c=i.length-1;c>=0;--c)h=Math.max(h,i[c].size(this.resolveDataElementOptions(c))/2);return h>0&&h}const n=t.dataset,o=n.options&&n.options.borderWidth||0;if(!i.length)return o;const r=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,r,l)/2}}Q(tr,"id","scatter"),Q(tr,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Q(tr,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var kb=Object.freeze({__proto__:null,BarController:Ko,BubbleController:Xo,DoughnutController:yn,LineController:Qo,PieController:Ba,PolarAreaController:Hs,RadarController:Jo,ScatterController:tr});function fn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class El{constructor(t){Q(this,"options");this.options=t||{}}static override(t){Object.assign(El.prototype,t)}init(){}formats(){return fn()}parse(){return fn()}format(){return fn()}add(){return fn()}diff(){return fn()}startOf(){return fn()}endOf(){return fn()}}var ff={_date:El};function Mb(e,t,i,n){const{controller:o,data:r,_sorted:l}=e,h=o._cachedMeta.iScale;if(h&&t===h.axis&&t!=="r"&&l&&r.length){const c=h._reversePixels?Gv:Fi;if(n){if(o._sharedOptions){const d=r[0],p=typeof d.getRange=="function"&&d.getRange(t);if(p){const m=c(r,t,i-p),g=c(r,t,i+p);return{lo:m.lo,hi:g.hi}}}}else return c(r,t,i)}return{lo:0,hi:r.length-1}}function co(e,t,i,n,o){const r=e.getSortedVisibleDatasetMetas(),l=i[t];for(let h=0,c=r.length;h<c;++h){const{index:d,data:p}=r[h],{lo:m,hi:g}=Mb(r[h],t,l,o);for(let y=m;y<=g;++y){const x=p[y];x.skip||n(x,d,y)}}}function Sb(e){const t=e.indexOf("x")!==-1,i=e.indexOf("y")!==-1;return function(n,o){const r=t?Math.abs(n.x-o.x):0,l=i?Math.abs(n.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(l,2))}}function va(e,t,i,n,o){const r=[];return!o&&!e.isPointInArea(t)||co(e,i,t,function(h,c,d){!o&&!Ni(h,e.chartArea,0)||h.inRange(t.x,t.y,n)&&r.push({element:h,datasetIndex:c,index:d})},!0),r}function Pb(e,t,i,n){let o=[];function r(l,h,c){const{startAngle:d,endAngle:p}=l.getProps(["startAngle","endAngle"],n),{angle:m}=Hd(l,{x:t.x,y:t.y});Qs(m,d,p)&&o.push({element:l,datasetIndex:h,index:c})}return co(e,i,t,r),o}function Tb(e,t,i,n,o,r){let l=[];const h=Sb(i);let c=Number.POSITIVE_INFINITY;function d(p,m,g){const y=p.inRange(t.x,t.y,o);if(n&&!y)return;const x=p.getCenterPoint(o);if(!(!!r||e.isPointInArea(x))&&!y)return;const w=h(t,x);w<c?(l=[{element:p,datasetIndex:m,index:g}],c=w):w===c&&l.push({element:p,datasetIndex:m,index:g})}return co(e,i,t,d),l}function ba(e,t,i,n,o,r){return!r&&!e.isPointInArea(t)?[]:i==="r"&&!n?Pb(e,t,i,o):Tb(e,t,i,n,o,r)}function wc(e,t,i,n,o){const r=[],l=i==="x"?"inXRange":"inYRange";let h=!1;return co(e,i,t,(c,d,p)=>{c[l](t[i],o)&&(r.push({element:c,datasetIndex:d,index:p}),h=h||c.inRange(t.x,t.y,o))}),n&&!h?[]:r}var Db={evaluateInteractionItems:co,modes:{index(e,t,i,n){const o=mn(t,e),r=i.axis||"x",l=i.includeInvisible||!1,h=i.intersect?va(e,o,r,n,l):ba(e,o,r,!1,n,l),c=[];return h.length?(e.getSortedVisibleDatasetMetas().forEach(d=>{const p=h[0].index,m=d.data[p];m&&!m.skip&&c.push({element:m,datasetIndex:d.index,index:p})}),c):[]},dataset(e,t,i,n){const o=mn(t,e),r=i.axis||"xy",l=i.includeInvisible||!1;let h=i.intersect?va(e,o,r,n,l):ba(e,o,r,!1,n,l);if(h.length>0){const c=h[0].datasetIndex,d=e.getDatasetMeta(c).data;h=[];for(let p=0;p<d.length;++p)h.push({element:d[p],datasetIndex:c,index:p})}return h},point(e,t,i,n){const o=mn(t,e),r=i.axis||"xy",l=i.includeInvisible||!1;return va(e,o,r,n,l)},nearest(e,t,i,n){const o=mn(t,e),r=i.axis||"xy",l=i.includeInvisible||!1;return ba(e,o,r,i.intersect,n,l)},x(e,t,i,n){const o=mn(t,e);return wc(e,o,"x",i.intersect,n)},y(e,t,i,n){const o=mn(t,e);return wc(e,o,"y",i.intersect,n)}}};const pf=["left","top","right","bottom"];function Ts(e,t){return e.filter(i=>i.pos===t)}function kc(e,t){return e.filter(i=>pf.indexOf(i.pos)===-1&&i.box.axis===t)}function Ds(e,t){return e.sort((i,n)=>{const o=t?n:i,r=t?i:n;return o.weight===r.weight?o.index-r.index:o.weight-r.weight})}function Lb(e){const t=[];let i,n,o,r,l,h;for(i=0,n=(e||[]).length;i<n;++i)o=e[i],{position:r,options:{stack:l,stackWeight:h=1}}=o,t.push({index:i,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:l&&r+l,stackWeight:h});return t}function Cb(e){const t={};for(const i of e){const{stack:n,pos:o,stackWeight:r}=i;if(!n||!pf.includes(o))continue;const l=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=r}return t}function Ob(e,t){const i=Cb(e),{vBoxMaxWidth:n,hBoxMaxHeight:o}=t;let r,l,h;for(r=0,l=e.length;r<l;++r){h=e[r];const{fullSize:c}=h.box,d=i[h.stack],p=d&&h.stackWeight/d.weight;h.horizontal?(h.width=p?p*n:c&&t.availableWidth,h.height=o):(h.width=n,h.height=p?p*o:c&&t.availableHeight)}return i}function Eb(e){const t=Lb(e),i=Ds(t.filter(d=>d.box.fullSize),!0),n=Ds(Ts(t,"left"),!0),o=Ds(Ts(t,"right")),r=Ds(Ts(t,"top"),!0),l=Ds(Ts(t,"bottom")),h=kc(t,"x"),c=kc(t,"y");return{fullSize:i,leftAndTop:n.concat(r),rightAndBottom:o.concat(c).concat(l).concat(h),chartArea:Ts(t,"chartArea"),vertical:n.concat(o).concat(c),horizontal:r.concat(l).concat(h)}}function Mc(e,t,i,n){return Math.max(e[i],t[i])+Math.max(e[n],t[n])}function mf(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Ab(e,t,i,n){const{pos:o,box:r}=i,l=e.maxPadding;if(!Mt(o)){i.size&&(e[o]-=i.size);const m=n[i.stack]||{size:0,count:1};m.size=Math.max(m.size,i.horizontal?r.height:r.width),i.size=m.size/m.count,e[o]+=i.size}r.getPadding&&mf(l,r.getPadding());const h=Math.max(0,t.outerWidth-Mc(l,e,"left","right")),c=Math.max(0,t.outerHeight-Mc(l,e,"top","bottom")),d=h!==e.w,p=c!==e.h;return e.w=h,e.h=c,i.horizontal?{same:d,other:p}:{same:p,other:d}}function Ib(e){const t=e.maxPadding;function i(n){const o=Math.max(t[n]-e[n],0);return e[n]+=o,o}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}function Rb(e,t){const i=t.maxPadding;function n(o){const r={left:0,top:0,right:0,bottom:0};return o.forEach(l=>{r[l]=Math.max(t[l],i[l])}),r}return n(e?["left","right"]:["top","bottom"])}function As(e,t,i,n){const o=[];let r,l,h,c,d,p;for(r=0,l=e.length,d=0;r<l;++r){h=e[r],c=h.box,c.update(h.width||t.w,h.height||t.h,Rb(h.horizontal,t));const{same:m,other:g}=Ab(t,i,h,n);d|=m&&o.length,p=p||g,c.fullSize||o.push(h)}return d&&As(o,t,i,n)||p}function No(e,t,i,n,o){e.top=i,e.left=t,e.right=t+n,e.bottom=i+o,e.width=n,e.height=o}function Sc(e,t,i,n){const o=i.padding;let{x:r,y:l}=t;for(const h of e){const c=h.box,d=n[h.stack]||{count:1,placed:0,weight:1},p=h.stackWeight/d.weight||1;if(h.horizontal){const m=t.w*p,g=d.size||c.height;Xs(d.start)&&(l=d.start),c.fullSize?No(c,o.left,l,i.outerWidth-o.right-o.left,g):No(c,t.left+d.placed,l,m,g),d.start=l,d.placed+=m,l=c.bottom}else{const m=t.h*p,g=d.size||c.width;Xs(d.start)&&(r=d.start),c.fullSize?No(c,r,o.top,g,i.outerHeight-o.bottom-o.top):No(c,r,t.top+d.placed,g,m),d.start=r,d.placed+=m,r=c.right}}t.x=r,t.y=l}var we={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(i){t.draw(i)}}]},e.boxes.push(t)},removeBox(e,t){const i=e.boxes?e.boxes.indexOf(t):-1;i!==-1&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,n){if(!e)return;const o=Me(e.options.layout.padding),r=Math.max(t-o.width,0),l=Math.max(i-o.height,0),h=Eb(e.boxes),c=h.vertical,d=h.horizontal;Rt(e.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const p=c.reduce((v,w)=>w.box.options&&w.box.options.display===!1?v:v+1,0)||1,m=Object.freeze({outerWidth:t,outerHeight:i,padding:o,availableWidth:r,availableHeight:l,vBoxMaxWidth:r/2/p,hBoxMaxHeight:l/2}),g=Object.assign({},o);mf(g,Me(n));const y=Object.assign({maxPadding:g,w:r,h:l,x:o.left,y:o.top},o),x=Ob(c.concat(d),m);As(h.fullSize,y,m,x),As(c,y,m,x),As(d,y,m,x)&&As(c,y,m,x),Ib(y),Sc(h.leftAndTop,y,m,x),y.x+=y.w,y.y+=y.h,Sc(h.rightAndBottom,y,m,x),e.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},Rt(h.chartArea,v=>{const w=v.box;Object.assign(w,e.chartArea),w.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class _f{acquireContext(t,i){}releaseContext(t){return!1}addEventListener(t,i,n){}removeEventListener(t,i,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,i,n,o){return i=Math.max(0,i||t.width),n=n||t.height,{width:i,height:Math.max(0,o?Math.floor(i/o):n)}}isAttached(t){return!0}updateConfig(t){}}class zb extends _f{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const er="$chartjs",Fb={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Pc=e=>e===null||e==="";function Nb(e,t){const i=e.style,n=e.getAttribute("height"),o=e.getAttribute("width");if(e[er]={initial:{height:n,width:o,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",Pc(o)){const r=lc(e,"width");r!==void 0&&(e.width=r)}if(Pc(n))if(e.style.height==="")e.height=e.width/(t||2);else{const r=lc(e,"height");r!==void 0&&(e.height=r)}return e}const gf=Y0?{passive:!0}:!1;function Bb(e,t,i){e&&e.addEventListener(t,i,gf)}function Wb(e,t,i){e&&e.canvas&&e.canvas.removeEventListener(t,i,gf)}function Yb(e,t){const i=Fb[e.type]||e.type,{x:n,y:o}=mn(e,t);return{type:i,chart:t,native:e,x:n!==void 0?n:null,y:o!==void 0?o:null}}function mr(e,t){for(const i of e)if(i===t||i.contains(t))return!0}function Hb(e,t,i){const n=e.canvas,o=new MutationObserver(r=>{let l=!1;for(const h of r)l=l||mr(h.addedNodes,n),l=l&&!mr(h.removedNodes,n);l&&i()});return o.observe(document,{childList:!0,subtree:!0}),o}function Vb(e,t,i){const n=e.canvas,o=new MutationObserver(r=>{let l=!1;for(const h of r)l=l||mr(h.removedNodes,n),l=l&&!mr(h.addedNodes,n);l&&i()});return o.observe(document,{childList:!0,subtree:!0}),o}const to=new Map;let Tc=0;function yf(){const e=window.devicePixelRatio;e!==Tc&&(Tc=e,to.forEach((t,i)=>{i.currentDevicePixelRatio!==e&&t()}))}function Zb(e,t){to.size||window.addEventListener("resize",yf),to.set(e,t)}function jb(e){to.delete(e),to.size||window.removeEventListener("resize",yf)}function Ub(e,t,i){const n=e.canvas,o=n&&Ol(n);if(!o)return;const r=Ud((h,c)=>{const d=o.clientWidth;i(h,c),d<o.clientWidth&&i()},window),l=new ResizeObserver(h=>{const c=h[0],d=c.contentRect.width,p=c.contentRect.height;d===0&&p===0||r(d,p)});return l.observe(o),Zb(e,r),l}function xa(e,t,i){i&&i.disconnect(),t==="resize"&&jb(e)}function $b(e,t,i){const n=e.canvas,o=Ud(r=>{e.ctx!==null&&i(Yb(r,e))},e);return Bb(n,t,o),o}class Gb extends _f{acquireContext(t,i){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Nb(t,i),n):null}releaseContext(t){const i=t.canvas;if(!i[er])return!1;const n=i[er].initial;["height","width"].forEach(r=>{const l=n[r];Dt(l)?i.removeAttribute(r):i.setAttribute(r,l)});const o=n.style||{};return Object.keys(o).forEach(r=>{i.style[r]=o[r]}),i.width=i.width,delete i[er],!0}addEventListener(t,i,n){this.removeEventListener(t,i);const o=t.$proxies||(t.$proxies={}),l={attach:Hb,detach:Vb,resize:Ub}[i]||$b;o[i]=l(t,i,n)}removeEventListener(t,i){const n=t.$proxies||(t.$proxies={}),o=n[i];if(!o)return;({attach:xa,detach:xa,resize:xa}[i]||Wb)(t,i,o),n[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,i,n,o){return W0(t,i,n,o)}isAttached(t){const i=Ol(t);return!!(i&&i.isConnected)}}function qb(e){return!Cl()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?zb:Gb}var Uo;let Zi=(Uo=class{constructor(){Q(this,"x");Q(this,"y");Q(this,"active",!1);Q(this,"options");Q(this,"$animations")}tooltipPosition(t){const{x:i,y:n}=this.getProps(["x","y"],t);return{x:i,y:n}}hasValue(){return es(this.x)&&es(this.y)}getProps(t,i){const n=this.$animations;if(!i||!n)return this;const o={};return t.forEach(r=>{o[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),o}},Q(Uo,"defaults",{}),Q(Uo,"defaultRoutes"),Uo);function Kb(e,t){const i=e.options.ticks,n=Xb(e),o=Math.min(i.maxTicksLimit||n,n),r=i.major.enabled?Jb(t):[],l=r.length,h=r[0],c=r[l-1],d=[];if(l>o)return tx(t,d,r,l/o),d;const p=Qb(r,t,o);if(l>0){let m,g;const y=l>1?Math.round((c-h)/(l-1)):null;for(Bo(t,d,p,Dt(y)?0:h-y,h),m=0,g=l-1;m<g;m++)Bo(t,d,p,r[m],r[m+1]);return Bo(t,d,p,c,Dt(y)?t.length:c+y),d}return Bo(t,d,p),d}function Xb(e){const t=e.options.offset,i=e._tickSize(),n=e._length/i+(t?0:1),o=e._maxLength/i;return Math.floor(Math.min(n,o))}function Qb(e,t,i){const n=ex(e),o=t.length/i;if(!n)return Math.max(o,1);const r=Zv(n);for(let l=0,h=r.length-1;l<h;l++){const c=r[l];if(c>o)return c}return Math.max(o,1)}function Jb(e){const t=[];let i,n;for(i=0,n=e.length;i<n;i++)e[i].major&&t.push(i);return t}function tx(e,t,i,n){let o=0,r=i[0],l;for(n=Math.ceil(n),l=0;l<e.length;l++)l===r&&(t.push(e[l]),o++,r=i[o*n])}function Bo(e,t,i,n,o){const r=yt(n,0),l=Math.min(yt(o,e.length),e.length);let h=0,c,d,p;for(i=Math.ceil(i),o&&(c=o-n,i=c/Math.floor(c/i)),p=r;p<0;)h++,p=Math.round(r+h*i);for(d=Math.max(r,0);d<l;d++)d===p&&(t.push(e[d]),h++,p=Math.round(r+h*i))}function ex(e){const t=e.length;let i,n;if(t<2)return!1;for(n=e[0],i=1;i<t;++i)if(e[i]-e[i-1]!==n)return!1;return n}const ix=e=>e==="left"?"right":e==="right"?"left":e,Dc=(e,t,i)=>t==="top"||t==="left"?e[t]+i:e[t]-i,Lc=(e,t)=>Math.min(t||e,e);function Cc(e,t){const i=[],n=e.length/t,o=e.length;let r=0;for(;r<o;r+=n)i.push(e[Math.floor(r)]);return i}function nx(e,t,i){const n=e.ticks.length,o=Math.min(t,n-1),r=e._startPixel,l=e._endPixel,h=1e-6;let c=e.getPixelForTick(o),d;if(!(i&&(n===1?d=Math.max(c-r,l-c):t===0?d=(e.getPixelForTick(1)-c)/2:d=(c-e.getPixelForTick(o-1))/2,c+=o<t?d:-d,c<r-h||c>l+h)))return c}function sx(e,t){Rt(e,i=>{const n=i.gc,o=n.length/2;let r;if(o>t){for(r=0;r<o;++r)delete i.data[n[r]];n.splice(0,o)}})}function Ls(e){return e.drawTicks?e.tickLength:0}function Oc(e,t){if(!e.display)return 0;const i=de(e.font,t),n=Me(e.padding);return(Ut(e.text)?e.text.length:1)*i.lineHeight+n.height}function ox(e,t){return nn(e,{scale:t,type:"scale"})}function rx(e,t,i){return nn(e,{tick:i,index:t,type:"tick"})}function ax(e,t,i){let n=Ml(e);return(i&&t!=="right"||!i&&t==="right")&&(n=ix(n)),n}function lx(e,t,i,n){const{top:o,left:r,bottom:l,right:h,chart:c}=e,{chartArea:d,scales:p}=c;let m=0,g,y,x;const v=l-o,w=h-r;if(e.isHorizontal()){if(y=xe(n,r,h),Mt(i)){const M=Object.keys(i)[0],P=i[M];x=p[M].getPixelForValue(P)+v-t}else i==="center"?x=(d.bottom+d.top)/2+v-t:x=Dc(e,i,t);g=h-r}else{if(Mt(i)){const M=Object.keys(i)[0],P=i[M];y=p[M].getPixelForValue(P)-w+t}else i==="center"?y=(d.left+d.right)/2-w+t:y=Dc(e,i,t);x=xe(n,l,o),m=i==="left"?-re:re}return{titleX:y,titleY:x,maxWidth:g,rotation:m}}class On extends Zi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,i){return t}getUserBounds(){let{_userMin:t,_userMax:i,_suggestedMin:n,_suggestedMax:o}=this;return t=Ae(t,Number.POSITIVE_INFINITY),i=Ae(i,Number.NEGATIVE_INFINITY),n=Ae(n,Number.POSITIVE_INFINITY),o=Ae(o,Number.NEGATIVE_INFINITY),{min:Ae(t,n),max:Ae(i,o),minDefined:ie(t),maxDefined:ie(i)}}getMinMax(t){let{min:i,max:n,minDefined:o,maxDefined:r}=this.getUserBounds(),l;if(o&&r)return{min:i,max:n};const h=this.getMatchingVisibleMetas();for(let c=0,d=h.length;c<d;++c)l=h[c].controller.getMinMax(this,t),o||(i=Math.min(i,l.min)),r||(n=Math.max(n,l.max));return i=r&&i>n?n:i,n=o&&i>n?i:n,{min:Ae(i,Ae(n,i)),max:Ae(n,Ae(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Zt(this.options.beforeUpdate,[this])}update(t,i,n){const{beginAtZero:o,grace:r,ticks:l}=this.options,h=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=y0(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=h<this.ticks.length;this._convertTicksToLabels(c?Cc(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Kb(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,i,n;this.isHorizontal()?(i=this.left,n=this.right):(i=this.top,n=this.bottom,t=!t),this._startPixel=i,this._endPixel=n,this._reversePixels=t,this._length=n-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Zt(this.options.afterUpdate,[this])}beforeSetDimensions(){Zt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Zt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Zt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Zt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const i=this.options.ticks;let n,o,r;for(n=0,o=t.length;n<o;n++)r=t[n],r.label=Zt(i.callback,[r.value,n,t],this)}afterTickToLabelConversion(){Zt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Zt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,i=t.ticks,n=Lc(this.ticks.length,t.ticks.maxTicksLimit),o=i.minRotation||0,r=i.maxRotation;let l=o,h,c,d;if(!this._isVisible()||!i.display||o>=r||n<=1||!this.isHorizontal()){this.labelRotation=o;return}const p=this._getLabelSizes(),m=p.widest.width,g=p.highest.height,y=me(this.chart.width-m,0,this.maxWidth);h=t.offset?this.maxWidth/n:y/(n-1),m+6>h&&(h=y/(n-(t.offset?.5:1)),c=this.maxHeight-Ls(t.grid)-i.padding-Oc(t.title,this.chart.options.font),d=Math.sqrt(m*m+g*g),l=wl(Math.min(Math.asin(me((p.highest.height+6)/h,-1,1)),Math.asin(me(c/d,-1,1))-Math.asin(me(g/d,-1,1)))),l=Math.max(o,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){Zt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Zt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:i,options:{ticks:n,title:o,grid:r}}=this,l=this._isVisible(),h=this.isHorizontal();if(l){const c=Oc(o,i.options.font);if(h?(t.width=this.maxWidth,t.height=Ls(r)+c):(t.height=this.maxHeight,t.width=Ls(r)+c),n.display&&this.ticks.length){const{first:d,last:p,widest:m,highest:g}=this._getLabelSizes(),y=n.padding*2,x=ti(this.labelRotation),v=Math.cos(x),w=Math.sin(x);if(h){const M=n.mirror?0:w*m.width+v*g.height;t.height=Math.min(this.maxHeight,t.height+M+y)}else{const M=n.mirror?0:v*m.width+w*g.height;t.width=Math.min(this.maxWidth,t.width+M+y)}this._calculatePadding(d,p,w,v)}}this._handleMargins(),h?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,i,n,o){const{ticks:{align:r,padding:l},position:h}=this.options,c=this.labelRotation!==0,d=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;c?d?(g=o*t.width,y=n*i.height):(g=n*t.height,y=o*i.width):r==="start"?y=i.width:r==="end"?g=t.width:r!=="inner"&&(g=t.width/2,y=i.width/2),this.paddingLeft=Math.max((g-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((y-m+l)*this.width/(this.width-m),0)}else{let p=i.height/2,m=t.height/2;r==="start"?(p=0,m=t.height):r==="end"&&(p=i.height,m=0),this.paddingTop=p+l,this.paddingBottom=m+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Zt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:i}=this.options;return i==="top"||i==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let i,n;for(i=0,n=t.length;i<n;i++)Dt(t[i].label)&&(t.splice(i,1),n--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const i=this.options.ticks.sampleSize;let n=this.ticks;i<n.length&&(n=Cc(n,i)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,i,n){const{ctx:o,_longestTextCache:r}=this,l=[],h=[],c=Math.floor(i/Lc(i,n));let d=0,p=0,m,g,y,x,v,w,M,P,C,D,O;for(m=0;m<i;m+=c){if(x=t[m].label,v=this._resolveTickFontOptions(m),o.font=w=v.string,M=r[w]=r[w]||{data:{},gc:[]},P=v.lineHeight,C=D=0,!Dt(x)&&!Ut(x))C=fr(o,M.data,M.gc,C,x),D=P;else if(Ut(x))for(g=0,y=x.length;g<y;++g)O=x[g],!Dt(O)&&!Ut(O)&&(C=fr(o,M.data,M.gc,C,O),D+=P);l.push(C),h.push(D),d=Math.max(C,d),p=Math.max(D,p)}sx(r,i);const I=l.indexOf(d),N=h.indexOf(p),k=S=>({width:l[S]||0,height:h[S]||0});return{first:k(0),last:k(i-1),widest:k(I),highest:k(N),widths:l,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,i){return NaN}getValueForPixel(t){}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const i=this._startPixel+t*this._length;return $v(this._alignToPixels?dn(this.chart,i,0):i)}getDecimalForPixel(t){const i=(t-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:i}=this;return t<0&&i<0?i:t>0&&i>0?t:0}getContext(t){const i=this.ticks||[];if(t>=0&&t<i.length){const n=i[t];return n.$context||(n.$context=rx(this.getContext(),t,n))}return this.$context||(this.$context=ox(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,i=ti(this.labelRotation),n=Math.abs(Math.cos(i)),o=Math.abs(Math.sin(i)),r=this._getLabelSizes(),l=t.autoSkipPadding||0,h=r?r.widest.width+l:0,c=r?r.highest.height+l:0;return this.isHorizontal()?c*n>h*o?h/n:c/o:c*o<h*n?c/n:h/o}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const i=this.axis,n=this.chart,o=this.options,{grid:r,position:l,border:h}=o,c=r.offset,d=this.isHorizontal(),m=this.ticks.length+(c?1:0),g=Ls(r),y=[],x=h.setContext(this.getContext()),v=x.display?x.width:0,w=v/2,M=function(tt){return dn(n,tt,v)};let P,C,D,O,I,N,k,S,A,E,z,U;if(l==="top")P=M(this.bottom),N=this.bottom-g,S=P-w,E=M(t.top)+w,U=t.bottom;else if(l==="bottom")P=M(this.top),E=t.top,U=M(t.bottom)-w,N=P+w,S=this.top+g;else if(l==="left")P=M(this.right),I=this.right-g,k=P-w,A=M(t.left)+w,z=t.right;else if(l==="right")P=M(this.left),A=t.left,z=M(t.right)-w,I=P+w,k=this.left+g;else if(i==="x"){if(l==="center")P=M((t.top+t.bottom)/2+.5);else if(Mt(l)){const tt=Object.keys(l)[0],H=l[tt];P=M(this.chart.scales[tt].getPixelForValue(H))}E=t.top,U=t.bottom,N=P+w,S=N+g}else if(i==="y"){if(l==="center")P=M((t.left+t.right)/2);else if(Mt(l)){const tt=Object.keys(l)[0],H=l[tt];P=M(this.chart.scales[tt].getPixelForValue(H))}I=P-w,k=I-g,A=t.left,z=t.right}const j=yt(o.ticks.maxTicksLimit,m),st=Math.max(1,Math.ceil(m/j));for(C=0;C<m;C+=st){const tt=this.getContext(C),H=r.setContext(tt),V=h.setContext(tt),Z=H.lineWidth,J=H.color,ft=V.dash||[],q=V.dashOffset,dt=H.tickWidth,ct=H.tickColor,ot=H.tickBorderDash||[],it=H.tickBorderDashOffset;D=nx(this,C,c),D!==void 0&&(O=dn(n,D,Z),d?I=k=A=z=O:N=S=E=U=O,y.push({tx1:I,ty1:N,tx2:k,ty2:S,x1:A,y1:E,x2:z,y2:U,width:Z,color:J,borderDash:ft,borderDashOffset:q,tickWidth:dt,tickColor:ct,tickBorderDash:ot,tickBorderDashOffset:it}))}return this._ticksLength=m,this._borderValue=P,y}_computeLabelItems(t){const i=this.axis,n=this.options,{position:o,ticks:r}=n,l=this.isHorizontal(),h=this.ticks,{align:c,crossAlign:d,padding:p,mirror:m}=r,g=Ls(n.grid),y=g+p,x=m?-p:y,v=-ti(this.labelRotation),w=[];let M,P,C,D,O,I,N,k,S,A,E,z,U="middle";if(o==="top")I=this.bottom-x,N=this._getXAxisLabelAlignment();else if(o==="bottom")I=this.top+x,N=this._getXAxisLabelAlignment();else if(o==="left"){const st=this._getYAxisLabelAlignment(g);N=st.textAlign,O=st.x}else if(o==="right"){const st=this._getYAxisLabelAlignment(g);N=st.textAlign,O=st.x}else if(i==="x"){if(o==="center")I=(t.top+t.bottom)/2+y;else if(Mt(o)){const st=Object.keys(o)[0],tt=o[st];I=this.chart.scales[st].getPixelForValue(tt)+y}N=this._getXAxisLabelAlignment()}else if(i==="y"){if(o==="center")O=(t.left+t.right)/2-y;else if(Mt(o)){const st=Object.keys(o)[0],tt=o[st];O=this.chart.scales[st].getPixelForValue(tt)}N=this._getYAxisLabelAlignment(g).textAlign}i==="y"&&(c==="start"?U="top":c==="end"&&(U="bottom"));const j=this._getLabelSizes();for(M=0,P=h.length;M<P;++M){C=h[M],D=C.label;const st=r.setContext(this.getContext(M));k=this.getPixelForTick(M)+r.labelOffset,S=this._resolveTickFontOptions(M),A=S.lineHeight,E=Ut(D)?D.length:1;const tt=E/2,H=st.color,V=st.textStrokeColor,Z=st.textStrokeWidth;let J=N;l?(O=k,N==="inner"&&(M===P-1?J=this.options.reverse?"left":"right":M===0?J=this.options.reverse?"right":"left":J="center"),o==="top"?d==="near"||v!==0?z=-E*A+A/2:d==="center"?z=-j.highest.height/2-tt*A+A:z=-j.highest.height+A/2:d==="near"||v!==0?z=A/2:d==="center"?z=j.highest.height/2-tt*A:z=j.highest.height-E*A,m&&(z*=-1),v!==0&&!st.showLabelBackdrop&&(O+=A/2*Math.sin(v))):(I=k,z=(1-E)*A/2);let ft;if(st.showLabelBackdrop){const q=Me(st.backdropPadding),dt=j.heights[M],ct=j.widths[M];let ot=z-q.top,it=0-q.left;switch(U){case"middle":ot-=dt/2;break;case"bottom":ot-=dt;break}switch(N){case"center":it-=ct/2;break;case"right":it-=ct;break;case"inner":M===P-1?it-=ct:M>0&&(it-=ct/2);break}ft={left:it,top:ot,width:ct+q.width,height:dt+q.height,color:st.backdropColor}}w.push({label:D,font:S,textOffset:z,options:{rotation:v,color:H,strokeColor:V,strokeWidth:Z,textAlign:J,textBaseline:U,translation:[O,I],backdrop:ft}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:i}=this.options;if(-ti(this.labelRotation))return t==="top"?"left":"right";let o="center";return i.align==="start"?o="left":i.align==="end"?o="right":i.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(t){const{position:i,ticks:{crossAlign:n,mirror:o,padding:r}}=this.options,l=this._getLabelSizes(),h=t+r,c=l.widest.width;let d,p;return i==="left"?o?(p=this.right+r,n==="near"?d="left":n==="center"?(d="center",p+=c/2):(d="right",p+=c)):(p=this.right-h,n==="near"?d="right":n==="center"?(d="center",p-=c/2):(d="left",p=this.left)):i==="right"?o?(p=this.left+r,n==="near"?d="right":n==="center"?(d="center",p-=c/2):(d="left",p-=c)):(p=this.left+h,n==="near"?d="left":n==="center"?(d="center",p+=c/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:i},left:n,top:o,width:r,height:l}=this;i&&(t.save(),t.fillStyle=i,t.fillRect(n,o,r,l),t.restore())}getLineWidthForValue(t){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const o=this.ticks.findIndex(r=>r.value===t);return o>=0?i.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){const i=this.options.grid,n=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,l;const h=(c,d,p)=>{!p.width||!p.color||(n.save(),n.lineWidth=p.width,n.strokeStyle=p.color,n.setLineDash(p.borderDash||[]),n.lineDashOffset=p.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(i.display)for(r=0,l=o.length;r<l;++r){const c=o[r];i.drawOnChartArea&&h({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),i.drawTicks&&h({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:i,options:{border:n,grid:o}}=this,r=n.setContext(this.getContext()),l=n.display?r.width:0;if(!l)return;const h=o.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,p,m,g;this.isHorizontal()?(d=dn(t,this.left,l)-l/2,p=dn(t,this.right,h)+h/2,m=g=c):(m=dn(t,this.top,l)-l/2,g=dn(t,this.bottom,h)+h/2,d=p=c),i.save(),i.lineWidth=r.width,i.strokeStyle=r.color,i.beginPath(),i.moveTo(d,m),i.lineTo(p,g),i.stroke(),i.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,o=this._computeLabelArea();o&&Er(n,o);const r=this.getLabelItems(t);for(const l of r){const h=l.options,c=l.font,d=l.label,p=l.textOffset;Mn(n,d,0,p,c,h)}o&&Ar(n)}drawTitle(){const{ctx:t,options:{position:i,title:n,reverse:o}}=this;if(!n.display)return;const r=de(n.font),l=Me(n.padding),h=n.align;let c=r.lineHeight/2;i==="bottom"||i==="center"||Mt(i)?(c+=l.bottom,Ut(n.text)&&(c+=r.lineHeight*(n.text.length-1))):c+=l.top;const{titleX:d,titleY:p,maxWidth:m,rotation:g}=lx(this,c,i,h);Mn(t,n.text,0,0,r,{color:n.color,maxWidth:m,rotation:g,textAlign:ax(h,i,o),textBaseline:"middle",translation:[d,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,i=t.ticks&&t.ticks.z||0,n=yt(t.grid&&t.grid.z,-1),o=yt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==On.prototype.draw?[{z:i,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:i,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const i=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",o=[];let r,l;for(r=0,l=i.length;r<l;++r){const h=i[r];h[n]===this.id&&(!t||h.type===t)&&o.push(h)}return o}_resolveTickFontOptions(t){const i=this.options.ticks.setContext(this.getContext(t));return de(i.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Wo{constructor(t,i,n){this.type=t,this.scope=i,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const i=Object.getPrototypeOf(t);let n;ux(i)&&(n=this.register(i));const o=this.items,r=t.id,l=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in o||(o[r]=t,hx(t,l,n),this.override&&ne.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const i=this.items,n=t.id,o=this.scope;n in i&&delete i[n],o&&n in ne[o]&&(delete ne[o][n],this.override&&delete kn[n])}}function hx(e,t,i){const n=Ks(Object.create(null),[i?ne.get(i):{},ne.get(t),e.defaults]);ne.set(t,n),e.defaultRoutes&&cx(t,e.defaultRoutes),e.descriptors&&ne.describe(t,e.descriptors)}function cx(e,t){Object.keys(t).forEach(i=>{const n=i.split("."),o=n.pop(),r=[e].concat(n).join("."),l=t[i].split("."),h=l.pop(),c=l.join(".");ne.route(r,o,c,h)})}function ux(e){return"id"in e&&"defaults"in e}class dx{constructor(){this.controllers=new Wo(ei,"datasets",!0),this.elements=new Wo(Zi,"elements"),this.plugins=new Wo(Object,"plugins"),this.scales=new Wo(On,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,i,n){[...i].forEach(o=>{const r=n||this._getRegistryForType(o);n||r.isForType(o)||r===this.plugins&&o.id?this._exec(t,r,o):Rt(o,l=>{const h=n||this._getRegistryForType(l);this._exec(t,h,l)})})}_exec(t,i,n){const o=xl(t);Zt(n["before"+o],[],n),i[t](n),Zt(n["after"+o],[],n)}_getRegistryForType(t){for(let i=0;i<this._typedRegistries.length;i++){const n=this._typedRegistries[i];if(n.isForType(t))return n}return this.plugins}_get(t,i,n){const o=i.get(t);if(o===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return o}}var mi=new dx;class fx{constructor(){this._init=[]}notify(t,i,n,o){i==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=o?this._descriptors(t).filter(o):this._descriptors(t),l=this._notify(r,t,i,n);return i==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,i,n,o){o=o||{};for(const r of t){const l=r.plugin,h=l[n],c=[i,o,r.options];if(Zt(h,c,l)===!1&&o.cancelable)return!1}return!0}invalidate(){Dt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),i}_createDescriptors(t,i){const n=t&&t.config,o=yt(n.options&&n.options.plugins,{}),r=px(n);return o===!1&&!i?[]:_x(t,r,o,i)}_notifyStateChanges(t){const i=this._oldCache||[],n=this._cache,o=(r,l)=>r.filter(h=>!l.some(c=>h.plugin.id===c.plugin.id));this._notify(o(i,n),t,"stop"),this._notify(o(n,i),t,"start")}}function px(e){const t={},i=[],n=Object.keys(mi.plugins.items);for(let r=0;r<n.length;r++)i.push(mi.getPlugin(n[r]));const o=e.plugins||[];for(let r=0;r<o.length;r++){const l=o[r];i.indexOf(l)===-1&&(i.push(l),t[l.id]=!0)}return{plugins:i,localIds:t}}function mx(e,t){return!t&&e===!1?null:e===!0?{}:e}function _x(e,{plugins:t,localIds:i},n,o){const r=[],l=e.getContext();for(const h of t){const c=h.id,d=mx(n[c],o);d!==null&&r.push({plugin:h,options:gx(e.config,{plugin:h,local:i[c]},d,l)})}return r}function gx(e,{plugin:t,local:i},n,o){const r=e.pluginScopeKeys(t),l=e.getOptionScopes(n,r);return i&&t.defaults&&l.push(t.defaults),e.createResolver(l,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wa(e,t){const i=ne.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function yx(e,t){let i=e;return e==="_index_"?i=t:e==="_value_"&&(i=t==="x"?"y":"x"),i}function vx(e,t){return e===t?"_index_":"_value_"}function Ec(e){if(e==="x"||e==="y"||e==="r")return e}function bx(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Ya(e,...t){if(Ec(e))return e;for(const i of t){const n=i.axis||bx(i.position)||e.length>1&&Ec(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Ac(e,t,i){if(i[t+"AxisID"]===e)return{axis:t}}function xx(e,t){if(t.data&&t.data.datasets){const i=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(i.length)return Ac(e,"x",i[0])||Ac(e,"y",i[0])}return{}}function wx(e,t){const i=kn[e.type]||{scales:{}},n=t.scales||{},o=Wa(e.type,t),r=Object.create(null);return Object.keys(n).forEach(l=>{const h=n[l];if(!Mt(h))return console.error(`Invalid scale configuration for scale: ${l}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const c=Ya(l,h,xx(l,e),ne.scales[h.type]),d=vx(c,o),p=i.scales||{};r[l]=Ns(Object.create(null),[{axis:c},h,p[c],p[d]])}),e.data.datasets.forEach(l=>{const h=l.type||e.type,c=l.indexAxis||Wa(h,t),p=(kn[h]||{}).scales||{};Object.keys(p).forEach(m=>{const g=yx(m,c),y=l[g+"AxisID"]||g;r[y]=r[y]||Object.create(null),Ns(r[y],[{axis:g},n[y],p[m]])})}),Object.keys(r).forEach(l=>{const h=r[l];Ns(h,[ne.scales[h.type],ne.scale])}),r}function vf(e){const t=e.options||(e.options={});t.plugins=yt(t.plugins,{}),t.scales=wx(e,t)}function bf(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function kx(e){return e=e||{},e.data=bf(e.data),vf(e),e}const Ic=new Map,xf=new Set;function Yo(e,t){let i=Ic.get(e);return i||(i=t(),Ic.set(e,i),xf.add(i)),i}const Cs=(e,t,i)=>{const n=tn(t,i);n!==void 0&&e.add(n)};class Mx{constructor(t){this._config=kx(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=bf(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),vf(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Yo(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,i){return Yo(`${t}.transition.${i}`,()=>[[`datasets.${t}.transitions.${i}`,`transitions.${i}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,i){return Yo(`${t}-${i}`,()=>[[`datasets.${t}.elements.${i}`,`datasets.${t}`,`elements.${i}`,""]])}pluginScopeKeys(t){const i=t.id,n=this.type;return Yo(`${n}-plugin-${i}`,()=>[[`plugins.${i}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,i){const n=this._scopeCache;let o=n.get(t);return(!o||i)&&(o=new Map,n.set(t,o)),o}getOptionScopes(t,i,n){const{options:o,type:r}=this,l=this._cachedScopes(t,n),h=l.get(i);if(h)return h;const c=new Set;i.forEach(p=>{t&&(c.add(t),p.forEach(m=>Cs(c,t,m))),p.forEach(m=>Cs(c,o,m)),p.forEach(m=>Cs(c,kn[r]||{},m)),p.forEach(m=>Cs(c,ne,m)),p.forEach(m=>Cs(c,Fa,m))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),xf.has(i)&&l.set(i,d),d}chartOptionScopes(){const{options:t,type:i}=this;return[t,kn[i]||{},ne.datasets[i]||{},{type:i},ne,Fa]}resolveNamedOptions(t,i,n,o=[""]){const r={$shared:!0},{resolver:l,subPrefixes:h}=Rc(this._resolverCache,t,o);let c=l;if(Px(l,i)){r.$shared=!1,n=en(n)?n():n;const d=this.createResolver(t,n,h);c=is(l,n,d)}for(const d of i)r[d]=c[d];return r}createResolver(t,i,n=[""],o){const{resolver:r}=Rc(this._resolverCache,t,n);return Mt(i)?is(r,i,void 0,o):r}}function Rc(e,t,i){let n=e.get(t);n||(n=new Map,e.set(t,n));const o=i.join();let r=n.get(o);return r||(r={resolver:Tl(t,i),subPrefixes:i.filter(h=>!h.toLowerCase().includes("hover"))},n.set(o,r)),r}const Sx=e=>Mt(e)&&Object.getOwnPropertyNames(e).some(t=>en(e[t]));function Px(e,t){const{isScriptable:i,isIndexable:n}=Qd(e);for(const o of t){const r=i(o),l=n(o),h=(l||r)&&e[o];if(r&&(en(h)||Sx(h))||l&&Ut(h))return!0}return!1}var Tx="4.4.2";const Dx=["top","bottom","left","right","chartArea"];function zc(e,t){return e==="top"||e==="bottom"||Dx.indexOf(e)===-1&&t==="x"}function Fc(e,t){return function(i,n){return i[e]===n[e]?i[t]-n[t]:i[e]-n[e]}}function Nc(e){const t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),Zt(i&&i.onComplete,[e],t)}function Lx(e){const t=e.chart,i=t.options.animation;Zt(i&&i.onProgress,[e],t)}function wf(e){return Cl()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ir={},Bc=e=>{const t=wf(e);return Object.values(ir).filter(i=>i.canvas===t).pop()};function Cx(e,t,i){const n=Object.keys(e);for(const o of n){const r=+o;if(r>=t){const l=e[o];delete e[o],(i>0||r>t)&&(e[r+i]=l)}}}function Ox(e,t,i,n){return!i||e.type==="mouseout"?null:n?t:e}function Ho(e,t,i){return e.options.clip?e[i]:t[i]}function Ex(e,t){const{xScale:i,yScale:n}=e;return i&&n?{left:Ho(i,t,"left"),right:Ho(i,t,"right"),top:Ho(n,t,"top"),bottom:Ho(n,t,"bottom")}:t}class ye{static register(...t){mi.add(...t),Wc()}static unregister(...t){mi.remove(...t),Wc()}constructor(t,i){const n=this.config=new Mx(i),o=wf(t),r=Bc(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||qb(o)),this.platform.updateConfig(n);const h=this.platform.acquireContext(o,l.aspectRatio),c=h&&h.canvas,d=c&&c.height,p=c&&c.width;if(this.id=Rv(),this.ctx=h,this.canvas=c,this.width=p,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new fx,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Xv(m=>this.update(m),l.resizeDelay||0),this._dataChanges=[],ir[this.id]=this,!h||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ci.listen(this,"complete",Nc),Ci.listen(this,"progress",Lx),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:i},width:n,height:o,_aspectRatio:r}=this;return Dt(t)?i&&r?r:o?n/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return mi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ac(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return sc(this.canvas,this.ctx),this}stop(){return Ci.stop(this),this}resize(t,i){Ci.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){const n=this.options,o=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(o,t,i,r),h=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,ac(this,h,!0)&&(this.notifyPlugins("resize",{size:l}),Zt(n.onResize,[this,l],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};Rt(i,(n,o)=>{n.id=o})}buildOrUpdateScales(){const t=this.options,i=t.scales,n=this.scales,o=Object.keys(n).reduce((l,h)=>(l[h]=!1,l),{});let r=[];i&&(r=r.concat(Object.keys(i).map(l=>{const h=i[l],c=Ya(l,h),d=c==="r",p=c==="x";return{options:h,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),Rt(r,l=>{const h=l.options,c=h.id,d=Ya(c,h),p=yt(h.type,l.dtype);(h.position===void 0||zc(h.position,d)!==zc(l.dposition))&&(h.position=l.dposition),o[c]=!0;let m=null;if(c in n&&n[c].type===p)m=n[c];else{const g=mi.getScale(p);m=new g({id:c,type:p,ctx:this.ctx,chart:this}),n[m.id]=m}m.init(h,t)}),Rt(o,(l,h)=>{l||delete n[h]}),Rt(n,l=>{we.configure(this,l,l.options),we.addBox(this,l)})}_updateMetasets(){const t=this._metasets,i=this.data.datasets.length,n=t.length;if(t.sort((o,r)=>o.index-r.index),n>i){for(let o=i;o<n;++o)this._destroyDatasetMeta(o);t.splice(i,n-i)}this._sortedMetasets=t.slice(0).sort(Fc("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((n,o)=>{i.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const t=[],i=this.data.datasets;let n,o;for(this._removeUnreferencedMetasets(),n=0,o=i.length;n<o;n++){const r=i[n];let l=this.getDatasetMeta(n);const h=r.type||this.config.type;if(l.type&&l.type!==h&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=h,l.indexAxis=r.indexAxis||Wa(h,this.options),l.order=r.order||0,l.index=n,l.label=""+r.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{const c=mi.getController(h),{datasetElementType:d,dataElementType:p}=ne.datasets[h];Object.assign(c,{dataElementType:mi.getElement(p),datasetElementType:d&&mi.getElement(d)}),l.controller=new c(this,n),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Rt(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const i=this.config;i.update();const n=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:m}=this.getDatasetMeta(d),g=!o&&r.indexOf(m)===-1;m.buildOrUpdateElements(g),l=Math.max(+m.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),o||Rt(r,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Fc("z","_idx"));const{_active:h,_lastEvent:c}=this;c?this._eventHandler(c,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Rt(this.scales,t=>{we.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,i=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!qh(i,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(const{method:n,start:o,count:r}of i){const l=n==="_removeElements"?-r:r;Cx(t,o,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const i=this.data.datasets.length,n=r=>new Set(t.filter(l=>l[0]===r).map((l,h)=>h+","+l.splice(1).join(","))),o=n(0);for(let r=1;r<i;r++)if(!qh(o,n(r)))return;return Array.from(o).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;we.update(this,this.width,this.height,t);const i=this.chartArea,n=i.width<=0||i.height<=0;this._layers=[],Rt(this.boxes,o=>{n&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,r)=>{o._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let i=0,n=this.data.datasets.length;i<n;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,n=this.data.datasets.length;i<n;++i)this._updateDataset(i,en(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){const n=this.getDatasetMeta(t),o={meta:n,index:t,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(n.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ci.has(this)?this.attached&&!Ci.running(this)&&Ci.start(this):(this.draw(),Nc({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:o}=this._resizeBeforeDraw;this._resize(n,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,n=[];let o,r;for(o=0,r=i.length;o<r;++o){const l=i[o];(!t||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const i=this.ctx,n=t._clip,o=!n.disabled,r=Ex(t,this.chartArea),l={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(o&&Er(i,{left:n.left===!1?0:r.left-n.left,right:n.right===!1?this.width:r.right+n.right,top:n.top===!1?0:r.top-n.top,bottom:n.bottom===!1?this.height:r.bottom+n.bottom}),t.controller.draw(),o&&Ar(i),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return Ni(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,n,o){const r=Db.modes[i];return typeof r=="function"?r(this,t,n,o):[]}getDatasetMeta(t){const i=this.data.datasets[t],n=this._metasets;let o=n.filter(r=>r&&r._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},n.push(o)),o}getContext(){return this.$context||(this.$context=nn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const i=this.data.datasets[t];if(!i)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!i.hidden}setDatasetVisibility(t,i){const n=this.getDatasetMeta(t);n.hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,n){const o=n?"show":"hide",r=this.getDatasetMeta(t),l=r.controller._resolveAnimations(void 0,o);Xs(i)?(r.data[i].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),l.update(r,{visible:n}),this.update(h=>h.datasetIndex===t?o:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){const i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),Ci.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),sc(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete ir[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,i=this.platform,n=(r,l)=>{i.addEventListener(this,r,l),t[r]=l},o=(r,l,h)=>{r.offsetX=l,r.offsetY=h,this._eventHandler(r)};Rt(this.options.events,r=>n(r,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,i=this.platform,n=(c,d)=>{i.addEventListener(this,c,d),t[c]=d},o=(c,d)=>{t[c]&&(i.removeEventListener(this,c,d),delete t[c])},r=(c,d)=>{this.canvas&&this.resize(c,d)};let l;const h=()=>{o("attach",h),this.attached=!0,this.resize(),n("resize",r),n("detach",l)};l=()=>{this.attached=!1,o("resize",r),this._stop(),this._resize(0,0),n("attach",h)},i.isAttached(this.canvas)?h():l()}unbindEvents(){Rt(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},Rt(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,n){const o=n?"set":"remove";let r,l,h,c;for(i==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+o+"DatasetHoverStyle"]()),h=0,c=t.length;h<c;++h){l=t[h];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const i=this._active||[],n=t.map(({datasetIndex:r,index:l})=>{const h=this.getDatasetMeta(r);if(!h)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:h.data[l],index:l}});!cr(n,i)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,i))}notifyPlugins(t,i,n){return this._plugins.notify(this,t,i,n)}isPluginEnabled(t){return this._plugins._cache.filter(i=>i.plugin.id===t).length===1}_updateHoverStyles(t,i,n){const o=this.options.hover,r=(c,d)=>c.filter(p=>!d.some(m=>p.datasetIndex===m.datasetIndex&&p.index===m.index)),l=r(i,t),h=n?t:r(t,i);l.length&&this.updateHoverStyle(l,o.mode,!1),h.length&&o.mode&&this.updateHoverStyle(h,o.mode,!0)}_eventHandler(t,i){const n={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},o=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,o)===!1)return;const r=this._handleEvent(t,i,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,o),(r||n.changed)&&this.render(),this}_handleEvent(t,i,n){const{_active:o=[],options:r}=this,l=i,h=this._getActiveElements(t,o,n,l),c=Yv(t),d=Ox(t,this._lastEvent,n,c);n&&(this._lastEvent=null,Zt(r.onHover,[t,h,this],this),c&&Zt(r.onClick,[t,h,this],this));const p=!cr(h,o);return(p||i)&&(this._active=h,this._updateHoverStyles(h,o,i)),this._lastEvent=d,p}_getActiveElements(t,i,n,o){if(t.type==="mouseout")return[];if(!n)return i;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,o)}}Q(ye,"defaults",ne),Q(ye,"instances",ir),Q(ye,"overrides",kn),Q(ye,"registry",mi),Q(ye,"version",Tx),Q(ye,"getChart",Bc);function Wc(){return Rt(ye.instances,e=>e._plugins.invalidate())}function Ax(e,t,i){const{startAngle:n,pixelMargin:o,x:r,y:l,outerRadius:h,innerRadius:c}=t;let d=o/h;e.beginPath(),e.arc(r,l,h,n-d,i+d),c>o?(d=o/c,e.arc(r,l,c,i+d,n-d,!0)):e.arc(r,l,o,i+re,n-re),e.closePath(),e.clip()}function Ix(e){return Pl(e,["outerStart","outerEnd","innerStart","innerEnd"])}function Rx(e,t,i,n){const o=Ix(e.options.borderRadius),r=(i-t)/2,l=Math.min(r,n*t/2),h=c=>{const d=(i-Math.min(r,c))*n/2;return me(c,0,Math.min(r,d))};return{outerStart:h(o.outerStart),outerEnd:h(o.outerEnd),innerStart:me(o.innerStart,0,l),innerEnd:me(o.innerEnd,0,l)}}function Vn(e,t,i,n){return{x:i+e*Math.cos(t),y:n+e*Math.sin(t)}}function _r(e,t,i,n,o,r){const{x:l,y:h,startAngle:c,pixelMargin:d,innerRadius:p}=t,m=Math.max(t.outerRadius+n+i-d,0),g=p>0?p+n+i+d:0;let y=0;const x=o-c;if(n){const st=p>0?p-n:0,tt=m>0?m-n:0,H=(st+tt)/2,V=H!==0?x*H/(H+n):x;y=(x-V)/2}const v=Math.max(.001,x*m-i/qt)/m,w=(x-v)/2,M=c+w+y,P=o-w-y,{outerStart:C,outerEnd:D,innerStart:O,innerEnd:I}=Rx(t,g,m,P-M),N=m-C,k=m-D,S=M+C/N,A=P-D/k,E=g+O,z=g+I,U=M+O/E,j=P-I/z;if(e.beginPath(),r){const st=(S+A)/2;if(e.arc(l,h,m,S,st),e.arc(l,h,m,st,A),D>0){const Z=Vn(k,A,l,h);e.arc(Z.x,Z.y,D,A,P+re)}const tt=Vn(z,P,l,h);if(e.lineTo(tt.x,tt.y),I>0){const Z=Vn(z,j,l,h);e.arc(Z.x,Z.y,I,P+re,j+Math.PI)}const H=(P-I/g+(M+O/g))/2;if(e.arc(l,h,g,P-I/g,H,!0),e.arc(l,h,g,H,M+O/g,!0),O>0){const Z=Vn(E,U,l,h);e.arc(Z.x,Z.y,O,U+Math.PI,M-re)}const V=Vn(N,M,l,h);if(e.lineTo(V.x,V.y),C>0){const Z=Vn(N,S,l,h);e.arc(Z.x,Z.y,C,M-re,S)}}else{e.moveTo(l,h);const st=Math.cos(S)*m+l,tt=Math.sin(S)*m+h;e.lineTo(st,tt);const H=Math.cos(A)*m+l,V=Math.sin(A)*m+h;e.lineTo(H,V)}e.closePath()}function zx(e,t,i,n,o){const{fullCircles:r,startAngle:l,circumference:h}=t;let c=t.endAngle;if(r){_r(e,t,i,n,c,o);for(let d=0;d<r;++d)e.fill();isNaN(h)||(c=l+(h%$t||$t))}return _r(e,t,i,n,c,o),e.fill(),c}function Fx(e,t,i,n,o){const{fullCircles:r,startAngle:l,circumference:h,options:c}=t,{borderWidth:d,borderJoinStyle:p,borderDash:m,borderDashOffset:g}=c,y=c.borderAlign==="inner";if(!d)return;e.setLineDash(m||[]),e.lineDashOffset=g,y?(e.lineWidth=d*2,e.lineJoin=p||"round"):(e.lineWidth=d,e.lineJoin=p||"bevel");let x=t.endAngle;if(r){_r(e,t,i,n,x,o);for(let v=0;v<r;++v)e.stroke();isNaN(h)||(x=l+(h%$t||$t))}y&&Ax(e,t,x),r||(_r(e,t,i,n,x,o),e.stroke())}class Is extends Zi{constructor(i){super();Q(this,"circumference");Q(this,"endAngle");Q(this,"fullCircles");Q(this,"innerRadius");Q(this,"outerRadius");Q(this,"pixelMargin");Q(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,n,o){const r=this.getProps(["x","y"],o),{angle:l,distance:h}=Hd(r,{x:i,y:n}),{startAngle:c,endAngle:d,innerRadius:p,outerRadius:m,circumference:g}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),y=(this.options.spacing+this.options.borderWidth)/2,v=yt(g,d-c)>=$t||Qs(l,c,d),w=zi(h,p+y,m+y);return v&&w}getCenterPoint(i){const{x:n,y:o,startAngle:r,endAngle:l,innerRadius:h,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],i),{offset:d,spacing:p}=this.options,m=(r+l)/2,g=(h+c+p+d)/2;return{x:n+Math.cos(m)*g,y:o+Math.sin(m)*g}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:n,circumference:o}=this,r=(n.offset||0)/4,l=(n.spacing||0)/2,h=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=o>$t?Math.floor(o/$t):0,o===0||this.innerRadius<0||this.outerRadius<0)return;i.save();const c=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(c)*r,Math.sin(c)*r);const d=1-Math.sin(Math.min(qt,o||0)),p=r*d;i.fillStyle=n.backgroundColor,i.strokeStyle=n.borderColor,zx(i,this,p,l,h),Fx(i,this,p,l,h),i.restore()}}Q(Is,"id","arc"),Q(Is,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Q(Is,"defaultRoutes",{backgroundColor:"backgroundColor"}),Q(Is,"descriptors",{_scriptable:!0,_indexable:i=>i!=="borderDash"});function kf(e,t,i=t){e.lineCap=yt(i.borderCapStyle,t.borderCapStyle),e.setLineDash(yt(i.borderDash,t.borderDash)),e.lineDashOffset=yt(i.borderDashOffset,t.borderDashOffset),e.lineJoin=yt(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=yt(i.borderWidth,t.borderWidth),e.strokeStyle=yt(i.borderColor,t.borderColor)}function Nx(e,t,i){e.lineTo(i.x,i.y)}function Bx(e){return e.stepped?h0:e.tension||e.cubicInterpolationMode==="monotone"?c0:Nx}function Mf(e,t,i={}){const n=e.length,{start:o=0,end:r=n-1}=i,{start:l,end:h}=t,c=Math.max(o,l),d=Math.min(r,h),p=o<l&&r<l||o>h&&r>h;return{count:n,start:c,loop:t.loop,ilen:d<c&&!p?n+d-c:d-c}}function Wx(e,t,i,n){const{points:o,options:r}=t,{count:l,start:h,loop:c,ilen:d}=Mf(o,i,n),p=Bx(r);let{move:m=!0,reverse:g}=n||{},y,x,v;for(y=0;y<=d;++y)x=o[(h+(g?d-y:y))%l],!x.skip&&(m?(e.moveTo(x.x,x.y),m=!1):p(e,v,x,g,r.stepped),v=x);return c&&(x=o[(h+(g?d:0))%l],p(e,v,x,g,r.stepped)),!!c}function Yx(e,t,i,n){const o=t.points,{count:r,start:l,ilen:h}=Mf(o,i,n),{move:c=!0,reverse:d}=n||{};let p=0,m=0,g,y,x,v,w,M;const P=D=>(l+(d?h-D:D))%r,C=()=>{v!==w&&(e.lineTo(p,w),e.lineTo(p,v),e.lineTo(p,M))};for(c&&(y=o[P(0)],e.moveTo(y.x,y.y)),g=0;g<=h;++g){if(y=o[P(g)],y.skip)continue;const D=y.x,O=y.y,I=D|0;I===x?(O<v?v=O:O>w&&(w=O),p=(m*p+D)/++m):(C(),e.lineTo(D,O),x=I,m=0,v=w=O),M=O}C()}function Ha(e){const t=e.options,i=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!i?Yx:Wx}function Hx(e){return e.stepped?H0:e.tension||e.cubicInterpolationMode==="monotone"?V0:_n}function Vx(e,t,i,n){let o=t._path;o||(o=t._path=new Path2D,t.path(o,i,n)&&o.closePath()),kf(e,t.options),e.stroke(o)}function Zx(e,t,i,n){const{segments:o,options:r}=t,l=Ha(t);for(const h of o)kf(e,r,h.style),e.beginPath(),l(e,t,h,{start:i,end:i+n-1})&&e.closePath(),e.stroke()}const jx=typeof Path2D=="function";function Ux(e,t,i,n){jx&&!t.options.segment?Vx(e,t,i,n):Zx(e,t,i,n)}class gi extends Zi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const o=n.spanGaps?this._loop:this._fullLoop;I0(this._points,n,t,o,i),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=q0(this,this.options.segment))}first(){const t=this.segments,i=this.points;return t.length&&i[t[0].start]}last(){const t=this.segments,i=this.points,n=t.length;return n&&i[t[n-1].end]}interpolate(t,i){const n=this.options,o=t[i],r=this.points,l=hf(this,{property:i,start:o,end:o});if(!l.length)return;const h=[],c=Hx(n);let d,p;for(d=0,p=l.length;d<p;++d){const{start:m,end:g}=l[d],y=r[m],x=r[g];if(y===x){h.push(y);continue}const v=Math.abs((o-y[i])/(x[i]-y[i])),w=c(y,x,v,n.stepped);w[i]=t[i],h.push(w)}return h.length===1?h[0]:h}pathSegment(t,i,n){return Ha(this)(t,this,i,n)}path(t,i,n){const o=this.segments,r=Ha(this);let l=this._loop;i=i||0,n=n||this.points.length-i;for(const h of o)l&=r(t,this,h,{start:i,end:i+n-1});return!!l}draw(t,i,n,o){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),Ux(t,this,n,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Q(gi,"id","line"),Q(gi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Q(gi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Q(gi,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Yc(e,t,i,n){const o=e.options,{[i]:r}=e.getProps([i],n);return Math.abs(t-r)<o.radius+o.hitRadius}class wn extends Zi{constructor(i){super();Q(this,"parsed");Q(this,"skip");Q(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,i&&Object.assign(this,i)}inRange(i,n,o){const r=this.options,{x:l,y:h}=this.getProps(["x","y"],o);return Math.pow(i-l,2)+Math.pow(n-h,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(i,n){return Yc(this,i,"x",n)}inYRange(i,n){return Yc(this,i,"y",n)}getCenterPoint(i){const{x:n,y:o}=this.getProps(["x","y"],i);return{x:n,y:o}}size(i){i=i||this.options||{};let n=i.radius||0;n=Math.max(n,n&&i.hoverRadius||0);const o=n&&i.borderWidth||0;return(n+o)*2}draw(i,n){const o=this.options;this.skip||o.radius<.1||!Ni(this,n,this.size(o)/2)||(i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.fillStyle=o.backgroundColor,Na(i,o,this.x,this.y))}getRange(){const i=this.options||{};return i.radius+i.hitRadius}}Q(wn,"id","point"),Q(wn,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Q(wn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Sf(e,t){const{x:i,y:n,base:o,width:r,height:l}=e.getProps(["x","y","base","width","height"],t);let h,c,d,p,m;return e.horizontal?(m=l/2,h=Math.min(i,o),c=Math.max(i,o),d=n-m,p=n+m):(m=r/2,h=i-m,c=i+m,d=Math.min(n,o),p=Math.max(n,o)),{left:h,top:d,right:c,bottom:p}}function Xi(e,t,i,n){return e?0:me(t,i,n)}function $x(e,t,i){const n=e.options.borderWidth,o=e.borderSkipped,r=Xd(n);return{t:Xi(o.top,r.top,0,i),r:Xi(o.right,r.right,0,t),b:Xi(o.bottom,r.bottom,0,i),l:Xi(o.left,r.left,0,t)}}function Gx(e,t,i){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),o=e.options.borderRadius,r=bn(o),l=Math.min(t,i),h=e.borderSkipped,c=n||Mt(o);return{topLeft:Xi(!c||h.top||h.left,r.topLeft,0,l),topRight:Xi(!c||h.top||h.right,r.topRight,0,l),bottomLeft:Xi(!c||h.bottom||h.left,r.bottomLeft,0,l),bottomRight:Xi(!c||h.bottom||h.right,r.bottomRight,0,l)}}function qx(e){const t=Sf(e),i=t.right-t.left,n=t.bottom-t.top,o=$x(e,i/2,n/2),r=Gx(e,i/2,n/2);return{outer:{x:t.left,y:t.top,w:i,h:n,radius:r},inner:{x:t.left+o.l,y:t.top+o.t,w:i-o.l-o.r,h:n-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function wa(e,t,i,n){const o=t===null,r=i===null,h=e&&!(o&&r)&&Sf(e,n);return h&&(o||zi(t,h.left,h.right))&&(r||zi(i,h.top,h.bottom))}function Kx(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function Xx(e,t){e.rect(t.x,t.y,t.w,t.h)}function ka(e,t,i={}){const n=e.x!==i.x?-t:0,o=e.y!==i.y?-t:0,r=(e.x+e.w!==i.x+i.w?t:0)-n,l=(e.y+e.h!==i.y+i.h?t:0)-o;return{x:e.x+n,y:e.y+o,w:e.w+r,h:e.h+l,radius:e.radius}}class Vs extends Zi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:i,options:{borderColor:n,backgroundColor:o}}=this,{inner:r,outer:l}=qx(this),h=Kx(l.radius)?Js:Xx;t.save(),(l.w!==r.w||l.h!==r.h)&&(t.beginPath(),h(t,ka(l,i,r)),t.clip(),h(t,ka(r,-i,l)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),h(t,ka(r,i)),t.fillStyle=o,t.fill(),t.restore()}inRange(t,i,n){return wa(this,t,i,n)}inXRange(t,i){return wa(this,t,null,i)}inYRange(t,i){return wa(this,null,t,i)}getCenterPoint(t){const{x:i,y:n,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(i+o)/2:i,y:r?n:(n+o)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Q(Vs,"id","bar"),Q(Vs,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Q(Vs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Qx=Object.freeze({__proto__:null,ArcElement:Is,BarElement:Vs,LineElement:gi,PointElement:wn});const Va=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Hc=Va.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function Pf(e){return Va[e%Va.length]}function Tf(e){return Hc[e%Hc.length]}function Jx(e,t){return e.borderColor=Pf(t),e.backgroundColor=Tf(t),++t}function tw(e,t){return e.backgroundColor=e.data.map(()=>Pf(t++)),t}function ew(e,t){return e.backgroundColor=e.data.map(()=>Tf(t++)),t}function iw(e){let t=0;return(i,n)=>{const o=e.getDatasetMeta(n).controller;o instanceof yn?t=tw(i,t):o instanceof Hs?t=ew(i,t):o&&(t=Jx(i,t))}}function Vc(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function nw(e){return e&&(e.borderColor||e.backgroundColor)}var sw={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,i){if(!i.enabled)return;const{data:{datasets:n},options:o}=e.config,{elements:r}=o;if(!i.forceOverride&&(Vc(n)||nw(o)||r&&Vc(r)))return;const l=iw(e);n.forEach(l)}};function ow(e,t,i,n,o){const r=o.samples||n;if(r>=i)return e.slice(t,t+i);const l=[],h=(i-2)/(r-2);let c=0;const d=t+i-1;let p=t,m,g,y,x,v;for(l[c++]=e[p],m=0;m<r-2;m++){let w=0,M=0,P;const C=Math.floor((m+1)*h)+1+t,D=Math.min(Math.floor((m+2)*h)+1,i)+t,O=D-C;for(P=C;P<D;P++)w+=e[P].x,M+=e[P].y;w/=O,M/=O;const I=Math.floor(m*h)+1+t,N=Math.min(Math.floor((m+1)*h)+1,i)+t,{x:k,y:S}=e[p];for(y=x=-1,P=I;P<N;P++)x=.5*Math.abs((k-w)*(e[P].y-S)-(k-e[P].x)*(M-S)),x>y&&(y=x,g=e[P],v=P);l[c++]=g,p=v}return l[c++]=e[d],l}function rw(e,t,i,n){let o=0,r=0,l,h,c,d,p,m,g,y,x,v;const w=[],M=t+i-1,P=e[t].x,D=e[M].x-P;for(l=t;l<t+i;++l){h=e[l],c=(h.x-P)/D*n,d=h.y;const O=c|0;if(O===p)d<x?(x=d,m=l):d>v&&(v=d,g=l),o=(r*o+h.x)/++r;else{const I=l-1;if(!Dt(m)&&!Dt(g)){const N=Math.min(m,g),k=Math.max(m,g);N!==y&&N!==I&&w.push({...e[N],x:o}),k!==y&&k!==I&&w.push({...e[k],x:o})}l>0&&I!==y&&w.push(e[I]),w.push(h),p=O,r=0,x=v=d,m=g=y=l}}return w}function Df(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Zc(e){e.data.datasets.forEach(t=>{Df(t)})}function aw(e,t){const i=t.length;let n=0,o;const{iScale:r}=e,{min:l,max:h,minDefined:c,maxDefined:d}=r.getUserBounds();return c&&(n=me(Fi(t,r.axis,l).lo,0,i-1)),d?o=me(Fi(t,r.axis,h).hi+1,n,i)-n:o=i-n,{start:n,count:o}}var lw={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,i)=>{if(!i.enabled){Zc(e);return}const n=e.width;e.data.datasets.forEach((o,r)=>{const{_data:l,indexAxis:h}=o,c=e.getDatasetMeta(r),d=l||o.data;if(Es([h,e.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;const p=e.scales[c.xAxisID];if(p.type!=="linear"&&p.type!=="time"||e.options.parsing)return;let{start:m,count:g}=aw(c,d);const y=i.threshold||4*n;if(g<=y){Df(o);return}Dt(l)&&(o._data=d,delete o.data,Object.defineProperty(o,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let x;switch(i.algorithm){case"lttb":x=ow(d,m,g,n,i);break;case"min-max":x=rw(d,m,g,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}o._decimated=x})},destroy(e){Zc(e)}};function hw(e,t,i){const n=e.segments,o=e.points,r=t.points,l=[];for(const h of n){let{start:c,end:d}=h;d=Al(c,d,o);const p=Za(i,o[c],o[d],h.loop);if(!t.segments){l.push({source:h,target:p,start:o[c],end:o[d]});continue}const m=hf(t,p);for(const g of m){const y=Za(i,r[g.start],r[g.end],g.loop),x=lf(h,o,y);for(const v of x)l.push({source:v,target:g,start:{[i]:jc(p,y,"start",Math.max)},end:{[i]:jc(p,y,"end",Math.min)}})}}return l}function Za(e,t,i,n){if(n)return;let o=t[e],r=i[e];return e==="angle"&&(o=Ie(o),r=Ie(r)),{property:e,start:o,end:r}}function cw(e,t){const{x:i=null,y:n=null}=e||{},o=t.points,r=[];return t.segments.forEach(({start:l,end:h})=>{h=Al(l,h,o);const c=o[l],d=o[h];n!==null?(r.push({x:c.x,y:n}),r.push({x:d.x,y:n})):i!==null&&(r.push({x:i,y:c.y}),r.push({x:i,y:d.y}))}),r}function Al(e,t,i){for(;t>e;t--){const n=i[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function jc(e,t,i,n){return e&&t?n(e[i],t[i]):e?e[i]:t?t[i]:0}function Lf(e,t){let i=[],n=!1;return Ut(e)?(n=!0,i=e):i=cw(e,t),i.length?new gi({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function Uc(e){return e&&e.fill!==!1}function uw(e,t,i){let o=e[t].fill;const r=[t];let l;if(!i)return o;for(;o!==!1&&r.indexOf(o)===-1;){if(!ie(o))return o;if(l=e[o],!l)return!1;if(l.visible)return o;r.push(o),o=l.fill}return!1}function dw(e,t,i){const n=_w(e);if(Mt(n))return isNaN(n.value)?!1:n;let o=parseFloat(n);return ie(o)&&Math.floor(o)===o?fw(n[0],t,o,i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function fw(e,t,i,n){return(e==="-"||e==="+")&&(i=t+i),i===t||i<0||i>=n?!1:i}function pw(e,t){let i=null;return e==="start"?i=t.bottom:e==="end"?i=t.top:Mt(e)?i=t.getPixelForValue(e.value):t.getBasePixel&&(i=t.getBasePixel()),i}function mw(e,t,i){let n;return e==="start"?n=i:e==="end"?n=t.options.reverse?t.min:t.max:Mt(e)?n=e.value:n=t.getBaseValue(),n}function _w(e){const t=e.options,i=t.fill;let n=yt(i&&i.target,i);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function gw(e){const{scale:t,index:i,line:n}=e,o=[],r=n.segments,l=n.points,h=yw(t,i);h.push(Lf({x:null,y:t.bottom},n));for(let c=0;c<r.length;c++){const d=r[c];for(let p=d.start;p<=d.end;p++)vw(o,l[p],h)}return new gi({points:o,options:{}})}function yw(e,t){const i=[],n=e.getMatchingVisibleMetas("line");for(let o=0;o<n.length;o++){const r=n[o];if(r.index===t)break;r.hidden||i.unshift(r.dataset)}return i}function vw(e,t,i){const n=[];for(let o=0;o<i.length;o++){const r=i[o],{first:l,last:h,point:c}=bw(r,t,"x");if(!(!c||l&&h)){if(l)n.unshift(c);else if(e.push(c),!h)break}}e.push(...n)}function bw(e,t,i){const n=e.interpolate(t,i);if(!n)return{};const o=n[i],r=e.segments,l=e.points;let h=!1,c=!1;for(let d=0;d<r.length;d++){const p=r[d],m=l[p.start][i],g=l[p.end][i];if(zi(o,m,g)){h=o===m,c=o===g;break}}return{first:h,last:c,point:n}}class Cf{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,i,n){const{x:o,y:r,radius:l}=this;return i=i||{start:0,end:$t},t.arc(o,r,l,i.end,i.start,!0),!n.bounds}interpolate(t){const{x:i,y:n,radius:o}=this,r=t.angle;return{x:i+Math.cos(r)*o,y:n+Math.sin(r)*o,angle:r}}}function xw(e){const{chart:t,fill:i,line:n}=e;if(ie(i))return ww(t,i);if(i==="stack")return gw(e);if(i==="shape")return!0;const o=kw(e);return o instanceof Cf?o:Lf(o,n)}function ww(e,t){const i=e.getDatasetMeta(t);return i&&e.isDatasetVisible(t)?i.dataset:null}function kw(e){return(e.scale||{}).getPointPositionForValue?Sw(e):Mw(e)}function Mw(e){const{scale:t={},fill:i}=e,n=pw(i,t);if(ie(n)){const o=t.isHorizontal();return{x:o?n:null,y:o?null:n}}return null}function Sw(e){const{scale:t,fill:i}=e,n=t.options,o=t.getLabels().length,r=n.reverse?t.max:t.min,l=mw(i,t,r),h=[];if(n.grid.circular){const c=t.getPointPositionForValue(0,r);return new Cf({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(l)})}for(let c=0;c<o;++c)h.push(t.getPointPositionForValue(c,l));return h}function Ma(e,t,i){const n=xw(t),{line:o,scale:r,axis:l}=t,h=o.options,c=h.fill,d=h.backgroundColor,{above:p=d,below:m=d}=c||{};n&&o.points.length&&(Er(e,i),Pw(e,{line:o,target:n,above:p,below:m,area:i,scale:r,axis:l}),Ar(e))}function Pw(e,t){const{line:i,target:n,above:o,below:r,area:l,scale:h}=t,c=i._loop?"angle":t.axis;e.save(),c==="x"&&r!==o&&($c(e,n,l.top),Gc(e,{line:i,target:n,color:o,scale:h,property:c}),e.restore(),e.save(),$c(e,n,l.bottom)),Gc(e,{line:i,target:n,color:r,scale:h,property:c}),e.restore()}function $c(e,t,i){const{segments:n,points:o}=t;let r=!0,l=!1;e.beginPath();for(const h of n){const{start:c,end:d}=h,p=o[c],m=o[Al(c,d,o)];r?(e.moveTo(p.x,p.y),r=!1):(e.lineTo(p.x,i),e.lineTo(p.x,p.y)),l=!!t.pathSegment(e,h,{move:l}),l?e.closePath():e.lineTo(m.x,i)}e.lineTo(t.first().x,i),e.closePath(),e.clip()}function Gc(e,t){const{line:i,target:n,property:o,color:r,scale:l}=t,h=hw(i,n,o);for(const{source:c,target:d,start:p,end:m}of h){const{style:{backgroundColor:g=r}={}}=c,y=n!==!0;e.save(),e.fillStyle=g,Tw(e,l,y&&Za(o,p,m)),e.beginPath();const x=!!i.pathSegment(e,c);let v;if(y){x?e.closePath():qc(e,n,m,o);const w=!!n.pathSegment(e,d,{move:x,reverse:!0});v=x&&w,v||qc(e,n,p,o)}e.closePath(),e.fill(v?"evenodd":"nonzero"),e.restore()}}function Tw(e,t,i){const{top:n,bottom:o}=t.chart.chartArea,{property:r,start:l,end:h}=i||{};r==="x"&&(e.beginPath(),e.rect(l,n,h-l,o-n),e.clip())}function qc(e,t,i,n){const o=t.interpolate(i,n);o&&e.lineTo(o.x,o.y)}var Dw={id:"filler",afterDatasetsUpdate(e,t,i){const n=(e.data.datasets||[]).length,o=[];let r,l,h,c;for(l=0;l<n;++l)r=e.getDatasetMeta(l),h=r.dataset,c=null,h&&h.options&&h instanceof gi&&(c={visible:e.isDatasetVisible(l),index:l,fill:dw(h,l,n),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:h}),r.$filler=c,o.push(c);for(l=0;l<n;++l)c=o[l],!(!c||c.fill===!1)&&(c.fill=uw(o,l,i.propagate))},beforeDraw(e,t,i){const n=i.drawTime==="beforeDraw",o=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let l=o.length-1;l>=0;--l){const h=o[l].$filler;h&&(h.line.updateControlPoints(r,h.axis),n&&h.fill&&Ma(e.ctx,h,r))}},beforeDatasetsDraw(e,t,i){if(i.drawTime!=="beforeDatasetsDraw")return;const n=e.getSortedVisibleDatasetMetas();for(let o=n.length-1;o>=0;--o){const r=n[o].$filler;Uc(r)&&Ma(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,i){const n=t.meta.$filler;!Uc(n)||i.drawTime!=="beforeDatasetDraw"||Ma(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Kc=(e,t)=>{let{boxHeight:i=t,boxWidth:n=t}=e;return e.usePointStyle&&(i=Math.min(i,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(t,i)}},Lw=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Xc extends Zi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i,n){this.maxWidth=t,this.maxHeight=i,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let i=Zt(t.generateLabels,[this.chart],this)||[];t.filter&&(i=i.filter(n=>t.filter(n,this.chart.data))),t.sort&&(i=i.sort((n,o)=>t.sort(n,o,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:t,ctx:i}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,o=de(n.font),r=o.size,l=this._computeTitleHeight(),{boxWidth:h,itemHeight:c}=Kc(n,r);let d,p;i.font=o.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(l,r,h,c)+10):(p=this.maxHeight,d=this._fitCols(l,o,h,c)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,i,n,o){const{ctx:r,maxWidth:l,options:{labels:{padding:h}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],p=o+h;let m=t;r.textAlign="left",r.textBaseline="middle";let g=-1,y=-p;return this.legendItems.forEach((x,v)=>{const w=n+i/2+r.measureText(x.text).width;(v===0||d[d.length-1]+w+2*h>l)&&(m+=p,d[d.length-(v>0?0:1)]=0,y+=p,g++),c[v]={left:0,top:y,row:g,width:w,height:o},d[d.length-1]+=w+h}),m}_fitCols(t,i,n,o){const{ctx:r,maxHeight:l,options:{labels:{padding:h}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],p=l-t;let m=h,g=0,y=0,x=0,v=0;return this.legendItems.forEach((w,M)=>{const{itemWidth:P,itemHeight:C}=Cw(n,i,r,w,o);M>0&&y+C+2*h>p&&(m+=g+h,d.push({width:g,height:y}),x+=g+h,v++,g=y=0),c[M]={left:x,top:y,col:v,width:P,height:C},g=Math.max(g,P),y+=C+h}),m+=g,d.push({width:g,height:y}),m}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:n,labels:{padding:o},rtl:r}}=this,l=qn(r,this.left,this.width);if(this.isHorizontal()){let h=0,c=xe(n,this.left+o,this.right-this.lineWidths[h]);for(const d of i)h!==d.row&&(h=d.row,c=xe(n,this.left+o,this.right-this.lineWidths[h])),d.top+=this.top+t+o,d.left=l.leftForLtr(l.x(c),d.width),c+=d.width+o}else{let h=0,c=xe(n,this.top+t+o,this.bottom-this.columnSizes[h].height);for(const d of i)d.col!==h&&(h=d.col,c=xe(n,this.top+t+o,this.bottom-this.columnSizes[h].height)),d.top=c,d.left+=this.left+o,d.left=l.leftForLtr(l.x(d.left),d.width),c+=d.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Er(t,this),this._draw(),Ar(t)}}_draw(){const{options:t,columnSizes:i,lineWidths:n,ctx:o}=this,{align:r,labels:l}=t,h=ne.color,c=qn(t.rtl,this.left,this.width),d=de(l.font),{padding:p}=l,m=d.size,g=m/2;let y;this.drawTitle(),o.textAlign=c.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=d.string;const{boxWidth:x,boxHeight:v,itemHeight:w}=Kc(l,m),M=function(I,N,k){if(isNaN(x)||x<=0||isNaN(v)||v<0)return;o.save();const S=yt(k.lineWidth,1);if(o.fillStyle=yt(k.fillStyle,h),o.lineCap=yt(k.lineCap,"butt"),o.lineDashOffset=yt(k.lineDashOffset,0),o.lineJoin=yt(k.lineJoin,"miter"),o.lineWidth=S,o.strokeStyle=yt(k.strokeStyle,h),o.setLineDash(yt(k.lineDash,[])),l.usePointStyle){const A={radius:v*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:S},E=c.xPlus(I,x/2),z=N+g;Kd(o,A,E,z,l.pointStyleWidth&&x)}else{const A=N+Math.max((m-v)/2,0),E=c.leftForLtr(I,x),z=bn(k.borderRadius);o.beginPath(),Object.values(z).some(U=>U!==0)?Js(o,{x:E,y:A,w:x,h:v,radius:z}):o.rect(E,A,x,v),o.fill(),S!==0&&o.stroke()}o.restore()},P=function(I,N,k){Mn(o,k.text,I,N+w/2,d,{strikethrough:k.hidden,textAlign:c.textAlign(k.textAlign)})},C=this.isHorizontal(),D=this._computeTitleHeight();C?y={x:xe(r,this.left+p,this.right-n[0]),y:this.top+p+D,line:0}:y={x:this.left+p,y:xe(r,this.top+D+p,this.bottom-i[0].height),line:0},of(this.ctx,t.textDirection);const O=w+p;this.legendItems.forEach((I,N)=>{o.strokeStyle=I.fontColor,o.fillStyle=I.fontColor;const k=o.measureText(I.text).width,S=c.textAlign(I.textAlign||(I.textAlign=l.textAlign)),A=x+g+k;let E=y.x,z=y.y;c.setWidth(this.width),C?N>0&&E+A+p>this.right&&(z=y.y+=O,y.line++,E=y.x=xe(r,this.left+p,this.right-n[y.line])):N>0&&z+O>this.bottom&&(E=y.x=E+i[y.line].width+p,y.line++,z=y.y=xe(r,this.top+D+p,this.bottom-i[y.line].height));const U=c.x(E);if(M(U,z,I),E=Qv(S,E+x+g,C?E+A:this.right,t.rtl),P(c.x(E),z,I),C)y.x+=A+p;else if(typeof I.text!="string"){const j=d.lineHeight;y.y+=Of(I,j)+p}else y.y+=O}),rf(this.ctx,t.textDirection)}drawTitle(){const t=this.options,i=t.title,n=de(i.font),o=Me(i.padding);if(!i.display)return;const r=qn(t.rtl,this.left,this.width),l=this.ctx,h=i.position,c=n.size/2,d=o.top+c;let p,m=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),p=this.top+d,m=xe(t.align,m,this.right-g);else{const x=this.columnSizes.reduce((v,w)=>Math.max(v,w.height),0);p=d+xe(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const y=xe(h,m,m+g);l.textAlign=r.textAlign(Ml(h)),l.textBaseline="middle",l.strokeStyle=i.color,l.fillStyle=i.color,l.font=n.string,Mn(l,i.text,y,p,n)}_computeTitleHeight(){const t=this.options.title,i=de(t.font),n=Me(t.padding);return t.display?i.lineHeight+n.height:0}_getLegendItemAt(t,i){let n,o,r;if(zi(t,this.left,this.right)&&zi(i,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(o=r[n],zi(t,o.left,o.left+o.width)&&zi(i,o.top,o.top+o.height))return this.legendItems[n]}return null}handleEvent(t){const i=this.options;if(!Aw(t.type,i))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const o=this._hoveredItem,r=Lw(o,n);o&&!r&&Zt(i.onLeave,[t,o,this],this),this._hoveredItem=n,n&&!r&&Zt(i.onHover,[t,n,this],this)}else n&&Zt(i.onClick,[t,n,this],this)}}function Cw(e,t,i,n,o){const r=Ow(n,e,t,i),l=Ew(o,n,t.lineHeight);return{itemWidth:r,itemHeight:l}}function Ow(e,t,i,n){let o=e.text;return o&&typeof o!="string"&&(o=o.reduce((r,l)=>r.length>l.length?r:l)),t+i.size/2+n.measureText(o).width}function Ew(e,t,i){let n=e;return typeof t.text!="string"&&(n=Of(t,i)),n}function Of(e,t){const i=e.text?e.text.length:0;return t*i}function Aw(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var Iw={id:"legend",_element:Xc,start(e,t,i){const n=e.legend=new Xc({ctx:e.ctx,options:i,chart:e});we.configure(e,n,i),we.addBox(e,n)},stop(e){we.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,i){const n=e.legend;we.configure(e,n,i),n.options=i},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,i){const n=t.datasetIndex,o=i.chart;o.isDatasetVisible(n)?(o.hide(n),t.hidden=!0):(o.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:o,color:r,useBorderRadius:l,borderRadius:h}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(i?0:void 0),p=Me(d.borderWidth);return{text:t[c.index].label,fillStyle:d.backgroundColor,fontColor:r,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:o||d.textAlign,borderRadius:l&&(h||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Il extends Zi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=i;const o=Ut(n.text)?n.text.length:1;this._padding=Me(n.padding);const r=o*de(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:i,left:n,bottom:o,right:r,options:l}=this,h=l.align;let c=0,d,p,m;return this.isHorizontal()?(p=xe(h,n,r),m=i+t,d=r-n):(l.position==="left"?(p=n+t,m=xe(h,o,i),c=qt*-.5):(p=r-t,m=xe(h,i,o),c=qt*.5),d=o-i),{titleX:p,titleY:m,maxWidth:d,rotation:c}}draw(){const t=this.ctx,i=this.options;if(!i.display)return;const n=de(i.font),r=n.lineHeight/2+this._padding.top,{titleX:l,titleY:h,maxWidth:c,rotation:d}=this._drawArgs(r);Mn(t,i.text,0,0,n,{color:i.color,maxWidth:c,rotation:d,textAlign:Ml(i.align),textBaseline:"middle",translation:[l,h]})}}function Rw(e,t){const i=new Il({ctx:e.ctx,options:t,chart:e});we.configure(e,i,t),we.addBox(e,i),e.titleBlock=i}var Rl={id:"title",_element:Il,start(e,t,i){Rw(e,i)},stop(e){const t=e.titleBlock;we.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,i){const n=e.titleBlock;we.configure(e,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vo=new WeakMap;var zw={id:"subtitle",start(e,t,i){const n=new Il({ctx:e.ctx,options:i,chart:e});we.configure(e,n,i),we.addBox(e,n),Vo.set(e,n)},stop(e){we.removeBox(e,Vo.get(e)),Vo.delete(e)},beforeUpdate(e,t,i){const n=Vo.get(e);we.configure(e,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Rs={average(e){if(!e.length)return!1;let t,i,n=new Set,o=0,r=0;for(t=0,i=e.length;t<i;++t){const h=e[t].element;if(h&&h.hasValue()){const c=h.tooltipPosition();n.add(c.x),o+=c.y,++r}}return{x:[...n].reduce((h,c)=>h+c)/n.size,y:o/r}},nearest(e,t){if(!e.length)return!1;let i=t.x,n=t.y,o=Number.POSITIVE_INFINITY,r,l,h;for(r=0,l=e.length;r<l;++r){const c=e[r].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),p=za(t,d);p<o&&(o=p,h=c)}}if(h){const c=h.tooltipPosition();i=c.x,n=c.y}return{x:i,y:n}}};function pi(e,t){return t&&(Ut(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Oi(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Fw(e,t){const{element:i,datasetIndex:n,index:o}=t,r=e.getDatasetMeta(n).controller,{label:l,value:h}=r.getLabelAndValue(o);return{chart:e,label:l,parsed:r.getParsed(o),raw:e.data.datasets[n].data[o],formattedValue:h,dataset:r.getDataset(),dataIndex:o,datasetIndex:n,element:i}}function Qc(e,t){const i=e.chart.ctx,{body:n,footer:o,title:r}=e,{boxWidth:l,boxHeight:h}=t,c=de(t.bodyFont),d=de(t.titleFont),p=de(t.footerFont),m=r.length,g=o.length,y=n.length,x=Me(t.padding);let v=x.height,w=0,M=n.reduce((D,O)=>D+O.before.length+O.lines.length+O.after.length,0);if(M+=e.beforeBody.length+e.afterBody.length,m&&(v+=m*d.lineHeight+(m-1)*t.titleSpacing+t.titleMarginBottom),M){const D=t.displayColors?Math.max(h,c.lineHeight):c.lineHeight;v+=y*D+(M-y)*c.lineHeight+(M-1)*t.bodySpacing}g&&(v+=t.footerMarginTop+g*p.lineHeight+(g-1)*t.footerSpacing);let P=0;const C=function(D){w=Math.max(w,i.measureText(D).width+P)};return i.save(),i.font=d.string,Rt(e.title,C),i.font=c.string,Rt(e.beforeBody.concat(e.afterBody),C),P=t.displayColors?l+2+t.boxPadding:0,Rt(n,D=>{Rt(D.before,C),Rt(D.lines,C),Rt(D.after,C)}),P=0,i.font=p.string,Rt(e.footer,C),i.restore(),w+=x.width,{width:w,height:v}}function Nw(e,t){const{y:i,height:n}=t;return i<n/2?"top":i>e.height-n/2?"bottom":"center"}function Bw(e,t,i,n){const{x:o,width:r}=n,l=i.caretSize+i.caretPadding;if(e==="left"&&o+r+l>t.width||e==="right"&&o-r-l<0)return!0}function Ww(e,t,i,n){const{x:o,width:r}=i,{width:l,chartArea:{left:h,right:c}}=e;let d="center";return n==="center"?d=o<=(h+c)/2?"left":"right":o<=r/2?d="left":o>=l-r/2&&(d="right"),Bw(d,e,t,i)&&(d="center"),d}function Jc(e,t,i){const n=i.yAlign||t.yAlign||Nw(e,i);return{xAlign:i.xAlign||t.xAlign||Ww(e,t,i,n),yAlign:n}}function Yw(e,t){let{x:i,width:n}=e;return t==="right"?i-=n:t==="center"&&(i-=n/2),i}function Hw(e,t,i){let{y:n,height:o}=e;return t==="top"?n+=i:t==="bottom"?n-=o+i:n-=o/2,n}function tu(e,t,i,n){const{caretSize:o,caretPadding:r,cornerRadius:l}=e,{xAlign:h,yAlign:c}=i,d=o+r,{topLeft:p,topRight:m,bottomLeft:g,bottomRight:y}=bn(l);let x=Yw(t,h);const v=Hw(t,c,d);return c==="center"?h==="left"?x+=d:h==="right"&&(x-=d):h==="left"?x-=Math.max(p,g)+o:h==="right"&&(x+=Math.max(m,y)+o),{x:me(x,0,n.width-t.width),y:me(v,0,n.height-t.height)}}function Zo(e,t,i){const n=Me(i.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function eu(e){return pi([],Oi(e))}function Vw(e,t,i){return nn(e,{tooltip:t,tooltipItems:i,type:"tooltip"})}function iu(e,t){const i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}const Ef={beforeTitle:Li,title(e){if(e.length>0){const t=e[0],i=t.chart.data.labels,n=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return i[t.dataIndex]}return""},afterTitle:Li,beforeBody:Li,beforeLabel:Li,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const i=e.formattedValue;return Dt(i)||(t+=i),t},labelColor(e){const i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:Li,afterBody:Li,beforeFooter:Li,footer:Li,afterFooter:Li};function Le(e,t,i,n){const o=e[t].call(i,n);return typeof o>"u"?Ef[t].call(i,n):o}class ja extends Zi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,n=this.options.setContext(this.getContext()),o=n.enabled&&i.options.animation&&n.animations,r=new cf(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Vw(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:n}=i,o=Le(n,"beforeTitle",this,t),r=Le(n,"title",this,t),l=Le(n,"afterTitle",this,t);let h=[];return h=pi(h,Oi(o)),h=pi(h,Oi(r)),h=pi(h,Oi(l)),h}getBeforeBody(t,i){return eu(Le(i.callbacks,"beforeBody",this,t))}getBody(t,i){const{callbacks:n}=i,o=[];return Rt(t,r=>{const l={before:[],lines:[],after:[]},h=iu(n,r);pi(l.before,Oi(Le(h,"beforeLabel",this,r))),pi(l.lines,Le(h,"label",this,r)),pi(l.after,Oi(Le(h,"afterLabel",this,r))),o.push(l)}),o}getAfterBody(t,i){return eu(Le(i.callbacks,"afterBody",this,t))}getFooter(t,i){const{callbacks:n}=i,o=Le(n,"beforeFooter",this,t),r=Le(n,"footer",this,t),l=Le(n,"afterFooter",this,t);let h=[];return h=pi(h,Oi(o)),h=pi(h,Oi(r)),h=pi(h,Oi(l)),h}_createItems(t){const i=this._active,n=this.chart.data,o=[],r=[],l=[];let h=[],c,d;for(c=0,d=i.length;c<d;++c)h.push(Fw(this.chart,i[c]));return t.filter&&(h=h.filter((p,m,g)=>t.filter(p,m,g,n))),t.itemSort&&(h=h.sort((p,m)=>t.itemSort(p,m,n))),Rt(h,p=>{const m=iu(t.callbacks,p);o.push(Le(m,"labelColor",this,p)),r.push(Le(m,"labelPointStyle",this,p)),l.push(Le(m,"labelTextColor",this,p))}),this.labelColors=o,this.labelPointStyles=r,this.labelTextColors=l,this.dataPoints=h,h}update(t,i){const n=this.options.setContext(this.getContext()),o=this._active;let r,l=[];if(!o.length)this.opacity!==0&&(r={opacity:0});else{const h=Rs[n.position].call(this,o,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);const c=this._size=Qc(this,n),d=Object.assign({},h,c),p=Jc(this.chart,n,d),m=tu(n,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,r={opacity:1,x:m.x,y:m.y,width:c.width,height:c.height,caretX:h.x,caretY:h.y}}this._tooltipItems=l,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,n,o){const r=this.getCaretPosition(t,n,o);i.lineTo(r.x1,r.y1),i.lineTo(r.x2,r.y2),i.lineTo(r.x3,r.y3)}getCaretPosition(t,i,n){const{xAlign:o,yAlign:r}=this,{caretSize:l,cornerRadius:h}=n,{topLeft:c,topRight:d,bottomLeft:p,bottomRight:m}=bn(h),{x:g,y}=t,{width:x,height:v}=i;let w,M,P,C,D,O;return r==="center"?(D=y+v/2,o==="left"?(w=g,M=w-l,C=D+l,O=D-l):(w=g+x,M=w+l,C=D-l,O=D+l),P=w):(o==="left"?M=g+Math.max(c,p)+l:o==="right"?M=g+x-Math.max(d,m)-l:M=this.caretX,r==="top"?(C=y,D=C-l,w=M-l,P=M+l):(C=y+v,D=C+l,w=M+l,P=M-l),O=C),{x1:w,x2:M,x3:P,y1:C,y2:D,y3:O}}drawTitle(t,i,n){const o=this.title,r=o.length;let l,h,c;if(r){const d=qn(n.rtl,this.x,this.width);for(t.x=Zo(this,n.titleAlign,n),i.textAlign=d.textAlign(n.titleAlign),i.textBaseline="middle",l=de(n.titleFont),h=n.titleSpacing,i.fillStyle=n.titleColor,i.font=l.string,c=0;c<r;++c)i.fillText(o[c],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+h,c+1===r&&(t.y+=n.titleMarginBottom-h)}}_drawColorBox(t,i,n,o,r){const l=this.labelColors[n],h=this.labelPointStyles[n],{boxHeight:c,boxWidth:d}=r,p=de(r.bodyFont),m=Zo(this,"left",r),g=o.x(m),y=c<p.lineHeight?(p.lineHeight-c)/2:0,x=i.y+y;if(r.usePointStyle){const v={radius:Math.min(d,c)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},w=o.leftForLtr(g,d)+d/2,M=x+c/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Na(t,v,w,M),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Na(t,v,w,M)}else{t.lineWidth=Mt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const v=o.leftForLtr(g,d),w=o.leftForLtr(o.xPlus(g,1),d-2),M=bn(l.borderRadius);Object.values(M).some(P=>P!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Js(t,{x:v,y:x,w:d,h:c,radius:M}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Js(t,{x:w,y:x+1,w:d-2,h:c-2,radius:M}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(v,x,d,c),t.strokeRect(v,x,d,c),t.fillStyle=l.backgroundColor,t.fillRect(w,x+1,d-2,c-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,i,n){const{body:o}=this,{bodySpacing:r,bodyAlign:l,displayColors:h,boxHeight:c,boxWidth:d,boxPadding:p}=n,m=de(n.bodyFont);let g=m.lineHeight,y=0;const x=qn(n.rtl,this.x,this.width),v=function(k){i.fillText(k,x.x(t.x+y),t.y+g/2),t.y+=g+r},w=x.textAlign(l);let M,P,C,D,O,I,N;for(i.textAlign=l,i.textBaseline="middle",i.font=m.string,t.x=Zo(this,w,n),i.fillStyle=n.bodyColor,Rt(this.beforeBody,v),y=h&&w!=="right"?l==="center"?d/2+p:d+2+p:0,D=0,I=o.length;D<I;++D){for(M=o[D],P=this.labelTextColors[D],i.fillStyle=P,Rt(M.before,v),C=M.lines,h&&C.length&&(this._drawColorBox(i,t,D,x,n),g=Math.max(m.lineHeight,c)),O=0,N=C.length;O<N;++O)v(C[O]),g=m.lineHeight;Rt(M.after,v)}y=0,g=m.lineHeight,Rt(this.afterBody,v),t.y-=r}drawFooter(t,i,n){const o=this.footer,r=o.length;let l,h;if(r){const c=qn(n.rtl,this.x,this.width);for(t.x=Zo(this,n.footerAlign,n),t.y+=n.footerMarginTop,i.textAlign=c.textAlign(n.footerAlign),i.textBaseline="middle",l=de(n.footerFont),i.fillStyle=n.footerColor,i.font=l.string,h=0;h<r;++h)i.fillText(o[h],c.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+n.footerSpacing}}drawBackground(t,i,n,o){const{xAlign:r,yAlign:l}=this,{x:h,y:c}=t,{width:d,height:p}=n,{topLeft:m,topRight:g,bottomLeft:y,bottomRight:x}=bn(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(h+m,c),l==="top"&&this.drawCaret(t,i,n,o),i.lineTo(h+d-g,c),i.quadraticCurveTo(h+d,c,h+d,c+g),l==="center"&&r==="right"&&this.drawCaret(t,i,n,o),i.lineTo(h+d,c+p-x),i.quadraticCurveTo(h+d,c+p,h+d-x,c+p),l==="bottom"&&this.drawCaret(t,i,n,o),i.lineTo(h+y,c+p),i.quadraticCurveTo(h,c+p,h,c+p-y),l==="center"&&r==="left"&&this.drawCaret(t,i,n,o),i.lineTo(h,c+m),i.quadraticCurveTo(h,c,h+m,c),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,n=this.$animations,o=n&&n.x,r=n&&n.y;if(o||r){const l=Rs[t.position].call(this,this._active,this._eventPosition);if(!l)return;const h=this._size=Qc(this,t),c=Object.assign({},l,this._size),d=Jc(i,t,c),p=tu(t,c,d,i);(o._to!==p.x||r._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=h.width,this.height=h.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(i);const o={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const l=Me(i.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&h&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,o,i),of(t,i.textDirection),r.y+=l.top,this.drawTitle(r,t,i),this.drawBody(r,t,i),this.drawFooter(r,t,i),rf(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const n=this._active,o=t.map(({datasetIndex:h,index:c})=>{const d=this.chart.getDatasetMeta(h);if(!d)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:d.data[c],index:c}}),r=!cr(n,o),l=this._positionChanged(o,i);(r||l)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,n=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,r=this._active||[],l=this._getActiveElements(t,r,i,n),h=this._positionChanged(l,t),c=i||!cr(l,r)||h;return c&&(this._active=l,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),c}_getActiveElements(t,i,n,o){const r=this.options;if(t.type==="mouseout")return[];if(!o)return i.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&l.reverse(),l}_positionChanged(t,i){const{caretX:n,caretY:o,options:r}=this,l=Rs[r.position].call(this,t,i);return l!==!1&&(n!==l.x||o!==l.y)}}Q(ja,"positioners",Rs);var zl={id:"tooltip",_element:ja,positioners:Rs,afterInit(e,t,i){i&&(e.tooltip=new ja({chart:e,options:i}))},beforeUpdate(e,t,i){e.tooltip&&e.tooltip.initialize(i)},reset(e,t,i){e.tooltip&&e.tooltip.initialize(i)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const i={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",i)}},afterEvent(e,t){if(e.tooltip){const i=t.replay;e.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ef},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Zw=Object.freeze({__proto__:null,Colors:sw,Decimation:lw,Filler:Dw,Legend:Iw,SubTitle:zw,Title:Rl,Tooltip:zl});const jw=(e,t,i,n)=>(typeof t=="string"?(i=e.push(t)-1,n.unshift({index:i,label:t})):isNaN(t)&&(i=null),i);function Uw(e,t,i,n){const o=e.indexOf(t);if(o===-1)return jw(e,t,i,n);const r=e.lastIndexOf(t);return o!==r?i:o}const $w=(e,t)=>e===null?null:me(Math.round(e),0,t);function nu(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class gr extends On{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const i=this._addedLabels;if(i.length){const n=this.getLabels();for(const{index:o,label:r}of i)n[o]===r&&n.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(Dt(t))return null;const n=this.getLabels();return i=isFinite(i)&&n[i]===t?i:Uw(n,t,yt(i,t),this._addedLabels),$w(i,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:n,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),i||(o=this.getLabels().length-1)),this.min=n,this.max=o}buildTicks(){const t=this.min,i=this.max,n=this.options.offset,o=[];let r=this.getLabels();r=t===0&&i===r.length-1?r:r.slice(t,i+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=t;l<=i;l++)o.push({value:l});return o}getLabelForValue(t){return nu.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Q(gr,"id","category"),Q(gr,"defaults",{ticks:{callback:nu}});function Gw(e,t){const i=[],{bounds:o,step:r,min:l,max:h,precision:c,count:d,maxTicks:p,maxDigits:m,includeBounds:g}=e,y=r||1,x=p-1,{min:v,max:w}=t,M=!Dt(l),P=!Dt(h),C=!Dt(d),D=(w-v)/(m+1);let O=Xh((w-v)/x/y)*y,I,N,k,S;if(O<1e-14&&!M&&!P)return[{value:v},{value:w}];S=Math.ceil(w/O)-Math.floor(v/O),S>x&&(O=Xh(S*O/x/y)*y),Dt(c)||(I=Math.pow(10,c),O=Math.ceil(O*I)/I),o==="ticks"?(N=Math.floor(v/O)*O,k=Math.ceil(w/O)*O):(N=v,k=w),M&&P&&r&&jv((h-l)/r,O/1e3)?(S=Math.round(Math.min((h-l)/O,p)),O=(h-l)/S,N=l,k=h):C?(N=M?l:N,k=P?h:k,S=d-1,O=(k-N)/S):(S=(k-N)/O,Bs(S,Math.round(S),O/1e3)?S=Math.round(S):S=Math.ceil(S));const A=Math.max(Qh(O),Qh(N));I=Math.pow(10,Dt(c)?A:c),N=Math.round(N*I)/I,k=Math.round(k*I)/I;let E=0;for(M&&(g&&N!==l?(i.push({value:l}),N<l&&E++,Bs(Math.round((N+E*O)*I)/I,l,su(l,D,e))&&E++):N<l&&E++);E<S;++E){const z=Math.round((N+E*O)*I)/I;if(P&&z>h)break;i.push({value:z})}return P&&g&&k!==h?i.length&&Bs(i[i.length-1].value,h,su(h,D,e))?i[i.length-1].value=h:i.push({value:h}):(!P||k===h)&&i.push({value:k}),i}function su(e,t,{horizontal:i,minRotation:n}){const o=ti(n),r=(i?Math.sin(o):Math.cos(o))||.001,l=.75*t*(""+e).length;return Math.min(t/r,l)}class yr extends On{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,i){return Dt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:i,maxDefined:n}=this.getUserBounds();let{min:o,max:r}=this;const l=c=>o=i?o:c,h=c=>r=n?r:c;if(t){const c=vi(o),d=vi(r);c<0&&d<0?h(0):c>0&&d>0&&l(0)}if(o===r){let c=r===0?1:Math.abs(r*.05);h(r+c),t||l(o-c)}this.min=o,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:i,stepSize:n}=t,o;return n?(o=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),i=i||11),i&&(o=Math.min(i,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,i=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const o={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},r=this._range||this,l=Gw(o,r);return t.bounds==="ticks"&&Yd(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let i=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const o=(n-i)/Math.max(t.length-1,1)/2;i-=o,n+=o}this._startValue=i,this._endValue=n,this._valueRange=n-i}getLabelForValue(t){return ho(t,this.chart.options.locale,this.options.ticks.format)}}class Sn extends yr{determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=ie(t)?t:0,this.max=ie(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),i=t?this.width:this.height,n=ti(this.options.ticks.minRotation),o=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,r.lineHeight/o))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Q(Sn,"id","linear"),Q(Sn,"defaults",{ticks:{callback:Or.formatters.numeric}});const eo=e=>Math.floor(Ki(e)),pn=(e,t)=>Math.pow(10,eo(e)+t);function ou(e){return e/Math.pow(10,eo(e))===1}function ru(e,t,i){const n=Math.pow(10,i),o=Math.floor(e/n);return Math.ceil(t/n)-o}function qw(e,t){const i=t-e;let n=eo(i);for(;ru(e,t,n)>10;)n++;for(;ru(e,t,n)<10;)n--;return Math.min(n,eo(e))}function Kw(e,{min:t,max:i}){t=Ae(e.min,t);const n=[],o=eo(t);let r=qw(t,i),l=r<0?Math.pow(10,Math.abs(r)):1;const h=Math.pow(10,r),c=o>r?Math.pow(10,o):0,d=Math.round((t-c)*l)/l,p=Math.floor((t-c)/h/10)*h*10;let m=Math.floor((d-p)/Math.pow(10,r)),g=Ae(e.min,Math.round((c+p+m*Math.pow(10,r))*l)/l);for(;g<i;)n.push({value:g,major:ou(g),significand:m}),m>=10?m=m<15?15:20:m++,m>=20&&(r++,m=2,l=r>=0?1:l),g=Math.round((c+p+m*Math.pow(10,r))*l)/l;const y=Ae(e.max,g);return n.push({value:y,major:ou(y),significand:m}),n}class Ua extends On{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,i){const n=yr.prototype.parse.apply(this,[t,i]);if(n===0){this._zero=!0;return}return ie(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=ie(t)?Math.max(0,t):null,this.max=ie(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ie(this._userMin)&&(this.min=t===pn(this.min,0)?pn(this.min,-1):pn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let n=this.min,o=this.max;const r=h=>n=t?n:h,l=h=>o=i?o:h;n===o&&(n<=0?(r(1),l(10)):(r(pn(n,-1)),l(pn(o,1)))),n<=0&&r(pn(o,-1)),o<=0&&l(pn(n,1)),this.min=n,this.max=o}buildTicks(){const t=this.options,i={min:this._userMin,max:this._userMax},n=Kw(i,this);return t.bounds==="ticks"&&Yd(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":ho(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ki(t),this._valueRange=Ki(this.max)-Ki(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ki(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const i=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+i*this._valueRange)}}Q(Ua,"id","logarithmic"),Q(Ua,"defaults",{ticks:{callback:Or.formatters.logarithmic,major:{enabled:!0}}});function $a(e){const t=e.ticks;if(t.display&&e.display){const i=Me(t.backdropPadding);return yt(t.font&&t.font.size,ne.font.size)+i.height}return 0}function Xw(e,t,i){return i=Ut(i)?i:[i],{w:l0(e,t.string,i),h:i.length*t.lineHeight}}function au(e,t,i,n,o){return e===n||e===o?{start:t-i/2,end:t+i/2}:e<n||e>o?{start:t-i,end:t}:{start:t,end:t+i}}function Qw(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},i=Object.assign({},t),n=[],o=[],r=e._pointLabels.length,l=e.options.pointLabels,h=l.centerPointLabels?qt/r:0;for(let c=0;c<r;c++){const d=l.setContext(e.getPointLabelContext(c));o[c]=d.padding;const p=e.getPointPosition(c,e.drawingArea+o[c],h),m=de(d.font),g=Xw(e.ctx,m,e._pointLabels[c]);n[c]=g;const y=Ie(e.getIndexAngle(c)+h),x=Math.round(wl(y)),v=au(x,p.x,g.w,0,180),w=au(x,p.y,g.h,90,270);Jw(i,t,y,v,w)}e.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),e._pointLabelItems=ik(e,n,o)}function Jw(e,t,i,n,o){const r=Math.abs(Math.sin(i)),l=Math.abs(Math.cos(i));let h=0,c=0;n.start<t.l?(h=(t.l-n.start)/r,e.l=Math.min(e.l,t.l-h)):n.end>t.r&&(h=(n.end-t.r)/r,e.r=Math.max(e.r,t.r+h)),o.start<t.t?(c=(t.t-o.start)/l,e.t=Math.min(e.t,t.t-c)):o.end>t.b&&(c=(o.end-t.b)/l,e.b=Math.max(e.b,t.b+c))}function tk(e,t,i){const n=e.drawingArea,{extra:o,additionalAngle:r,padding:l,size:h}=i,c=e.getPointPosition(t,n+o+l,r),d=Math.round(wl(Ie(c.angle+re))),p=ok(c.y,h.h,d),m=nk(d),g=sk(c.x,h.w,m);return{visible:!0,x:c.x,y:p,textAlign:m,left:g,top:p,right:g+h.w,bottom:p+h.h}}function ek(e,t){if(!t)return!0;const{left:i,top:n,right:o,bottom:r}=e;return!(Ni({x:i,y:n},t)||Ni({x:i,y:r},t)||Ni({x:o,y:n},t)||Ni({x:o,y:r},t))}function ik(e,t,i){const n=[],o=e._pointLabels.length,r=e.options,{centerPointLabels:l,display:h}=r.pointLabels,c={extra:$a(r)/2,additionalAngle:l?qt/o:0};let d;for(let p=0;p<o;p++){c.padding=i[p],c.size=t[p];const m=tk(e,p,c);n.push(m),h==="auto"&&(m.visible=ek(m,d),m.visible&&(d=m))}return n}function nk(e){return e===0||e===180?"center":e<180?"left":"right"}function sk(e,t,i){return i==="right"?e-=t:i==="center"&&(e-=t/2),e}function ok(e,t,i){return i===90||i===270?e-=t/2:(i>270||i<90)&&(e-=t),e}function rk(e,t,i){const{left:n,top:o,right:r,bottom:l}=i,{backdropColor:h}=t;if(!Dt(h)){const c=bn(t.borderRadius),d=Me(t.backdropPadding);e.fillStyle=h;const p=n-d.left,m=o-d.top,g=r-n+d.width,y=l-o+d.height;Object.values(c).some(x=>x!==0)?(e.beginPath(),Js(e,{x:p,y:m,w:g,h:y,radius:c}),e.fill()):e.fillRect(p,m,g,y)}}function ak(e,t){const{ctx:i,options:{pointLabels:n}}=e;for(let o=t-1;o>=0;o--){const r=e._pointLabelItems[o];if(!r.visible)continue;const l=n.setContext(e.getPointLabelContext(o));rk(i,l,r);const h=de(l.font),{x:c,y:d,textAlign:p}=r;Mn(i,e._pointLabels[o],c,d+h.lineHeight/2,h,{color:l.color,textAlign:p,textBaseline:"middle"})}}function Af(e,t,i,n){const{ctx:o}=e;if(i)o.arc(e.xCenter,e.yCenter,t,0,$t);else{let r=e.getPointPosition(0,t);o.moveTo(r.x,r.y);for(let l=1;l<n;l++)r=e.getPointPosition(l,t),o.lineTo(r.x,r.y)}}function lk(e,t,i,n,o){const r=e.ctx,l=t.circular,{color:h,lineWidth:c}=t;!l&&!n||!h||!c||i<0||(r.save(),r.strokeStyle=h,r.lineWidth=c,r.setLineDash(o.dash),r.lineDashOffset=o.dashOffset,r.beginPath(),Af(e,i,l,n),r.closePath(),r.stroke(),r.restore())}function hk(e,t,i){return nn(e,{label:i,index:t,type:"pointLabel"})}class zs extends yr{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Me($a(this.options)/2),i=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+i/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(i,n)/2)}determineDataLimits(){const{min:t,max:i}=this.getMinMax(!1);this.min=ie(t)&&!isNaN(t)?t:0,this.max=ie(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/$a(this.options))}generateTickLabels(t){yr.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((i,n)=>{const o=Zt(this.options.pointLabels.callback,[i,n],this);return o||o===0?o:""}).filter((i,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?Qw(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,i,n,o){this.xCenter+=Math.floor((t-i)/2),this.yCenter+=Math.floor((n-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,i,n,o))}getIndexAngle(t){const i=$t/(this._pointLabels.length||1),n=this.options.startAngle||0;return Ie(t*i+ti(n))}getDistanceFromCenterForValue(t){if(Dt(t))return NaN;const i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*i:(t-this.min)*i}getValueForDistanceFromCenter(t){if(Dt(t))return NaN;const i=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(t){const i=this._pointLabels||[];if(t>=0&&t<i.length){const n=i[t];return hk(this.getContext(),t,n)}}getPointPosition(t,i,n=0){const o=this.getIndexAngle(t)-re+n;return{x:Math.cos(o)*i+this.xCenter,y:Math.sin(o)*i+this.yCenter,angle:o}}getPointPositionForValue(t,i){return this.getPointPosition(t,this.getDistanceFromCenterForValue(i))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:i,top:n,right:o,bottom:r}=this._pointLabelItems[t];return{left:i,top:n,right:o,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:i}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),Af(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,i=this.options,{angleLines:n,grid:o,border:r}=i,l=this._pointLabels.length;let h,c,d;if(i.pointLabels.display&&ak(this,l),o.display&&this.ticks.forEach((p,m)=>{if(m!==0||m===0&&this.min<0){c=this.getDistanceFromCenterForValue(p.value);const g=this.getContext(m),y=o.setContext(g),x=r.setContext(g);lk(this,y,c,l,x)}}),n.display){for(t.save(),h=l-1;h>=0;h--){const p=n.setContext(this.getPointLabelContext(h)),{color:m,lineWidth:g}=p;!g||!m||(t.lineWidth=g,t.strokeStyle=m,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,c=this.getDistanceFromCenterForValue(i.ticks.reverse?this.min:this.max),d=this.getPointPosition(h,c),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,i=this.options,n=i.ticks;if(!n.display)return;const o=this.getIndexAngle(0);let r,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((h,c)=>{if(c===0&&this.min>=0&&!i.reverse)return;const d=n.setContext(this.getContext(c)),p=de(d.font);if(r=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){t.font=p.string,l=t.measureText(h.label).width,t.fillStyle=d.backdropColor;const m=Me(d.backdropPadding);t.fillRect(-l/2-m.left,-r-p.size/2-m.top,l+m.width,p.size+m.height)}Mn(t,h.label,0,-r,p,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}Q(zs,"id","radialLinear"),Q(zs,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Or.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),Q(zs,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Q(zs,"descriptors",{angleLines:{_fallback:"grid"}});const Rr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ee=Object.keys(Rr);function lu(e,t){return e-t}function hu(e,t){if(Dt(t))return null;const i=e._adapter,{parser:n,round:o,isoWeekday:r}=e._parseOpts;let l=t;return typeof n=="function"&&(l=n(l)),ie(l)||(l=typeof n=="string"?i.parse(l,n):i.parse(l)),l===null?null:(o&&(l=o==="week"&&(es(r)||r===!0)?i.startOf(l,"isoWeek",r):i.startOf(l,o)),+l)}function cu(e,t,i,n){const o=Ee.length;for(let r=Ee.indexOf(e);r<o-1;++r){const l=Rr[Ee[r]],h=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((i-t)/(h*l.size))<=n)return Ee[r]}return Ee[o-1]}function ck(e,t,i,n,o){for(let r=Ee.length-1;r>=Ee.indexOf(i);r--){const l=Ee[r];if(Rr[l].common&&e._adapter.diff(o,n,l)>=t-1)return l}return Ee[i?Ee.indexOf(i):0]}function uk(e){for(let t=Ee.indexOf(e)+1,i=Ee.length;t<i;++t)if(Rr[Ee[t]].common)return Ee[t]}function uu(e,t,i){if(!i)e[t]=!0;else if(i.length){const{lo:n,hi:o}=kl(i,t),r=i[n]>=t?i[n]:i[o];e[r]=!0}}function dk(e,t,i,n){const o=e._adapter,r=+o.startOf(t[0].value,n),l=t[t.length-1].value;let h,c;for(h=r;h<=l;h=+o.add(h,1,n))c=i[h],c>=0&&(t[c].major=!0);return t}function du(e,t,i){const n=[],o={},r=t.length;let l,h;for(l=0;l<r;++l)h=t[l],o[h]=l,n.push({value:h,major:!1});return r===0||!i?n:dk(e,n,o,i)}class io extends On{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){const n=t.time||(t.time={}),o=this._adapter=new ff._date(t.adapters.date);o.init(i),Ns(n.displayFormats,o.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:hu(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,n=t.time.unit||"day";let{min:o,max:r,minDefined:l,maxDefined:h}=this.getUserBounds();function c(d){!l&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!h&&!isNaN(d.max)&&(r=Math.max(r,d.max))}(!l||!h)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=ie(o)&&!isNaN(o)?o:+i.startOf(Date.now(),n),r=ie(r)&&!isNaN(r)?r:+i.endOf(Date.now(),n)+1,this.min=Math.min(o,r-1),this.max=Math.max(o+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],n=t[t.length-1]),{min:i,max:n}}buildTicks(){const t=this.options,i=t.time,n=t.ticks,o=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const r=this.min,l=this.max,h=qv(o,r,l);return this._unit=i.unit||(n.autoSkip?cu(i.minUnit,this.min,this.max,this._getLabelCapacity(r)):ck(this,h.length,i.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:uk(this._unit),this.initOffsets(o),t.reverse&&h.reverse(),du(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i=0,n=0,o,r;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?i=1-o:i=(this.getDecimalForValue(t[1])-o)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?n=r:n=(r-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;i=me(i,0,l),n=me(n,0,l),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){const t=this._adapter,i=this.min,n=this.max,o=this.options,r=o.time,l=r.unit||cu(r.minUnit,i,n,this._getLabelCapacity(i)),h=yt(o.ticks.stepSize,1),c=l==="week"?r.isoWeekday:!1,d=es(c)||c===!0,p={};let m=i,g,y;if(d&&(m=+t.startOf(m,"isoWeek",c)),m=+t.startOf(m,d?"day":l),t.diff(n,i,l)>1e5*h)throw new Error(i+" and "+n+" are too far apart with stepSize of "+h+" "+l);const x=o.ticks.source==="data"&&this.getDataTimestamps();for(g=m,y=0;g<n;g=+t.add(g,h,l),y++)uu(p,g,x);return(g===n||o.bounds==="ticks"||y===1)&&uu(p,g,x),Object.keys(p).sort(lu).map(v=>+v)}getLabelForValue(t){const i=this._adapter,n=this.options.time;return n.tooltipFormat?i.format(t,n.tooltipFormat):i.format(t,n.displayFormats.datetime)}format(t,i){const o=this.options.time.displayFormats,r=this._unit,l=i||o[r];return this._adapter.format(t,l)}_tickFormatFunction(t,i,n,o){const r=this.options,l=r.ticks.callback;if(l)return Zt(l,[t,i,n],this);const h=r.time.displayFormats,c=this._unit,d=this._majorUnit,p=c&&h[c],m=d&&h[d],g=n[i],y=d&&m&&g&&g.major;return this._adapter.format(t,o||(y?m:p))}generateTickLabels(t){let i,n,o;for(i=0,n=t.length;i<n;++i)o=t[i],o.label=this._tickFormatFunction(o.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+n)*i.factor)}getValueForPixel(t){const i=this._offsets,n=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,n=this.ctx.measureText(t).width,o=ti(this.isHorizontal()?i.maxRotation:i.minRotation),r=Math.cos(o),l=Math.sin(o),h=this._resolveTickFontOptions(0).size;return{w:n*r+h*l,h:n*l+h*r}}_getLabelCapacity(t){const i=this.options.time,n=i.displayFormats,o=n[i.unit]||n.millisecond,r=this._tickFormatFunction(t,0,du(this,[t],this._majorUnit),o),l=this._getLabelSize(r),h=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],i,n;if(t.length)return t;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,n=o.length;i<n;++i)t=t.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,n;if(t.length)return t;const o=this.getLabels();for(i=0,n=o.length;i<n;++i)t.push(hu(this,o[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Zd(t.sort(lu))}}Q(io,"id","time"),Q(io,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function jo(e,t,i){let n=0,o=e.length-1,r,l,h,c;i?(t>=e[n].pos&&t<=e[o].pos&&({lo:n,hi:o}=Fi(e,"pos",t)),{pos:r,time:h}=e[n],{pos:l,time:c}=e[o]):(t>=e[n].time&&t<=e[o].time&&({lo:n,hi:o}=Fi(e,"time",t)),{time:r,pos:h}=e[n],{time:l,pos:c}=e[o]);const d=l-r;return d?h+(c-h)*(t-r)/d:h}class Ga extends io{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(t);this._minPos=jo(i,this.min),this._tableRange=jo(i,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:i,max:n}=this,o=[],r=[];let l,h,c,d,p;for(l=0,h=t.length;l<h;++l)d=t[l],d>=i&&d<=n&&o.push(d);if(o.length<2)return[{time:i,pos:0},{time:n,pos:1}];for(l=0,h=o.length;l<h;++l)p=o[l+1],c=o[l-1],d=o[l],Math.round((p+c)/2)!==d&&r.push({time:d,pos:l/(h-1)});return r}_generate(){const t=this.min,i=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(i)||n.length===1)&&n.push(i),n.sort((o,r)=>o-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const i=this.getDataTimestamps(),n=this.getLabelTimestamps();return i.length&&n.length?t=this.normalize(i.concat(n)):t=i.length?i:n,t=this._cache.all=t,t}getDecimalForValue(t){return(jo(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const i=this._offsets,n=this.getDecimalForPixel(t)/i.factor-i.end;return jo(this._table,n*this._tableRange+this._minPos,!0)}}Q(Ga,"id","timeseries"),Q(Ga,"defaults",io.defaults);var fk=Object.freeze({__proto__:null,CategoryScale:gr,LinearScale:Sn,LogarithmicScale:Ua,RadialLinearScale:zs,TimeScale:io,TimeSeriesScale:Ga});const pk=[kb,Qx,Zw,fk];ye.register(...pk);/*!
  * chartjs-adapter-moment v1.0.1
  * https://www.chartjs.org
  * (c) 2022 chartjs-adapter-moment Contributors
  * Released under the MIT license
  */const mk={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};ff._date.override(typeof G=="function"?{_id:"moment",formats:function(){return mk},parse:function(e,t){return typeof e=="string"&&typeof t=="string"?e=G(e,t):e instanceof G||(e=G(e)),e.isValid()?e.valueOf():null},format:function(e,t){return G(e).format(t)},add:function(e,t,i){return G(e).add(t,i).valueOf()},diff:function(e,t,i){return G(e).diff(G(t),i)},startOf:function(e,t,i){return e=G(e),t==="isoWeek"?(i=Math.trunc(Math.min(Math.max(0,i),6)),e.isoWeekday(i).startOf("day").valueOf()):e.startOf(t).valueOf()},endOf:function(e,t){return G(e).endOf(t).valueOf()}}:{});const{parse:_k}=Id;let gk="https://raw.githubusercontent.com/JannesPeeters/suncharge/main/data/";async function vr(e,...t){try{const i=gk+e+".csv",n=await fetch(i);if(!n.ok)throw new Error(`Failed to fetch CSV data: ${n.statusText}`);console.log("Fetching "+e+" file");const o=await n.text(),r={},l=yk(o,r,...t);return r}catch(i){console.error("Error fetching CSV data:",i)}}function yk(e,t,...i){console.log("Processing csv data");const n=_k(e,{header:!0});if(!n.data||!n.data.length)return console.error("Error: Empty CSV data or invalid format"),[];const o=n.data.slice(2);for(const h of i)t[h]=o.map(c=>c[h]);const r=o.map(h=>h.SalesOrderCreationDate),l=o.map(h=>parseFloat(h.OrderQuantity));return{labels:r,quantity:l}}function fu(e,t,i,n,...o){console.log("extracting data between "+t+" and "+i);const r=e[o[0]].reduce((h,c,d)=>{const p=new Date(c);if(p>=t&&p<=i){const m=p.toDateString();h[m]=h[m]||{};for(let g=1;g<o.length;g++){const y=o[g];h[m][y]=(h[m][y]||0)+Number(e[y][d])}}return h},{}),l=Object.keys(r).sort((h,c)=>new Date(h)-new Date(c));n[o[0]]=l;for(let h=1;h<o.length;h++){const c=o[h];n[c]=l.map(d=>r[d][c])}return G&&n[o[0]].forEach((h,c)=>{n[o[0]][c]=G(h).format("MM-DD-YYYY")}),1}function pu(e){const t=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${i}-${n}`}function vk(e){let t,i,n,o="Start Date:",r,l,h,c,d="End Date:",p,m,g,y,x,v;return{c(){t=K("div"),i=K("div"),n=K("label"),n.textContent=o,r=_t(),l=K("input"),h=_t(),c=K("label"),c.textContent=d,p=_t(),m=K("input"),g=_t(),y=K("canvas"),this.h()},l(w){t=X(w,"DIV",{class:!0});var M=at(t);i=X(M,"DIV",{class:!0});var P=at(i);n=X(P,"LABEL",{for:!0,"data-svelte-h":!0}),je(n)!=="svelte-a381xo"&&(n.textContent=o),r=gt(P),l=X(P,"INPUT",{type:!0,id:!0}),h=gt(P),c=X(P,"LABEL",{for:!0,"data-svelte-h":!0}),je(c)!=="svelte-1gbtc26"&&(c.textContent=d),p=gt(P),m=X(P,"INPUT",{type:!0,id:!0}),P.forEach(W),g=gt(M),y=X(M,"CANVAS",{id:!0,width:!0,height:!0}),at(y).forEach(W),M.forEach(W),this.h()},h(){rt(n,"for","startDate"),rt(l,"type","date"),rt(l,"id","startDate"),l.value="2024-05-01",rt(c,"for","endDate"),rt(m,"type","date"),rt(m,"id","endDate"),m.value="2024-05-30",rt(i,"class","inputs"),rt(y,"id","TimeSeries"),rt(y,"width","200"),rt(y,"height","50"),rt(t,"class","container")},m(w,M){bt(w,t,M),B(t,i),B(i,n),B(i,r),B(i,l),B(i,h),B(i,c),B(i,p),B(i,m),B(t,g),B(t,y),e[6](y),x||(v=[ce(l,"change",e[4]),ce(m,"change",e[5])],x=!0)},p:Gt,i:Gt,o:Gt,d(w){w&&W(t),e[6](null),x=!1,no(v)}}}function bk(e,t,i){ye.register(gi,Sn,wn);let n,o,r=new Date("2024-05-01"),l=new Date("2024-05-30"),h={},c={};const d=["SalesOrderCreationDate","OrderQuantity"];function p(){console.log("Date updated "+r+" "+l),r<l?(console.log("Start date is behind of end date, updating chart"),fu(c,r,l,h,...d),i(0,o.data.labels=h[d[0]],o),i(0,o.data.datasets[0].data=h[d[1]],o),o.update()):r>l&&console.log("Start date is ahead of end date")}async function m(){self.console.log("Inside chart"),c=await vr("Sales",...d),fu(c,r,l,h,...d),n=o.getContext("2d"),i(0,o=new ye(n,{type:"line",data:{labels:h[d[0]],datasets:[{label:"Daily Sales",data:h[d[1]],backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",borderWidth:2}]},options:{plugins:{datalabels:{anchor:"end",align:"end"},title:{display:!0,text:"Daily Sales  Quantity",font:{size:16,weight:"bold"}}},scales:{x:{type:"time",time:{unit:"day",displayFormats:{day:"DD-MM-YYYY"}},ticks:{autoSkip:!1,maxRotation:45,minRotation:45},title:{display:!0,text:"Date"}},y:{title:{display:!0,text:"Quantity"}}}}}))}Tn(()=>{m()});const g=()=>{i(1,r=new Date(pu(new Date(event.target.value)))),p()},y=()=>{i(2,l=new Date(pu(new Date(event.target.value)))),p()};function x(v){ss[v?"unshift":"push"](()=>{o=v,i(0,o)})}return[o,r,l,p,g,y,x]}class xk extends Dn{constructor(t){super(),Ln(this,t,bk,vk,Pn,{})}}function wk(e){let t,i;return{c(){t=K("div"),i=K("canvas"),this.h()},l(n){t=X(n,"DIV",{class:!0});var o=at(t);i=X(o,"CANVAS",{id:!0,width:!0,height:!0}),at(i).forEach(W),o.forEach(W),this.h()},h(){rt(i,"id","Correlation"),rt(i,"width",200),rt(i,"height",50),rt(t,"class","container")},m(n,o){bt(n,t,o),B(t,i),e[1](i)},p:Gt,i:Gt,o:Gt,d(n){n&&W(t),e[1](null)}}}function kk(e,t,i){ye.register(wn,Sn,Rl,zl);let n,o,r=[20,10,5,2,20,30,45],l=[1,2,3,4,5,6,7];async function h(){self.console.log("Inside scatter  chart"),n=o.getContext("2d"),i(0,o=new ye(n,{type:"scatter",data:{labels:l,datasets:[{label:"Time Series",data:r,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",borderWidth:2}]},options:{plugins:{datalabels:{anchor:"end",align:"end"}},scales:{x:{ticks:{autoSkip:!1,maxRotation:45,minRotation:45},title:{display:!0,text:"Date"}},y:{title:{display:!0,text:"Quantity"}}}}}))}Tn(()=>h());function c(d){ss[d?"unshift":"push"](()=>{o=d,i(0,o)})}return[o,c]}class Mk extends Dn{constructor(t){super(),Ln(this,t,kk,wk,Pn,{})}}function Sk(e){let t,i;return{c(){t=K("div"),i=K("canvas"),this.h()},l(n){t=X(n,"DIV",{class:!0});var o=at(t);i=X(o,"CANVAS",{id:!0,width:!0,height:!0}),at(i).forEach(W),o.forEach(W),this.h()},h(){rt(i,"id","TimeCost"),rt(i,"width",200),rt(i,"height",50),rt(t,"class","container")},m(n,o){bt(n,t,o),B(t,i),e[1](i)},p:Gt,i:Gt,o:Gt,d(n){n&&W(t),e[1](null)}}}function Pk(e,t,i){ye.register(Vs,gr,Sn,Rl,zl);let n,o,r=[20,10,5,2,20,30,45],l=["January","February","March","April","May","June","July"];async function h(){self.console.log("Inside chart"),n=o.getContext("2d"),i(0,o=new ye(n,{type:"bar",data:{labels:l,datasets:[{label:"Time Series",data:r,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",borderWidth:2}]},options:{plugins:{datalabels:{anchor:"end",align:"end"}},scales:{x:{ticks:{autoSkip:!1,maxRotation:45,minRotation:45},title:{display:!0,text:"Date"}},y:{title:{display:!0,text:"Quantity"}}}}}))}Tn(()=>h());function c(d){ss[d?"unshift":"push"](()=>{o=d,i(0,o)})}return[o,c]}class Tk extends Dn{constructor(t){super(),Ln(this,t,Pk,Sk,Pn,{})}}function Dk(e){let t,i,n,o="Select Month and Year:",r,l,h,c,d,p;return{c(){t=K("div"),i=K("div"),n=K("label"),n.textContent=o,r=_t(),l=K("input"),h=_t(),c=K("canvas"),this.h()},l(m){t=X(m,"DIV",{class:!0});var g=at(t);i=X(g,"DIV",{class:!0});var y=at(i);n=X(y,"LABEL",{for:!0,"data-svelte-h":!0}),je(n)!=="svelte-65ug9t"&&(n.textContent=o),r=gt(y),l=X(y,"INPUT",{type:!0,id:!0}),y.forEach(W),h=gt(g),c=X(g,"CANVAS",{id:!0,width:!0,height:!0}),at(c).forEach(W),g.forEach(W),this.h()},h(){rt(n,"for","invDate"),rt(l,"type","month"),rt(l,"id","invDate"),rt(i,"class","inputs"),rt(c,"id","Inventory"),rt(c,"width","400"),rt(c,"height","400"),rt(t,"class","container")},m(m,g){bt(m,t,g),B(t,i),B(i,n),B(i,r),B(i,l),Qe(l,e[1]),B(t,h),B(t,c),e[5](c),d||(p=[ce(l,"input",e[3]),ce(l,"change",e[4])],d=!0)},p(m,[g]){g&2&&Qe(l,m[1])},i:Gt,o:Gt,d(m){m&&W(t),e[5](null),d=!1,no(p)}}}function Lk(e,t,i){let n,o,r={},l={};const h=["SnapshotDate","OnShelfInventoryQuantity","InTransitQuantity"];let c,d;function p(M,P,C,D,...O){console.log("extracting data between "+P+" and "+C);const I=M[O[0]].reduce((k,S,A)=>{try{const E=new Date(S);if(console.log(E),E.getMonth()==P.getMonth()&&E.getFullYear()==P.getFullYear()){const z=E.toDateString();k[z]=k[z]||{};for(let U=1;U<O.length;U++){const j=O[U];k[z][j]=(k[z][j]||0)+Number(M[j][A])}}}catch(E){console.error("Error parsing date:",E)}return k},{}),N=Object.keys(I).sort((k,S)=>new Date(k)-new Date(S));D[O[0]]=N;for(let k=1;k<O.length;k++){const S=O[k];D[S]=N.map(A=>I[A][S])}return G&&D[O[0]].forEach((k,S)=>{D[O[0]][S]=G(k).format("MM-DD-YYYY")}),1}function m(M,P){if(!(M&&P)){const C=new Date,D=(C.getMonth()+1).toString(),O=C.getFullYear().toString();i(1,d=O+"-"+D.padStart(2,"0")),c=new Date(parseInt(O),parseInt(D),0)}}function g(){console.log("Updating pi chart date");const[M,P]=d.split("-");c=new Date(parseInt(M),parseInt(P),0),console.log(M,P,c),p(r,c,c,l,...h);let C=l[h[1]],D=l[h[2]];C.length||D.length?(i(0,n.data.datasets[0].data=[C,D],n),n.update()):console.error("No data available for the selected month"),console.log(l)}async function y(){const M=document.getElementById("Inventory");m(),r=await vr("Inventory",...h),p(r,c,c,l,...h);let P=l[h[1]],C=l[h[2]];if((!P.length||!C.length)&&(P=33.33,C=33.33),M){o=n.getContext("2d");const D={labels:["On Shelf","In Transit"],datasets:[{data:[P,C],backgroundColor:["red","green","blue"],hoverBackgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)"],borderColor:"white",borderWidth:1}]};i(0,n=new ye(o,{type:"doughnut",data:D,options:{responsive:!1,maintainAspectRatio:!1,plugins:{title:{display:!0,text:"Inventory Quantity",font:{size:16,weight:"bold"}}}}}))}}Tn(()=>y());function x(){d=this.value,i(1,d)}const v=()=>{g()};function w(M){ss[M?"unshift":"push"](()=>{n=M,i(0,n)})}return[n,d,g,x,v,w]}class Ck extends Dn{constructor(t){super(),Ln(this,t,Lk,Dk,Pn,{})}}function Ok(e){let t,i,n,o="Start Month:",r,l,h,c,d="End Month:",p,m,g,y,x,v;return{c(){t=K("div"),i=K("div"),n=K("label"),n.textContent=o,r=_t(),l=K("input"),h=_t(),c=K("label"),c.textContent=d,p=_t(),m=K("input"),g=_t(),y=K("canvas"),this.h()},l(w){t=X(w,"DIV",{class:!0});var M=at(t);i=X(M,"DIV",{class:!0});var P=at(i);n=X(P,"LABEL",{for:!0,"data-svelte-h":!0}),je(n)!=="svelte-rkj9ue"&&(n.textContent=o),r=gt(P),l=X(P,"INPUT",{type:!0,id:!0}),h=gt(P),c=X(P,"LABEL",{for:!0,"data-svelte-h":!0}),je(c)!=="svelte-pms42o"&&(c.textContent=d),p=gt(P),m=X(P,"INPUT",{type:!0,id:!0}),P.forEach(W),g=gt(M),y=X(M,"CANVAS",{id:!0,width:!0,height:!0}),at(y).forEach(W),M.forEach(W),this.h()},h(){rt(n,"for","startDate"),rt(l,"type","month"),rt(l,"id","endDate"),rt(c,"for","endDate"),rt(m,"type","month"),rt(m,"id","startDate"),rt(i,"class","inputs"),rt(y,"id","TimeSeriesMonthly"),rt(y,"width","200"),rt(y,"height","50"),rt(t,"class","container")},m(w,M){bt(w,t,M),B(t,i),B(i,n),B(i,r),B(i,l),Qe(l,e[1]),B(i,h),B(i,c),B(i,p),B(i,m),Qe(m,e[2]),B(t,g),B(t,y),e[8](y),x||(v=[ce(l,"input",e[4]),ce(l,"change",e[5]),ce(m,"input",e[6]),ce(m,"change",e[7])],x=!0)},p(w,[M]){M&2&&Qe(l,w[1]),M&4&&Qe(m,w[2])},i:Gt,o:Gt,d(w){w&&W(t),e[8](null),x=!1,no(v)}}}function Ek(e,t,i){ye.register(gi,Sn,wn);let n,o,r=new Date("2024-03-01"),l=new Date("2024-04-01"),h,c,d,p,m={},g={},y={},x={};const v=["RequestedDeliveryMonth","Quantity"],w=["SalesOrderCreationDate","OrderQuantity"];function M(A,E,z,U,...j){console.log("extracting data between "+E+" and "+z);const st=A[j[0]].reduce((H,V,Z)=>{try{const J=new Date(V);if(J.getMonth()>=E.getMonth()&&J.getFullYear()==E.getFullYear()&&J.getMonth()<=z.getMonth()&&J.getFullYear()==E.getFullYear()){const q=J.getMonth().toString(),dt=J.getFullYear().toString(),ct=new Date(parseInt(dt),parseInt(q),1);H[ct]=H[ct]||{};for(let ot=1;ot<j.length;ot++){const it=j[ot];H[ct][it]=(H[ct][it]||0)+Number(A[it][Z])}}}catch(J){console.error("Error parsing date:",J)}return H},{}),tt=Object.keys(st).sort((H,V)=>new Date(H)-new Date(V));U[j[0]]=tt;for(let H=1;H<j.length;H++){const V=j[H];U[V]=tt.map(Z=>st[Z][V])}return G&&U[j[0]].forEach((H,V)=>{U[j[0]][V]=G(H).format("MM-DD-YYYY")}),1}function P(){console.log("Updating pi chart date");const[A,E]=d.split("-"),[z,U]=p.split("-");h=new Date(parseInt(A),parseInt(E),0),c=new Date(parseInt(z),parseInt(U),0),c.setDate(1),h.setDate(1),h<c?(console.log("Start date is behind of end date, updating chart"),M(x,h,c,y,...v),M(m,h,c,g,...w),i(0,o.data.labels=g[w[0]],o),i(0,o.data.datasets[0].data=g[w[1]],o),i(0,o.data.datasets[1].data=y[v[1]],o),o.update()):r>l&&console.log("Start date is ahead of end date")}function C(A,E){if(!(A&&E)){const z=new Date,U=(z.getMonth()+1).toString(),j=(z.getMonth()+2).toString(),st=z.getFullYear().toString();i(1,d=st+"-"+U.padStart(2,"0")),i(2,p=st+"-"+j.padStart(2,"0")),h=new Date(parseInt(st),parseInt(U),0),c=new Date(parseInt(st),parseInt(j),0)}}async function D(){console.log("Creating Monthly Data Chart"),C(),console.log(typeof h),x=await vr("Forecast",...v),M(x,h,c,y,...v),m=await vr("Sales",...w),M(m,h,c,g,...w),console.log(y),n=o.getContext("2d"),i(0,o=new ye(n,{type:"line",data:{labels:g[w[0]],datasets:[{label:"Monthly Sales",data:g[w[1]],backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",borderWidth:2},{label:"Forecasted Sales",data:y[v[1]],backgroundColor:"rgb(99, 255, 132)",borderColor:"rgb(99, 255, 132)",borderWidth:2}]},options:{plugins:{datalabels:{anchor:"end",align:"end"}},plugins:{title:{display:!0,text:"Monthly Sales and Forcasted Quantity",font:{size:16,weight:"bold"}}},scales:{x:{type:"time",time:{unit:"month",displayFormats:{day:"MM-YYYY"}},ticks:{autoSkip:!1,maxRotation:45,minRotation:45},title:{display:!0,text:"Date"}},y:{title:{display:!0,text:"Quantity"}}}}}))}Tn(()=>{D()});function O(){d=this.value,i(1,d)}const I=()=>{P()};function N(){p=this.value,i(2,p)}const k=()=>{P()};function S(A){ss[A?"unshift":"push"](()=>{o=A,i(0,o)})}return[o,d,p,P,O,I,N,k,S]}class Ak extends Dn{constructor(t){super(),Ln(this,t,Ek,Ok,Pn,{})}}function mu(e,t,i){const n=e.slice();return n[13]=t[i].id,n[14]=t[i].label,n}function _u(e,t,i){const n=e.slice();return n[27]=t[i].file,n[28]=t[i].keys,n[29]=t[i].data,n}function gu(e,t,i){const n=e.slice();return n[32]=t[i],n}function yu(e,t,i){const n=e.slice();return n[35]=t[i],n}function vu(e,t,i){const n=e.slice();return n[35]=t[i],n}function bu(e,t,i){const n=e.slice();return n[35]=t[i],n}function xu(e,t,i){const n=e.slice();return n[27]=t[i].file,n}function wu(e,t,i){const n=e.slice();return n[17]=t[i].Date,n[18]=t[i].PlantKey,n[19]=t[i].GIQ,n[20]=t[i].OSQ,n[21]=t[i].ITQ,n[22]=t[i].FQ,n[23]=t[i].lat,n[24]=t[i].lon,n}function ku(e,t,i){const n=e.slice();return n[13]=t[i].id,n[14]=t[i].label,n}function Mu(e){let t,i,n=e[14]+"",o,r,l,h,c;function d(){return e[8](e[13])}return{c(){t=K("li"),i=K("button"),o=Wt(n),l=_t(),this.h()},l(p){t=X(p,"LI",{class:!0});var m=at(t);i=X(m,"BUTTON",{role:!0,"aria-selected":!0,class:!0});var g=at(i);o=Yt(g,n),g.forEach(W),l=gt(m),m.forEach(W),this.h()},h(){rt(i,"role","tab"),rt(i,"aria-selected",r=e[3]===e[13]),rt(i,"class","svelte-3b8hzr"),Rh(i,"selected",e[3]===e[13]),rt(t,"class","svelte-3b8hzr")},m(p,m){bt(p,t,m),B(t,i),B(i,o),B(t,l),h||(c=ce(i,"click",d),h=!0)},p(p,m){e=p,m[0]&8&&r!==(r=e[3]===e[13])&&rt(i,"aria-selected",r),m[0]&40&&Rh(i,"selected",e[3]===e[13])},d(p){p&&W(t),h=!1,c()}}}function Su(e){let t,i,n,o,r;const l=[Wk,Bk,Nk,Fk,zk,Rk,Ik],h=[];function c(d,p){return d[13]==="map"?0:d[13]==="timeSeries"?1:d[13]==="correlations"?2:d[13]==="plantcustomerdemand"?3:d[13]==="inventoryquantities"?4:d[13]==="timecost"?5:d[13]==="news"?6:-1}return~(i=c(e))&&(n=h[i]=l[i](e)),{c(){t=K("section"),n&&n.c(),o=_t(),this.h()},l(d){t=X(d,"SECTION",{class:!0});var p=at(t);n&&n.l(p),o=gt(p),p.forEach(W),this.h()},h(){rt(t,"class","content svelte-3b8hzr")},m(d,p){bt(d,t,p),~i&&h[i].m(t,null),B(t,o),r=!0},p(d,p){n&&n.p(d,p)},i(d){r||(Re(n),r=!0)},o(d){ii(n),r=!1},d(d){d&&W(t),~i&&h[i].d()}}}function Ik(e){let t,i,n="Data Summary",o,r,l,h="Select a file",c,d,p,m=he(e[0]),g=[];for(let v=0;v<m.length;v+=1)g[v]=Pu(xu(e,m,v));let y=he(e[0]),x=[];for(let v=0;v<y.length;v+=1)x[v]=Eu(_u(e,y,v));return{c(){t=K("div"),i=K("h1"),i.textContent=n,o=_t(),r=K("select"),l=K("option"),l.textContent=h;for(let v=0;v<g.length;v+=1)g[v].c();c=_t();for(let v=0;v<x.length;v+=1)x[v].c();this.h()},l(v){t=X(v,"DIV",{});var w=at(t);i=X(w,"H1",{"data-svelte-h":!0}),je(i)!=="svelte-u7ocko"&&(i.textContent=n),o=gt(w),r=X(w,"SELECT",{});var M=at(r);l=X(M,"OPTION",{"data-svelte-h":!0}),je(l)!=="svelte-px9icf"&&(l.textContent=h);for(let P=0;P<g.length;P+=1)g[P].l(M);M.forEach(W),c=gt(w);for(let P=0;P<x.length;P+=1)x[P].l(w);w.forEach(W),this.h()},h(){l.__value="",Qe(l,l.__value),e[1]===void 0&&Ru(()=>e[9].call(r))},m(v,w){bt(v,t,w),B(t,i),B(t,o),B(t,r),B(r,l);for(let M=0;M<g.length;M+=1)g[M]&&g[M].m(r,null);nr(r,e[1],!0),B(t,c);for(let M=0;M<x.length;M+=1)x[M]&&x[M].m(t,null);d||(p=[ce(r,"change",e[9]),ce(r,"change",e[4])],d=!0)},p(v,w){if(w[0]&1){m=he(v[0]);let M;for(M=0;M<m.length;M+=1){const P=xu(v,m,M);g[M]?g[M].p(P,w):(g[M]=Pu(P),g[M].c(),g[M].m(r,null))}for(;M<g.length;M+=1)g[M].d(1);g.length=m.length}if(w[0]&3&&nr(r,v[1]),w[0]&3){y=he(v[0]);let M;for(M=0;M<y.length;M+=1){const P=_u(v,y,M);x[M]?x[M].p(P,w):(x[M]=Eu(P),x[M].c(),x[M].m(t,null))}for(;M<x.length;M+=1)x[M].d(1);x.length=y.length}},i:Gt,o:Gt,d(v){v&&W(t),yi(g,v),yi(x,v),d=!1,no(p)}}}function Rk(e){let t,i=e[14]+"",n,o,r,l,h,c;return h=new Tk({}),{c(){t=K("h2"),n=Wt(i),o=Wt(" Content"),r=_t(),l=K("div"),Xn(h.$$.fragment)},l(d){t=X(d,"H2",{});var p=at(t);n=Yt(p,i),o=Yt(p," Content"),p.forEach(W),r=gt(d),l=X(d,"DIV",{});var m=at(l);Qn(h.$$.fragment,m),m.forEach(W)},m(d,p){bt(d,t,p),B(t,n),B(t,o),bt(d,r,p),bt(d,l,p),Jn(h,l,null),c=!0},p:Gt,i(d){c||(Re(h.$$.fragment,d),c=!0)},o(d){ii(h.$$.fragment,d),c=!1},d(d){d&&(W(t),W(r),W(l)),ts(h)}}}function zk(e){let t,i,n;return i=new Ck({}),{c(){t=K("div"),Xn(i.$$.fragment)},l(o){t=X(o,"DIV",{});var r=at(t);Qn(i.$$.fragment,r),r.forEach(W)},m(o,r){bt(o,t,r),Jn(i,t,null),n=!0},p:Gt,i(o){n||(Re(i.$$.fragment,o),n=!0)},o(o){ii(i.$$.fragment,o),n=!1},d(o){o&&W(t),ts(i)}}}function Fk(e){let t,i=e[14]+"",n,o,r,l,h,c=e[14]+"",d,p,m,g,y,x="Merged Data Summary",v;function w(C,D){return C[2].length>0?Hk:Yk}let M=w(e),P=M(e);return{c(){t=K("h2"),n=Wt(i),o=Wt(" Content"),r=_t(),l=K("p"),h=Wt("This is the content for the "),d=Wt(c),p=Wt(" tab."),m=_t(),g=K("div"),y=K("h1"),y.textContent=x,v=_t(),P.c()},l(C){t=X(C,"H2",{});var D=at(t);n=Yt(D,i),o=Yt(D," Content"),D.forEach(W),r=gt(C),l=X(C,"P",{});var O=at(l);h=Yt(O,"This is the content for the "),d=Yt(O,c),p=Yt(O," tab."),O.forEach(W),m=gt(C),g=X(C,"DIV",{});var I=at(g);y=X(I,"H1",{"data-svelte-h":!0}),je(y)!=="svelte-111zjoq"&&(y.textContent=x),v=gt(I),P.l(I),I.forEach(W)},m(C,D){bt(C,t,D),B(t,n),B(t,o),bt(C,r,D),bt(C,l,D),B(l,h),B(l,d),B(l,p),bt(C,m,D),bt(C,g,D),B(g,y),B(g,v),P.m(g,null)},p(C,D){M===(M=w(C))&&P?P.p(C,D):(P.d(1),P=M(C),P&&(P.c(),P.m(g,null)))},i:Gt,o:Gt,d(C){C&&(W(t),W(r),W(l),W(m),W(g)),P.d()}}}function Nk(e){let t,i=e[14]+"",n,o,r,l,h,c;return h=new Mk({}),{c(){t=K("h2"),n=Wt(i),o=Wt(" Content"),r=_t(),l=K("div"),Xn(h.$$.fragment)},l(d){t=X(d,"H2",{});var p=at(t);n=Yt(p,i),o=Yt(p," Content"),p.forEach(W),r=gt(d),l=X(d,"DIV",{});var m=at(l);Qn(h.$$.fragment,m),m.forEach(W)},m(d,p){bt(d,t,p),B(t,n),B(t,o),bt(d,r,p),bt(d,l,p),Jn(h,l,null),c=!0},p:Gt,i(d){c||(Re(h.$$.fragment,d),c=!0)},o(d){ii(h.$$.fragment,d),c=!1},d(d){d&&(W(t),W(r),W(l)),ts(h)}}}function Bk(e){let t,i,n,o,r,l;return i=new xk({}),r=new Ak({}),{c(){t=K("div"),Xn(i.$$.fragment),n=_t(),o=K("div"),Xn(r.$$.fragment)},l(h){t=X(h,"DIV",{});var c=at(t);Qn(i.$$.fragment,c),c.forEach(W),n=gt(h),o=X(h,"DIV",{});var d=at(o);Qn(r.$$.fragment,d),d.forEach(W)},m(h,c){bt(h,t,c),Jn(i,t,null),bt(h,n,c),bt(h,o,c),Jn(r,o,null),l=!0},p:Gt,i(h){l||(Re(i.$$.fragment,h),Re(r.$$.fragment,h),l=!0)},o(h){ii(i.$$.fragment,h),ii(r.$$.fragment,h),l=!1},d(h){h&&(W(t),W(n),W(o)),ts(i),ts(r)}}}function Wk(e){let t,i,n="Inventory Quantities by Date",o,r,l;return r=new dv({}),{c(){t=K("div"),i=K("h1"),i.textContent=n,o=_t(),Xn(r.$$.fragment),this.h()},l(h){t=X(h,"DIV",{});var c=at(t);i=X(c,"H1",{style:!0,"data-svelte-h":!0}),je(i)!=="svelte-mhcad9"&&(i.textContent=n),o=gt(c),Qn(r.$$.fragment,c),c.forEach(W),this.h()},h(){ks(i,"padding","0px"),ks(i,"margin","1px"),ks(i,"margin-top","2px"),ks(i,"margin-bottom","1px"),ks(i,"align","center ")},m(h,c){bt(h,t,c),B(t,i),B(t,o),Jn(r,t,null),l=!0},p:Gt,i(h){l||(Re(r.$$.fragment,h),l=!0)},o(h){ii(r.$$.fragment,h),l=!1},d(h){h&&W(t),ts(r)}}}function Pu(e){let t,i=e[27]+"",n,o;return{c(){t=K("option"),n=Wt(i),this.h()},l(r){t=X(r,"OPTION",{});var l=at(t);n=Yt(l,i),l.forEach(W),this.h()},h(){t.__value=o=e[27],Qe(t,t.__value)},m(r,l){bt(r,t,l),B(t,n)},p(r,l){l[0]&1&&i!==(i=r[27]+"")&&Oe(n,i),l[0]&1&&o!==(o=r[27])&&(t.__value=o,Qe(t,t.__value))},d(r){r&&W(t)}}}function Tu(e){let t,i,n=e[27]+"",o,r,l,h,c,d,p,m,g,y,x=he(e[28]),v=[];for(let D=0;D<x.length;D+=1)v[D]=Du(bu(e,x,D));let w=he(e[28]),M=[];for(let D=0;D<w.length;D+=1)M[D]=Lu(vu(e,w,D));let P=he(e[29]),C=[];for(let D=0;D<P.length;D+=1)C[D]=Ou(gu(e,P,D));return{c(){t=K("div"),i=K("h3"),o=Wt(n),r=_t(),l=K("ul");for(let D=0;D<v.length;D+=1)v[D].c();h=_t(),c=K("table"),d=K("thead"),p=K("tr");for(let D=0;D<M.length;D+=1)M[D].c();m=_t(),g=K("tbody");for(let D=0;D<C.length;D+=1)C[D].c();y=_t()},l(D){t=X(D,"DIV",{});var O=at(t);i=X(O,"H3",{});var I=at(i);o=Yt(I,n),I.forEach(W),r=gt(O),l=X(O,"UL",{});var N=at(l);for(let z=0;z<v.length;z+=1)v[z].l(N);N.forEach(W),h=gt(O),c=X(O,"TABLE",{});var k=at(c);d=X(k,"THEAD",{});var S=at(d);p=X(S,"TR",{});var A=at(p);for(let z=0;z<M.length;z+=1)M[z].l(A);A.forEach(W),S.forEach(W),m=gt(k),g=X(k,"TBODY",{});var E=at(g);for(let z=0;z<C.length;z+=1)C[z].l(E);E.forEach(W),k.forEach(W),y=gt(O),O.forEach(W)},m(D,O){bt(D,t,O),B(t,i),B(i,o),B(t,r),B(t,l);for(let I=0;I<v.length;I+=1)v[I]&&v[I].m(l,null);B(t,h),B(t,c),B(c,d),B(d,p);for(let I=0;I<M.length;I+=1)M[I]&&M[I].m(p,null);B(c,m),B(c,g);for(let I=0;I<C.length;I+=1)C[I]&&C[I].m(g,null);B(t,y)},p(D,O){if(O[0]&1&&n!==(n=D[27]+"")&&Oe(o,n),O[0]&1){x=he(D[28]);let I;for(I=0;I<x.length;I+=1){const N=bu(D,x,I);v[I]?v[I].p(N,O):(v[I]=Du(N),v[I].c(),v[I].m(l,null))}for(;I<v.length;I+=1)v[I].d(1);v.length=x.length}if(O[0]&1){w=he(D[28]);let I;for(I=0;I<w.length;I+=1){const N=vu(D,w,I);M[I]?M[I].p(N,O):(M[I]=Lu(N),M[I].c(),M[I].m(p,null))}for(;I<M.length;I+=1)M[I].d(1);M.length=w.length}if(O[0]&1){P=he(D[29]);let I;for(I=0;I<P.length;I+=1){const N=gu(D,P,I);C[I]?C[I].p(N,O):(C[I]=Ou(N),C[I].c(),C[I].m(g,null))}for(;I<C.length;I+=1)C[I].d(1);C.length=P.length}},d(D){D&&W(t),yi(v,D),yi(M,D),yi(C,D)}}}function Du(e){let t,i=e[35]+"",n;return{c(){t=K("li"),n=Wt(i),this.h()},l(o){t=X(o,"LI",{class:!0});var r=at(t);n=Yt(r,i),r.forEach(W),this.h()},h(){rt(t,"class","svelte-3b8hzr")},m(o,r){bt(o,t,r),B(t,n)},p(o,r){r[0]&1&&i!==(i=o[35]+"")&&Oe(n,i)},d(o){o&&W(t)}}}function Lu(e){let t,i=e[35]+"",n;return{c(){t=K("th"),n=Wt(i)},l(o){t=X(o,"TH",{});var r=at(t);n=Yt(r,i),r.forEach(W)},m(o,r){bt(o,t,r),B(t,n)},p(o,r){r[0]&1&&i!==(i=o[35]+"")&&Oe(n,i)},d(o){o&&W(t)}}}function Cu(e){let t,i=e[32][e[35]]+"",n;return{c(){t=K("td"),n=Wt(i)},l(o){t=X(o,"TD",{});var r=at(t);n=Yt(r,i),r.forEach(W)},m(o,r){bt(o,t,r),B(t,n)},p(o,r){r[0]&1&&i!==(i=o[32][o[35]]+"")&&Oe(n,i)},d(o){o&&W(t)}}}function Ou(e){let t,i,n=he(e[28]),o=[];for(let r=0;r<n.length;r+=1)o[r]=Cu(yu(e,n,r));return{c(){t=K("tr");for(let r=0;r<o.length;r+=1)o[r].c();i=_t()},l(r){t=X(r,"TR",{});var l=at(t);for(let h=0;h<o.length;h+=1)o[h].l(l);i=gt(l),l.forEach(W)},m(r,l){bt(r,t,l);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(t,null);B(t,i)},p(r,l){if(l[0]&1){n=he(r[28]);let h;for(h=0;h<n.length;h+=1){const c=yu(r,n,h);o[h]?o[h].p(c,l):(o[h]=Cu(c),o[h].c(),o[h].m(t,i))}for(;h<o.length;h+=1)o[h].d(1);o.length=n.length}},d(r){r&&W(t),yi(o,r)}}}function Eu(e){let t,i=e[27]===e[1]&&Tu(e);return{c(){i&&i.c(),t=Kn()},l(n){i&&i.l(n),t=Kn()},m(n,o){i&&i.m(n,o),bt(n,t,o)},p(n,o){n[27]===n[1]?i?i.p(n,o):(i=Tu(n),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(n){n&&W(t),i&&i.d(n)}}}function Yk(e){let t,i="No data available.";return{c(){t=K("p"),t.textContent=i},l(n){t=X(n,"P",{"data-svelte-h":!0}),je(t)!=="svelte-pdq8ks"&&(t.textContent=i)},m(n,o){bt(n,t,o)},p:Gt,d(n){n&&W(t)}}}function Hk(e){let t,i,n="<tr><th>Date</th> <th>Plant Key</th> <th>GIQ</th> <th>OSQ</th> <th>ITQ</th> <th>FQ</th> <th>Latitude</th> <th>Longitude</th></tr>",o,r,l=he(e[2]),h=[];for(let c=0;c<l.length;c+=1)h[c]=Au(wu(e,l,c));return{c(){t=K("table"),i=K("thead"),i.innerHTML=n,o=_t(),r=K("tbody");for(let c=0;c<h.length;c+=1)h[c].c()},l(c){t=X(c,"TABLE",{});var d=at(t);i=X(d,"THEAD",{"data-svelte-h":!0}),je(i)!=="svelte-5umbfl"&&(i.innerHTML=n),o=gt(d),r=X(d,"TBODY",{});var p=at(r);for(let m=0;m<h.length;m+=1)h[m].l(p);p.forEach(W),d.forEach(W)},m(c,d){bt(c,t,d),B(t,i),B(t,o),B(t,r);for(let p=0;p<h.length;p+=1)h[p]&&h[p].m(r,null)},p(c,d){if(d[0]&4){l=he(c[2]);let p;for(p=0;p<l.length;p+=1){const m=wu(c,l,p);h[p]?h[p].p(m,d):(h[p]=Au(m),h[p].c(),h[p].m(r,null))}for(;p<h.length;p+=1)h[p].d(1);h.length=l.length}},d(c){c&&W(t),yi(h,c)}}}function Au(e){let t,i,n=e[17]+"",o,r,l,h=e[18]+"",c,d,p,m=e[19]+"",g,y,x,v=e[20]+"",w,M,P,C=e[21]+"",D,O,I,N=e[22]+"",k,S,A,E=e[23]+"",z,U,j,st=e[24]+"",tt,H;return{c(){t=K("tr"),i=K("td"),o=Wt(n),r=_t(),l=K("td"),c=Wt(h),d=_t(),p=K("td"),g=Wt(m),y=_t(),x=K("td"),w=Wt(v),M=_t(),P=K("td"),D=Wt(C),O=_t(),I=K("td"),k=Wt(N),S=_t(),A=K("td"),z=Wt(E),U=_t(),j=K("td"),tt=Wt(st),H=_t()},l(V){t=X(V,"TR",{});var Z=at(t);i=X(Z,"TD",{});var J=at(i);o=Yt(J,n),J.forEach(W),r=gt(Z),l=X(Z,"TD",{});var ft=at(l);c=Yt(ft,h),ft.forEach(W),d=gt(Z),p=X(Z,"TD",{});var q=at(p);g=Yt(q,m),q.forEach(W),y=gt(Z),x=X(Z,"TD",{});var dt=at(x);w=Yt(dt,v),dt.forEach(W),M=gt(Z),P=X(Z,"TD",{});var ct=at(P);D=Yt(ct,C),ct.forEach(W),O=gt(Z),I=X(Z,"TD",{});var ot=at(I);k=Yt(ot,N),ot.forEach(W),S=gt(Z),A=X(Z,"TD",{});var it=at(A);z=Yt(it,E),it.forEach(W),U=gt(Z),j=X(Z,"TD",{});var Et=at(j);tt=Yt(Et,st),Et.forEach(W),H=gt(Z),Z.forEach(W)},m(V,Z){bt(V,t,Z),B(t,i),B(i,o),B(t,r),B(t,l),B(l,c),B(t,d),B(t,p),B(p,g),B(t,y),B(t,x),B(x,w),B(t,M),B(t,P),B(P,D),B(t,O),B(t,I),B(I,k),B(t,S),B(t,A),B(A,z),B(t,U),B(t,j),B(j,tt),B(t,H)},p(V,Z){Z[0]&4&&n!==(n=V[17]+"")&&Oe(o,n),Z[0]&4&&h!==(h=V[18]+"")&&Oe(c,h),Z[0]&4&&m!==(m=V[19]+"")&&Oe(g,m),Z[0]&4&&v!==(v=V[20]+"")&&Oe(w,v),Z[0]&4&&C!==(C=V[21]+"")&&Oe(D,C),Z[0]&4&&N!==(N=V[22]+"")&&Oe(k,N),Z[0]&4&&E!==(E=V[23]+"")&&Oe(z,E),Z[0]&4&&st!==(st=V[24]+"")&&Oe(tt,st)},d(V){V&&W(t)}}}function Iu(e){let t,i,n=e[3]===e[13]&&Su(e);return{c(){n&&n.c(),t=Kn()},l(o){n&&n.l(o),t=Kn()},m(o,r){n&&n.m(o,r),bt(o,t,r),i=!0},p(o,r){o[3]===o[13]?n?(n.p(o,r),r[0]&8&&Re(n,1)):(n=Su(o),n.c(),Re(n,1),n.m(t.parentNode,t)):n&&(Nu(),ii(n,1,1,()=>{n=null}),Fu())},i(o){i||(Re(n),i=!0)},o(o){ii(n),i=!1},d(o){o&&W(t),n&&n.d(o)}}}function Vk(e){let t,i,n,o,r,l,h,c=he(e[5]),d=[];for(let y=0;y<c.length;y+=1)d[y]=Mu(ku(e,c,y));let p=he(e[5]),m=[];for(let y=0;y<p.length;y+=1)m[y]=Iu(mu(e,p,y));const g=y=>ii(m[y],1,1,()=>{m[y]=null});return{c(){t=K("meta"),i=_t(),n=K("nav"),o=K("ul");for(let y=0;y<d.length;y+=1)d[y].c();r=_t();for(let y=0;y<m.length;y+=1)m[y].c();l=Kn(),this.h()},l(y){const x=em("svelte-ov818q",document.head);t=X(x,"META",{name:!0,content:!0}),x.forEach(W),i=gt(y),n=X(y,"NAV",{class:!0});var v=at(n);o=X(v,"UL",{role:!0,class:!0});var w=at(o);for(let M=0;M<d.length;M+=1)d[M].l(w);w.forEach(W),v.forEach(W),r=gt(y);for(let M=0;M<m.length;M+=1)m[M].l(y);l=Kn(),this.h()},h(){document.title="Content",rt(t,"name","description"),rt(t,"content","Main content"),rt(o,"role","tablist"),rt(o,"class","tabs-container svelte-3b8hzr"),rt(n,"class","svelte-3b8hzr")},m(y,x){B(document.head,t),bt(y,i,x),bt(y,n,x),B(n,o);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(o,null);bt(y,r,x);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(y,x);bt(y,l,x),h=!0},p(y,x){if(x[0]&168){c=he(y[5]);let v;for(v=0;v<c.length;v+=1){const w=ku(y,c,v);d[v]?d[v].p(w,x):(d[v]=Mu(w),d[v].c(),d[v].m(o,null))}for(;v<d.length;v+=1)d[v].d(1);d.length=c.length}if(x[0]&63){p=he(y[5]);let v;for(v=0;v<p.length;v+=1){const w=mu(y,p,v);m[v]?(m[v].p(w,x),Re(m[v],1)):(m[v]=Iu(w),m[v].c(),Re(m[v],1),m[v].m(l.parentNode,l))}for(Nu(),v=p.length;v<m.length;v+=1)g(v);Fu()}},i(y){if(!h){for(let x=0;x<p.length;x+=1)Re(m[x]);h=!0}},o(y){m=m.filter(Boolean);for(let x=0;x<m.length;x+=1)ii(m[x]);h=!1},d(y){y&&(W(i),W(n),W(r),W(l)),W(t),yi(d,y),yi(m,y)}}}function Zk(e,t,i){let n;var o=this&&this.__awaiter||function(w,M,P,C){function D(O){return O instanceof P?O:new P(function(I){I(O)})}return new(P||(P=Promise))(function(O,I){function N(A){try{S(C.next(A))}catch(E){I(E)}}function k(A){try{S(C.throw(A))}catch(E){I(E)}}function S(A){A.done?O(A.value):D(A.value).then(N,k)}S((C=C.apply(w,M||[])).next())})};let r=[],l=[],h=[],c="Customers.csv",d=[];Tn(()=>o(void 0,void 0,void 0,function*(){try{i(0,r=yield gl()),l=yield Rd(),h=yield hr(),i(2,d=yield lv())}catch(w){console.error("Error:",w)}}));function p(w){return o(this,void 0,void 0,function*(){i(1,c=w.target.value)})}const m=[{id:"map",label:"Map"},{id:"timeSeries",label:"Time Series Plot"},{id:"correlations",label:"Correlations"},{id:"plantcustomerdemand",label:"Plant Customer Demand"},{id:"inventoryquantities",label:"Inventory Quantities"},{id:"timecost",label:"Time-Cost"},{id:"news",label:"News"}],g=nm("map");tm(e,g,w=>i(3,n=w));function y(w){g.set(w)}const x=w=>y(w);function v(){c=zu(this),i(1,c),i(0,r)}return[r,c,d,n,p,m,g,y,x,v]}class Qk extends Dn{constructor(t){super(),Ln(this,t,Zk,Vk,Pn,{},null,[-1,-1])}}export{Qk as component,Kk as universal};
